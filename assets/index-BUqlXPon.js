(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function r0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var km={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function FA(){if(rE)return Zl;rE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Zl.Fragment=e,Zl.jsx=n,Zl.jsxs=n,Zl}var sE;function GA(){return sE||(sE=1,km.exports=FA()),km.exports}var S=GA(),Mm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function KA(){if(aE)return Re;aE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,z={};function P(D,re,ue){this.props=D,this.context=re,this.refs=z,this.updater=ue||M}P.prototype.isReactComponent={},P.prototype.setState=function(D,re){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,re,"setState")},P.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function q(){}q.prototype=P.prototype;function ne(D,re,ue){this.props=D,this.context=re,this.refs=z,this.updater=ue||M}var Q=ne.prototype=new q;Q.constructor=ne,U(Q,P.prototype),Q.isPureReactComponent=!0;var ie=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function N(D,re,ue,ae,ye,Ce){return ue=Ce.ref,{$$typeof:i,type:D,key:re,ref:ue!==void 0?ue:null,props:Ce}}function R(D,re){return N(D.type,re,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function O(D){var re={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ue){return re[ue]})}var V=/\/+/g;function j(D,re){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):re.toString(36)}function x(){}function ht(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(x,x):(D.status="pending",D.then(function(re){D.status==="pending"&&(D.status="fulfilled",D.value=re)},function(re){D.status==="pending"&&(D.status="rejected",D.reason=re)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function We(D,re,ue,ae,ye){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var we=!1;if(D===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(D.$$typeof){case i:case e:we=!0;break;case E:return we=D._init,We(we(D._payload),re,ue,ae,ye)}}if(we)return ye=ye(D),we=ae===""?"."+j(D,0):ae,ie(ye)?(ue="",we!=null&&(ue=we.replace(V,"$&/")+"/"),We(ye,re,ue,"",function(Jn){return Jn})):ye!=null&&(I(ye)&&(ye=R(ye,ue+(ye.key==null||D&&D.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+we)),re.push(ye)),1;we=0;var kt=ae===""?".":ae+":";if(ie(D))for(var Je=0;Je<D.length;Je++)ae=D[Je],Ce=kt+j(ae,Je),we+=We(ae,re,ue,Ce,ye);else if(Je=A(D),typeof Je=="function")for(D=Je.call(D),Je=0;!(ae=D.next()).done;)ae=ae.value,Ce=kt+j(ae,Je++),we+=We(ae,re,ue,Ce,ye);else if(Ce==="object"){if(typeof D.then=="function")return We(ht(D),re,ue,ae,ye);throw re=String(D),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(D,re,ue){if(D==null)return D;var ae=[],ye=0;return We(D,ae,"","",function(Ce){return re.call(ue,Ce,ye++)}),ae}function le(D){if(D._status===-1){var re=D._result;re=re(),re.then(function(ue){(D._status===0||D._status===-1)&&(D._status=1,D._result=ue)},function(ue){(D._status===0||D._status===-1)&&(D._status=2,D._result=ue)}),D._status===-1&&(D._status=0,D._result=re)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Pe(){}return Re.Children={map:X,forEach:function(D,re,ue){X(D,function(){re.apply(this,arguments)},ue)},count:function(D){var re=0;return X(D,function(){re++}),re},toArray:function(D){return X(D,function(re){return re})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=P,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ne,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return se.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,re,ue){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ae=U({},D.props),ye=D.key,Ce=void 0;if(re!=null)for(we in re.ref!==void 0&&(Ce=void 0),re.key!==void 0&&(ye=""+re.key),re)!he.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(ae[we]=re[we]);var we=arguments.length-2;if(we===1)ae.children=ue;else if(1<we){for(var kt=Array(we),Je=0;Je<we;Je++)kt[Je]=arguments[Je+2];ae.children=kt}return N(D.type,ye,void 0,void 0,Ce,ae)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,re,ue){var ae,ye={},Ce=null;if(re!=null)for(ae in re.key!==void 0&&(Ce=""+re.key),re)he.call(re,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=re[ae]);var we=arguments.length-2;if(we===1)ye.children=ue;else if(1<we){for(var kt=Array(we),Je=0;Je<we;Je++)kt[Je]=arguments[Je+2];ye.children=kt}if(D&&D.defaultProps)for(ae in we=D.defaultProps,we)ye[ae]===void 0&&(ye[ae]=we[ae]);return N(D,Ce,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=I,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:le}},Re.memo=function(D,re){return{$$typeof:g,type:D,compare:re===void 0?null:re}},Re.startTransition=function(D){var re=se.T,ue={};se.T=ue;try{var ae=D(),ye=se.S;ye!==null&&ye(ue,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Pe,me)}catch(Ce){me(Ce)}finally{se.T=re}},Re.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Re.use=function(D){return se.H.use(D)},Re.useActionState=function(D,re,ue){return se.H.useActionState(D,re,ue)},Re.useCallback=function(D,re){return se.H.useCallback(D,re)},Re.useContext=function(D){return se.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,re){return se.H.useDeferredValue(D,re)},Re.useEffect=function(D,re,ue){var ae=se.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(D,re)},Re.useId=function(){return se.H.useId()},Re.useImperativeHandle=function(D,re,ue){return se.H.useImperativeHandle(D,re,ue)},Re.useInsertionEffect=function(D,re){return se.H.useInsertionEffect(D,re)},Re.useLayoutEffect=function(D,re){return se.H.useLayoutEffect(D,re)},Re.useMemo=function(D,re){return se.H.useMemo(D,re)},Re.useOptimistic=function(D,re){return se.H.useOptimistic(D,re)},Re.useReducer=function(D,re,ue){return se.H.useReducer(D,re,ue)},Re.useRef=function(D){return se.H.useRef(D)},Re.useState=function(D){return se.H.useState(D)},Re.useSyncExternalStore=function(D,re,ue){return se.H.useSyncExternalStore(D,re,ue)},Re.useTransition=function(){return se.H.useTransition()},Re.version="19.1.1",Re}var oE;function Op(){return oE||(oE=1,Mm.exports=KA()),Mm.exports}var L=Op();const YA=r0(L);var Pm={exports:{}},Jl={},Vm={exports:{}},Lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function $A(){return lE||(lE=1,function(i){function e(X,le){var me=X.length;X.push(le);e:for(;0<me;){var Pe=me-1>>>1,D=X[Pe];if(0<o(D,le))X[Pe]=le,X[me]=D,me=Pe;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var le=X[0],me=X.pop();if(me!==le){X[0]=me;e:for(var Pe=0,D=X.length,re=D>>>1;Pe<re;){var ue=2*(Pe+1)-1,ae=X[ue],ye=ue+1,Ce=X[ye];if(0>o(ae,me))ye<D&&0>o(Ce,ae)?(X[Pe]=Ce,X[ye]=me,Pe=ye):(X[Pe]=ae,X[ue]=me,Pe=ue);else if(ye<D&&0>o(Ce,me))X[Pe]=Ce,X[ye]=me,Pe=ye;else break e}}return le}function o(X,le){var me=X.sortIndex-le.sortIndex;return me!==0?me:X.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,A=3,M=!1,U=!1,z=!1,P=!1,q=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ie(X){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=X)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(g)}}function se(X){if(z=!1,ie(X),!U)if(n(p)!==null)U=!0,he||(he=!0,j());else{var le=n(g);le!==null&&We(se,le.startTime-X)}}var he=!1,N=-1,R=5,I=-1;function O(){return P?!0:!(i.unstable_now()-I<R)}function V(){if(P=!1,he){var X=i.unstable_now();I=X;var le=!0;try{e:{U=!1,z&&(z=!1,ne(N),N=-1),M=!0;var me=A;try{t:{for(ie(X),w=n(p);w!==null&&!(w.expirationTime>X&&O());){var Pe=w.callback;if(typeof Pe=="function"){w.callback=null,A=w.priorityLevel;var D=Pe(w.expirationTime<=X);if(X=i.unstable_now(),typeof D=="function"){w.callback=D,ie(X),le=!0;break t}w===n(p)&&s(p),ie(X)}else s(p);w=n(p)}if(w!==null)le=!0;else{var re=n(g);re!==null&&We(se,re.startTime-X),le=!1}}break e}finally{w=null,A=me,M=!1}le=void 0}}finally{le?j():he=!1}}}var j;if(typeof Q=="function")j=function(){Q(V)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ht=x.port2;x.port1.onmessage=V,j=function(){ht.postMessage(null)}}else j=function(){q(V,0)};function We(X,le){N=q(function(){X(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(X){switch(A){case 1:case 2:case 3:var le=3;break;default:le=A}var me=A;A=le;try{return X()}finally{A=me}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=A;A=X;try{return le()}finally{A=me}},i.unstable_scheduleCallback=function(X,le,me){var Pe=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Pe+me:Pe):me=Pe,X){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=me+D,X={id:E++,callback:le,priorityLevel:X,startTime:me,expirationTime:D,sortIndex:-1},me>Pe?(X.sortIndex=me,e(g,X),n(p)===null&&X===n(g)&&(z?(ne(N),N=-1):z=!0,We(se,me-Pe))):(X.sortIndex=D,e(p,X),U||M||(U=!0,he||(he=!0,j()))),X},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(X){var le=A;return function(){var me=A;A=le;try{return X.apply(this,arguments)}finally{A=me}}}}(Lm)),Lm}var uE;function QA(){return uE||(uE=1,Vm.exports=$A()),Vm.exports}var Um={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function XA(){if(cE)return Jt;cE=1;var i=Op();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Jt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.1.1",Jt}var hE;function s0(){if(hE)return Um.exports;hE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Um.exports=XA(),Um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function WA(){if(fE)return Jl;fE=1;var i=QA(),e=Op(),n=s0();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case P:return"Profiler";case z:return"StrictMode";case se:return"Suspense";case he:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case ne:return(t._context.displayName||"Context")+".Consumer";case ie:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:ht(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return ht(t(r))}catch{}}return null}var We=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Pe=[],D=-1;function re(t){return{current:t}}function ue(t){0>D||(t.current=Pe[D],Pe[D]=null,D--)}function ae(t,r){D++,Pe[D]=t.current,t.current=r}var ye=re(null),Ce=re(null),we=re(null),kt=re(null);function Je(t,r){switch(ae(we,r),ae(Ce,t),ae(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Ov(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Ov(r),t=kv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ye),ae(ye,t)}function Jn(){ue(ye),ue(Ce),ue(we)}function yr(t){t.memoizedState!==null&&ae(kt,t);var r=ye.current,a=kv(r,t.type);r!==a&&(ae(Ce,t),ae(ye,a))}function Di(t){Ce.current===t&&(ue(ye),ue(Ce)),kt.current===t&&(ue(kt),Yl._currentValue=me)}var Ts=Object.prototype.hasOwnProperty,bs=i.unstable_scheduleCallback,ws=i.unstable_cancelCallback,Fo=i.unstable_shouldYield,Hu=i.unstable_requestPaint,In=i.unstable_now,kf=i.unstable_getCurrentPriorityLevel,Go=i.unstable_ImmediatePriority,wa=i.unstable_UserBlockingPriority,Ss=i.unstable_NormalPriority,Mf=i.unstable_LowPriority,Sa=i.unstable_IdlePriority,Ko=i.log,Fu=i.unstable_setDisableYieldValue,ft=null,Fe=null;function yn(t){if(typeof Ko=="function"&&Fu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ft,t)}catch{}}var Wt=Math.clz32?Math.clz32:As,Gu=Math.log,Pf=Math.LN2;function As(t){return t>>>=0,t===0?32:31-(Gu(t)/Pf|0)|0}var Rs=256,Is=4194304;function Hn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Aa(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Hn(l):(v&=T,v!==0?h=Hn(v):a||(a=T&~t,a!==0&&(h=Hn(a))))):(T=l&~d,T!==0?h=Hn(T):v!==0?h=Hn(v):a||(a=l&~t,a!==0&&(h=Hn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function Cs(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Yo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $o(){var t=Rs;return Rs<<=1,(Rs&4194048)===0&&(Rs=256),t}function Qo(){var t=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),t}function Oi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ki(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xo(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,G=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Wt(a),ee=1<<W;T[W]=0,C[W]=-1;var K=G[W];if(K!==null)for(G[W]=null,W=0;W<K.length;W++){var Y=K[W];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&ei(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function ei(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Wt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Wo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Wt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function _r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ra(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vr(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Zv(t.type))}function Ku(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var st=Math.random().toString(36).slice(2),It="__reactFiber$"+st,Et="__reactProps$"+st,Cn="__reactContainer$"+st,Zo="__reactEvents$"+st,Vf="__reactListeners$"+st,Er="__reactHandles$"+st,Yu="__reactResources$"+st,xs="__reactMarker$"+st;function Tr(t){delete t[It],delete t[Et],delete t[Zo],delete t[Vf],delete t[Er]}function Mi(t){var r=t[It];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Cn]||a[It]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Lv(t);t!==null;){if(a=t[It])return a;t=Lv(t)}return r}t=a,a=t.parentNode}return null}function ti(t){if(t=t[It]||t[Cn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ni(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function sn(t){var r=t[Yu];return r||(r=t[Yu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(t){t[xs]=!0}var Jo=new Set,Ia={};function Fn(t,r){Pi(t,r),Pi(t+"Capture",r)}function Pi(t,r){for(Ia[t]=r,t=0;t<r.length;t++)Jo.add(r[t])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qu={},Ns={};function Xu(t){return Ts.call(Ns,t)?!0:Ts.call(Qu,t)?!1:$u.test(t)?Ns[t]=!0:(Qu[t]=!0,!1)}function br(t,r,a){if(Xu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ii(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Bt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Ds,Wu;function Vi(t){if(Ds===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ds=r&&r[1]||"",Wu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ds+t+Wu}var Ca=!1;function xa(t,r){if(!t||Ca)return"";Ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var K=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){K=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){K=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),G=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===G.length)for(l=C.length-1,h=G.length-1;1<=l&&0<=h&&C[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==G[h]){var W=`
`+C[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{Ca=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Vi(a):""}function el(t){switch(t.tag){case 26:case 27:case 5:return Vi(t.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return xa(t.type,!1);case 11:return xa(t.type.render,!1);case 1:return xa(t.type,!0);case 31:return Vi("Activity");default:return""}}function Na(t){try{var r="";do r+=el(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tl(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Lf(t){var r=tl(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Da(t){t._valueTracker||(t._valueTracker=Lf(t))}function nl(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=tl(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Uf=/[\n"\\]/g;function Tt(t){return t.replace(Uf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _n(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+an(r)):t.value!==""+an(r)&&(t.value=""+an(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?wr(t,v,an(r)):a!=null?wr(t,v,an(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+an(T):t.removeAttribute("name")}function ks(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function wr(t,r,a){r==="number"&&Os(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Li(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ye(t,r,a){if(r!=null&&(r=""+an(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+an(a):""}function Ms(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(We(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=an(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function xn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Ps.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function il(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Zu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Zu(t,d,r[d])}function rl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(t){return Bf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ui=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,Bi=null;function sl(t){var r=ti(t);if(r&&(t=r.stateNode)){var a=t[Et]||null;e:switch(t=r.stateNode,r.type){case"input":if(_n(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(s(90));_n(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&nl(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Li(t,!!a.multiple,r,!1)}}}var ri=!1;function Ju(t,r,a){if(ri)return t(r,a);ri=!0;try{var l=t(r);return l}finally{if(ri=!1,(ji!==null||Bi!==null)&&(Kc(),ji&&(r=ji,t=Bi,Bi=ji=null,sl(r),t)))for(r=0;r<t.length;r++)sl(t[r])}}function Vs(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Gn)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Dn=!1}var si=null,Sr=null,zi=null;function al(){if(zi)return zi;var t,r=Sr,a=r.length,l,h="value"in si?si.value:si.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return zi=h.slice(t,1<l?1-l:void 0)}function ai(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function oi(){return!0}function ol(){return!1}function Mt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:ol,this.isPropagationStopped=ol,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=Mt(qe),Us=E({},qe,{view:0,detail:0}),ec=Mt(Us),Ma,Pa,li,js=E({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Ma=t.screenX-li.screenX,Pa=t.screenY-li.screenY):Pa=Ma=0,li=t),Ma)},movementY:function(t){return"movementY"in t?t.movementY:Pa}}),On=Mt(js),tc=E({},js,{dataTransfer:0}),zf=Mt(tc),Bs=E({},Us,{relatedTarget:0}),Va=Mt(Bs),ll=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),La=Mt(ll),nc=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ua=Mt(nc),qf=E({},qe,{data:0}),ul=Mt(qf),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=rc[t])?!!r[t]:!1}function qs(){return cl}var sc=E({},Us,{key:function(t){if(t.key){var r=zs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ic[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(t){return t.type==="keypress"?ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ja=Mt(sc),ac=E({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=Mt(ac),qi=E({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),oc=Mt(qi),lc=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),uc=Mt(lc),cc=E({},js,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ba=Mt(cc),on=E({},qe,{newState:0,oldState:0}),hc=Mt(on),fc=[9,13,27,32],ui=Gn&&"CompositionEvent"in window,c=null;Gn&&"documentMode"in document&&(c=document.documentMode);var y=Gn&&"TextEvent"in window&&!c,_=Gn&&(!ui||c&&8<c&&11>=c),b=" ",H=!1;function $(t,r){switch(t){case"keyup":return fc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function Ct(t,r){switch(t){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(H=!0,b);case"textInput":return t=r.data,t===b&&H?null:t;default:return null}}function Le(t,r){if(Ve)return t==="compositionend"||!ui&&$(t,r)?(t=al(),zi=Sr=si=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Pt[t.type]:r==="textarea"}function Hi(t,r,a,l){ji?Bi?Bi.push(l):Bi=[l]:ji=l,r=Zc(r,"onChange"),0<r.length&&(a=new ka("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var zt=null,ci=null;function fl(t){Iv(t,0)}function dc(t){var r=ni(t);if(nl(r))return t}function $g(t,r){if(t==="change")return r}var Qg=!1;if(Gn){var Hf;if(Gn){var Ff="oninput"in document;if(!Ff){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Ff=typeof Xg.oninput=="function"}Hf=Ff}else Hf=!1;Qg=Hf&&(!document.documentMode||9<document.documentMode)}function Wg(){zt&&(zt.detachEvent("onpropertychange",Zg),ci=zt=null)}function Zg(t){if(t.propertyName==="value"&&dc(ci)){var r=[];Hi(r,ci,t,Nn(t)),Ju(fl,r)}}function ES(t,r,a){t==="focusin"?(Wg(),zt=r,ci=a,zt.attachEvent("onpropertychange",Zg)):t==="focusout"&&Wg()}function TS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dc(ci)}function bS(t,r){if(t==="click")return dc(r)}function wS(t,r){if(t==="input"||t==="change")return dc(r)}function SS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var vn=typeof Object.is=="function"?Object.is:SS;function dl(t,r){if(vn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ts.call(r,h)||!vn(t[h],r[h]))return!1}return!0}function Jg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ey(t,r){var a=Jg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jg(a)}}function ty(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ty(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ny(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Os(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Os(t.document)}return r}function Gf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var AS=Gn&&"documentMode"in document&&11>=document.documentMode,za=null,Kf=null,ml=null,Yf=!1;function iy(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yf||za==null||za!==Os(l)||(l=za,"selectionStart"in l&&Gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=Zc(Kf,"onSelect"),0<l.length&&(r=new ka("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=za)))}function Hs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var qa={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},$f={},ry={};Gn&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Fs(t){if($f[t])return $f[t];if(!qa[t])return t;var r=qa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in ry)return $f[t]=r[a];return t}var sy=Fs("animationend"),ay=Fs("animationiteration"),oy=Fs("animationstart"),RS=Fs("transitionrun"),IS=Fs("transitionstart"),CS=Fs("transitioncancel"),ly=Fs("transitionend"),uy=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function Kn(t,r){uy.set(t,r),Fn(r,[t])}var cy=new WeakMap;function kn(t,r){if(typeof t=="object"&&t!==null){var a=cy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Na(r)},cy.set(t,r),r)}return{value:t,source:r,stack:Na(r)}}var Mn=[],Ha=0,Xf=0;function mc(){for(var t=Ha,r=Xf=Ha=0;r<t;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var h=Mn[r];Mn[r++]=null;var d=Mn[r];if(Mn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&hy(a,h,d)}}function pc(t,r,a,l){Mn[Ha++]=t,Mn[Ha++]=r,Mn[Ha++]=a,Mn[Ha++]=l,Xf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wf(t,r,a,l){return pc(t,r,a,l),gc(t)}function Fa(t,r){return pc(t,null,null,r),gc(t)}function hy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Wt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function gc(t){if(50<jl)throw jl=0,im=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ga={};function xS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,r,a,l){return new xS(t,r,a,l)}function Zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,r){var a=t.alternate;return a===null?(a=En(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function fy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function yc(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Zf(t)&&(v=1);else if(typeof t=="string")v=DA(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=En(31,a,r,h),t.elementType=I,t.lanes=d,t;case U:return Gs(a.children,h,d,r);case z:v=8,h|=24;break;case P:return t=En(12,a,r,h|2),t.elementType=P,t.lanes=d,t;case se:return t=En(13,a,r,h),t.elementType=se,t.lanes=d,t;case he:return t=En(19,a,r,h),t.elementType=he,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:case Q:v=10;break e;case ne:v=9;break e;case ie:v=11;break e;case N:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=En(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Gs(t,r,a,l){return t=En(7,t,l,r),t.lanes=a,t}function Jf(t,r,a){return t=En(6,t,null,r),t.lanes=a,t}function ed(t,r,a){return r=En(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ka=[],Ya=0,_c=null,vc=0,Pn=[],Vn=0,Ks=null,Gi=1,Ki="";function Ys(t,r){Ka[Ya++]=vc,Ka[Ya++]=_c,_c=t,vc=r}function dy(t,r,a){Pn[Vn++]=Gi,Pn[Vn++]=Ki,Pn[Vn++]=Ks,Ks=t;var l=Gi;t=Ki;var h=32-Wt(l)-1;l&=~(1<<h),a+=1;var d=32-Wt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Gi=1<<32-Wt(r)+h|a<<h|l,Ki=d+t}else Gi=1<<d|a<<h|l,Ki=t}function td(t){t.return!==null&&(Ys(t,1),dy(t,1,0))}function nd(t){for(;t===_c;)_c=Ka[--Ya],Ka[Ya]=null,vc=Ka[--Ya],Ka[Ya]=null;for(;t===Ks;)Ks=Pn[--Vn],Pn[Vn]=null,Ki=Pn[--Vn],Pn[Vn]=null,Gi=Pn[--Vn],Pn[Vn]=null}var ln=null,dt=null,ze=!1,$s=null,hi=!1,id=Error(s(519));function Qs(t){var r=Error(s(418,""));throw yl(kn(r,t)),id}function my(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[It]=t,r[Et]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<zl.length;a++)De(zl[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),ks(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Da(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),Ms(r,l.value,l.defaultValue,l.children),Da(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Dv(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=Jc),r=!0):r=!1,r||Qs(t)}function py(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:ln=ln.return}}function pl(t){if(t!==ln)return!1;if(!ze)return py(t),ze=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||vm(t.type,t.memoizedProps)),a=!a),a&&dt&&Qs(t),py(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){dt=$n(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}dt=null}}else r===27?(r=dt,Br(t.type)?(t=wm,wm=null,dt=t):dt=r):dt=ln?$n(t.stateNode.nextSibling):null;return!0}function gl(){dt=ln=null,ze=!1}function gy(){var t=$s;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),$s=null),t}function yl(t){$s===null?$s=[t]:$s.push(t)}var rd=re(null),Xs=null,Yi=null;function Ar(t,r,a){ae(rd,r._currentValue),r._currentValue=a}function $i(t){t._currentValue=rd.current,ue(rd)}function sd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ad(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),sd(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),sd(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function _l(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;vn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===kt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Yl):t=[Yl])}h=h.return}t!==null&&ad(r,t,a,l),r.flags|=262144}function Ec(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ws(t){Xs=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return yy(Xs,t)}function Tc(t,r){return Xs===null&&Ws(t),yy(t,r)}function yy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Yi===null){if(t===null)throw Error(s(308));Yi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Yi=Yi.next=r;return a}var NS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},DS=i.unstable_scheduleCallback,OS=i.unstable_NormalPriority,Nt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new NS,data:new Map,refCount:0}}function vl(t){t.refCount--,t.refCount===0&&DS(OS,function(){t.controller.abort()})}var El=null,ld=0,$a=0,Qa=null;function kS(t,r){if(El===null){var a=El=[];ld=0,$a=cm(),Qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ld++,r.then(_y,_y),r}function _y(){if(--ld===0&&El!==null){Qa!==null&&(Qa.status="fulfilled");var t=El;El=null,$a=0,Qa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function MS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var vy=X.S;X.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&kS(t,r),vy!==null&&vy(t,r)};var Zs=re(null);function ud(){var t=Zs.current;return t!==null?t:et.pooledCache}function bc(t,r){r===null?ae(Zs,Zs.current):ae(Zs,r.pool)}function Ey(){var t=ud();return t===null?null:{parent:Nt._currentValue,pool:t}}var Tl=Error(s(460)),Ty=Error(s(474)),wc=Error(s(542)),cd={then:function(){}};function by(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sc(){}function wy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Sc,Sc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ay(t),t;default:if(typeof r.status=="string")r.then(Sc,Sc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ay(t),t}throw bl=r,Tl}}var bl=null;function Sy(){if(bl===null)throw Error(s(459));var t=bl;return bl=null,t}function Ay(t){if(t===Tl||t===wc)throw Error(s(483))}var Rr=!1;function hd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=gc(t),hy(t,null,a),r}return pc(t,l,r,a),gc(t)}function wl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Wo(t,a)}}function dd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var md=!1;function Sl(){if(md){var t=Qa;if(t!==null)throw t}}function Al(t,r,a,l){md=!1;var h=t.updateQueue;Rr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,G=C.next;C.next=null,v===null?d=G:v.next=G,v=C;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=G:T.next=G,W.lastBaseUpdate=C))}if(d!==null){var ee=h.baseState;v=0,W=G=C=null,T=d;do{var K=T.lane&-536870913,Y=K!==T.lane;if(Y?(Ue&K)===K:(l&K)===K){K!==0&&K===$a&&(md=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=t,_e=T;K=r;var Xe=a;switch(_e.tag){case 1:if(be=_e.payload,typeof be=="function"){ee=be.call(Xe,ee,K);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=_e.payload,K=typeof be=="function"?be.call(Xe,ee,K):be,K==null)break e;ee=E({},ee,K);break e;case 2:Rr=!0}}K=T.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(G=W=Y,C=ee):W=W.next=Y,v|=K;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);W===null&&(C=ee),h.baseState=C,h.firstBaseUpdate=G,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Vr|=v,t.lanes=v,t.memoizedState=ee}}function Ry(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Iy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ry(a[t],r)}var Xa=re(null),Ac=re(0);function Cy(t,r){t=tr,ae(Ac,t),ae(Xa,r),tr=t|r.baseLanes}function pd(){ae(Ac,tr),ae(Xa,Xa.current)}function gd(){tr=Ac.current,ue(Xa),ue(Ac)}var xr=0,Ie=null,$e=null,bt=null,Rc=!1,Wa=!1,Js=!1,Ic=0,Rl=0,Za=null,PS=0;function gt(){throw Error(s(321))}function yd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!vn(t[a],r[a]))return!1;return!0}function _d(t,r,a,l,h,d){return xr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?h_:f_,Js=!1,d=a(l,h),Js=!1,Wa&&(d=Ny(r,a,l,h)),xy(t),d}function xy(t){X.H=kc;var r=$e!==null&&$e.next!==null;if(xr=0,bt=$e=Ie=null,Rc=!1,Rl=0,Za=null,r)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&Ec(t)&&(Vt=!0))}function Ny(t,r,a,l){Ie=t;var h=0;do{if(Wa&&(Za=null),Rl=0,Wa=!1,25<=h)throw Error(s(301));if(h+=1,bt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=qS,d=r(a,l)}while(Wa);return d}function VS(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?Il(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),r}function vd(){var t=Ic!==0;return Ic=0,t}function Ed(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Td(t){if(Rc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Rc=!1}xr=0,bt=$e=Ie=null,Wa=!1,Rl=Ic=0,Za=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ie.memoizedState=bt=t:bt=bt.next=t,bt}function wt(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=bt===null?Ie.memoizedState:bt.next;if(r!==null)bt=r,$e=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},bt===null?Ie.memoizedState=bt=t:bt=bt.next=t}return bt}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var r=Rl;return Rl+=1,Za===null&&(Za=[]),t=wy(Za,t,r),r=Ie,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?h_:f_),t}function Cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===Q)return Zt(t)}throw Error(s(438,String(t)))}function wd(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=bd(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function Qi(t,r){return typeof r=="function"?r(t):r}function xc(t){var r=wt();return Sd(r,$e,t)}function Sd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,C=null,G=r,W=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(Ue&ee)===ee:(xr&ee)===ee){var K=G.revertLane;if(K===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===$a&&(W=!0);else if((xr&K)===K){G=G.next,K===$a&&(W=!0);continue}else ee={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(T=C=ee,v=d):C=C.next=ee,Ie.lanes|=K,Vr|=K;ee=G.action,Js&&a(d,ee),d=G.hasEagerState?G.eagerState:a(d,ee)}else K={lane:ee,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(T=C=K,v=d):C=C.next=K,Ie.lanes|=ee,Vr|=ee;G=G.next}while(G!==null&&G!==r);if(C===null?v=d:C.next=T,!vn(d,t.memoizedState)&&(Vt=!0,W&&(a=Qa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ad(t){var r=wt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);vn(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Dy(t,r,a){var l=Ie,h=wt(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!vn(($e||h).memoizedState,a);v&&(h.memoizedState=a,Vt=!0),h=h.queue;var T=My.bind(null,l,h,t);if(Cl(2048,8,T,[t]),h.getSnapshot!==r||v||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Ja(9,Nc(),ky.bind(null,l,h,a,r),null),et===null)throw Error(s(349));d||(xr&124)!==0||Oy(l,r,a)}return a}function Oy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=bd(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function ky(t,r,a,l){r.value=a,r.getSnapshot=l,Py(r)&&Vy(t)}function My(t,r,a){return a(function(){Py(r)&&Vy(t)})}function Py(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!vn(t,a)}catch{return!0}}function Vy(t){var r=Fa(t,2);r!==null&&An(r,t,2)}function Rd(t){var r=hn();if(typeof t=="function"){var a=t;if(t=a(),Js){yn(!0);try{a()}finally{yn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},r}function Ly(t,r,a,l){return t.baseState=a,Sd(t,$e,typeof l=="function"?l:Qi)}function LS(t,r,a,l,h){if(Oc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Uy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Uy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=X.T,v={};X.T=v;try{var T=a(h,l),C=X.S;C!==null&&C(v,T),jy(t,r,T)}catch(G){Id(t,r,G)}finally{X.T=d}}else try{d=a(h,l),jy(t,r,d)}catch(G){Id(t,r,G)}}function jy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){By(t,r,l)},function(l){return Id(t,r,l)}):By(t,r,a)}function By(t,r,a){r.status="fulfilled",r.value=a,zy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Uy(t,a)))}function Id(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,zy(r),r=r.next;while(r!==l)}t.action=null}function zy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function qy(t,r){return r}function Hy(t,r){if(ze){var a=et.formState;if(a!==null){e:{var l=Ie;if(ze){if(dt){t:{for(var h=dt,d=hi;h.nodeType!==8;){if(!d){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=$n(h.nextSibling),l=h.data==="F!";break e}}Qs(l)}l=!1}l&&(r=a[0])}}return a=hn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:r},a.queue=l,a=l_.bind(null,Ie,l),l.dispatch=a,l=Rd(!1),d=Od.bind(null,Ie,!1,l.queue),l=hn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=LS.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Fy(t){var r=wt();return Gy(r,$e,t)}function Gy(t,r,a){if(r=Sd(t,r,qy)[0],t=xc(Qi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Il(r)}catch(v){throw v===Tl?wc:v}else l=r;r=wt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Ja(9,Nc(),US.bind(null,h,a),null)),[l,d,t]}function US(t,r){t.action=r}function Ky(t){var r=wt(),a=$e;if(a!==null)return Gy(r,a,t);wt(),r=r.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ja(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=bd(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Nc(){return{destroy:void 0,resource:void 0}}function Yy(){return wt().memoizedState}function Dc(t,r,a,l){var h=hn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Ja(1|r,Nc(),a,l)}function Cl(t,r,a,l){var h=wt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&yd(l,$e.memoizedState.deps)?h.memoizedState=Ja(r,d,a,l):(Ie.flags|=t,h.memoizedState=Ja(1|r,d,a,l))}function $y(t,r){Dc(8390656,8,t,r)}function Qy(t,r){Cl(2048,8,t,r)}function Xy(t,r){return Cl(4,2,t,r)}function Wy(t,r){return Cl(4,4,t,r)}function Zy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Jy(t,r,a){a=a!=null?a.concat([t]):null,Cl(4,4,Zy.bind(null,r,t),a)}function Cd(){}function e_(t,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&yd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function t_(t,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&yd(r,l[1]))return l[0];if(l=t(),Js){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,r],l}function xd(t,r,a){return a===void 0||(xr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=rv(),Ie.lanes|=t,Vr|=t,a)}function n_(t,r,a,l){return vn(a,r)?a:Xa.current!==null?(t=xd(t,a,l),vn(t,r)||(Vt=!0),t):(xr&42)===0?(Vt=!0,t.memoizedState=a):(t=rv(),Ie.lanes|=t,Vr|=t,r)}function i_(t,r,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=X.T,T={};X.T=T,Od(t,!1,r,a);try{var C=h(),G=X.S;if(G!==null&&G(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=MS(C,l);xl(t,r,W,Sn(t))}else xl(t,r,l,Sn(t))}catch(ee){xl(t,r,{then:function(){},status:"rejected",reason:ee},Sn())}finally{le.p=d,X.T=v}}function jS(){}function Nd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=r_(t).queue;i_(t,h,r,me,a===null?jS:function(){return s_(t),a(l)})}function r_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function s_(t){var r=r_(t).next.queue;xl(t,r,{},Sn())}function Dd(){return Zt(Yl)}function a_(){return wt().memoizedState}function o_(){return wt().memoizedState}function BS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Sn();t=Ir(a);var l=Cr(r,t,a);l!==null&&(An(l,r,a),wl(l,r,a)),r={cache:od()},t.payload=r;return}r=r.return}}function zS(t,r,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Oc(t)?u_(r,a):(a=Wf(t,r,a,l),a!==null&&(An(a,t,l),c_(a,r,l)))}function l_(t,r,a){var l=Sn();xl(t,r,a,l)}function xl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Oc(t))u_(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,vn(T,v))return pc(t,r,h,0),et===null&&mc(),!1}catch{}finally{}if(a=Wf(t,r,h,l),a!==null)return An(a,t,l),c_(a,r,l),!0}return!1}function Od(t,r,a,l){if(l={lane:2,revertLane:cm(),action:l,hasEagerState:!1,eagerState:null,next:null},Oc(t)){if(r)throw Error(s(479))}else r=Wf(t,a,l,2),r!==null&&An(r,t,2)}function Oc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function u_(t,r){Wa=Rc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function c_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Wo(t,a)}}var kc={readContext:Zt,use:Cc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},h_={readContext:Zt,use:Cc,useCallback:function(t,r){return hn().memoizedState=[t,r===void 0?null:r],t},useContext:Zt,useEffect:$y,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Dc(4194308,4,Zy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Dc(4194308,4,t,r)},useInsertionEffect:function(t,r){Dc(4,2,t,r)},useMemo:function(t,r){var a=hn();r=r===void 0?null:r;var l=t();if(Js){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=hn();if(a!==void 0){var h=a(r);if(Js){yn(!0);try{a(r)}finally{yn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=zS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=hn();return t={current:t},r.memoizedState=t},useState:function(t){t=Rd(t);var r=t.queue,a=l_.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Cd,useDeferredValue:function(t,r){var a=hn();return xd(a,t,r)},useTransition:function(){var t=Rd(!1);return t=i_.bind(null,Ie,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,h=hn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(Ue&124)!==0||Oy(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,$y(My.bind(null,l,d,t),[t]),l.flags|=2048,Ja(9,Nc(),ky.bind(null,l,d,a,r),null),a},useId:function(){var t=hn(),r=et.identifierPrefix;if(ze){var a=Ki,l=Gi;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Ic++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=PS++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Dd,useFormState:Hy,useActionState:Hy,useOptimistic:function(t){var r=hn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Od.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:wd,useCacheRefresh:function(){return hn().memoizedState=BS.bind(null,Ie)}},f_={readContext:Zt,use:Cc,useCallback:e_,useContext:Zt,useEffect:Qy,useImperativeHandle:Jy,useInsertionEffect:Xy,useLayoutEffect:Wy,useMemo:t_,useReducer:xc,useRef:Yy,useState:function(){return xc(Qi)},useDebugValue:Cd,useDeferredValue:function(t,r){var a=wt();return n_(a,$e.memoizedState,t,r)},useTransition:function(){var t=xc(Qi)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:Il(t),r]},useSyncExternalStore:Dy,useId:a_,useHostTransitionStatus:Dd,useFormState:Fy,useActionState:Fy,useOptimistic:function(t,r){var a=wt();return Ly(a,$e,t,r)},useMemoCache:wd,useCacheRefresh:o_},qS={readContext:Zt,use:Cc,useCallback:e_,useContext:Zt,useEffect:Qy,useImperativeHandle:Jy,useInsertionEffect:Xy,useLayoutEffect:Wy,useMemo:t_,useReducer:Ad,useRef:Yy,useState:function(){return Ad(Qi)},useDebugValue:Cd,useDeferredValue:function(t,r){var a=wt();return $e===null?xd(a,t,r):n_(a,$e.memoizedState,t,r)},useTransition:function(){var t=Ad(Qi)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:Il(t),r]},useSyncExternalStore:Dy,useId:a_,useHostTransitionStatus:Dd,useFormState:Ky,useActionState:Ky,useOptimistic:function(t,r){var a=wt();return $e!==null?Ly(a,$e,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wd,useCacheRefresh:o_},eo=null,Nl=0;function Mc(t){var r=Nl;return Nl+=1,eo===null&&(eo=[]),wy(eo,t,r)}function Dl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Pc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function d_(t){var r=t._init;return r(t._payload)}function m_(t){function r(B,k){if(t){var F=B.deletions;F===null?(B.deletions=[k],B.flags|=16):F.push(k)}}function a(B,k){if(!t)return null;for(;k!==null;)r(B,k),k=k.sibling;return null}function l(B){for(var k=new Map;B!==null;)B.key!==null?k.set(B.key,B):k.set(B.index,B),B=B.sibling;return k}function h(B,k){return B=Fi(B,k),B.index=0,B.sibling=null,B}function d(B,k,F){return B.index=F,t?(F=B.alternate,F!==null?(F=F.index,F<k?(B.flags|=67108866,k):F):(B.flags|=67108866,k)):(B.flags|=1048576,k)}function v(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function T(B,k,F,Z){return k===null||k.tag!==6?(k=Jf(F,B.mode,Z),k.return=B,k):(k=h(k,F),k.return=B,k)}function C(B,k,F,Z){var de=F.type;return de===U?W(B,k,F.props.children,Z,F.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&d_(de)===k.type)?(k=h(k,F.props),Dl(k,F),k.return=B,k):(k=yc(F.type,F.key,F.props,null,B.mode,Z),Dl(k,F),k.return=B,k)}function G(B,k,F,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=ed(F,B.mode,Z),k.return=B,k):(k=h(k,F.children||[]),k.return=B,k)}function W(B,k,F,Z,de){return k===null||k.tag!==7?(k=Gs(F,B.mode,Z,de),k.return=B,k):(k=h(k,F),k.return=B,k)}function ee(B,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Jf(""+k,B.mode,F),k.return=B,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return F=yc(k.type,k.key,k.props,null,B.mode,F),Dl(F,k),F.return=B,F;case M:return k=ed(k,B.mode,F),k.return=B,k;case R:var Z=k._init;return k=Z(k._payload),ee(B,k,F)}if(We(k)||j(k))return k=Gs(k,B.mode,F,null),k.return=B,k;if(typeof k.then=="function")return ee(B,Mc(k),F);if(k.$$typeof===Q)return ee(B,Tc(B,k),F);Pc(B,k)}return null}function K(B,k,F,Z){var de=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return de!==null?null:T(B,k,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return F.key===de?C(B,k,F,Z):null;case M:return F.key===de?G(B,k,F,Z):null;case R:return de=F._init,F=de(F._payload),K(B,k,F,Z)}if(We(F)||j(F))return de!==null?null:W(B,k,F,Z,null);if(typeof F.then=="function")return K(B,k,Mc(F),Z);if(F.$$typeof===Q)return K(B,k,Tc(B,F),Z);Pc(B,F)}return null}function Y(B,k,F,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(F)||null,T(k,B,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return B=B.get(Z.key===null?F:Z.key)||null,C(k,B,Z,de);case M:return B=B.get(Z.key===null?F:Z.key)||null,G(k,B,Z,de);case R:var xe=Z._init;return Z=xe(Z._payload),Y(B,k,F,Z,de)}if(We(Z)||j(Z))return B=B.get(F)||null,W(k,B,Z,de,null);if(typeof Z.then=="function")return Y(B,k,F,Mc(Z),de);if(Z.$$typeof===Q)return Y(B,k,F,Tc(k,Z),de);Pc(k,Z)}return null}function be(B,k,F,Z){for(var de=null,xe=null,pe=k,ve=k=0,Ut=null;pe!==null&&ve<F.length;ve++){pe.index>ve?(Ut=pe,pe=null):Ut=pe.sibling;var Be=K(B,pe,F[ve],Z);if(Be===null){pe===null&&(pe=Ut);break}t&&pe&&Be.alternate===null&&r(B,pe),k=d(Be,k,ve),xe===null?de=Be:xe.sibling=Be,xe=Be,pe=Ut}if(ve===F.length)return a(B,pe),ze&&Ys(B,ve),de;if(pe===null){for(;ve<F.length;ve++)pe=ee(B,F[ve],Z),pe!==null&&(k=d(pe,k,ve),xe===null?de=pe:xe.sibling=pe,xe=pe);return ze&&Ys(B,ve),de}for(pe=l(pe);ve<F.length;ve++)Ut=Y(pe,B,ve,F[ve],Z),Ut!==null&&(t&&Ut.alternate!==null&&pe.delete(Ut.key===null?ve:Ut.key),k=d(Ut,k,ve),xe===null?de=Ut:xe.sibling=Ut,xe=Ut);return t&&pe.forEach(function(Gr){return r(B,Gr)}),ze&&Ys(B,ve),de}function _e(B,k,F,Z){if(F==null)throw Error(s(151));for(var de=null,xe=null,pe=k,ve=k=0,Ut=null,Be=F.next();pe!==null&&!Be.done;ve++,Be=F.next()){pe.index>ve?(Ut=pe,pe=null):Ut=pe.sibling;var Gr=K(B,pe,Be.value,Z);if(Gr===null){pe===null&&(pe=Ut);break}t&&pe&&Gr.alternate===null&&r(B,pe),k=d(Gr,k,ve),xe===null?de=Gr:xe.sibling=Gr,xe=Gr,pe=Ut}if(Be.done)return a(B,pe),ze&&Ys(B,ve),de;if(pe===null){for(;!Be.done;ve++,Be=F.next())Be=ee(B,Be.value,Z),Be!==null&&(k=d(Be,k,ve),xe===null?de=Be:xe.sibling=Be,xe=Be);return ze&&Ys(B,ve),de}for(pe=l(pe);!Be.done;ve++,Be=F.next())Be=Y(pe,B,ve,Be.value,Z),Be!==null&&(t&&Be.alternate!==null&&pe.delete(Be.key===null?ve:Be.key),k=d(Be,k,ve),xe===null?de=Be:xe.sibling=Be,xe=Be);return t&&pe.forEach(function(HA){return r(B,HA)}),ze&&Ys(B,ve),de}function Xe(B,k,F,Z){if(typeof F=="object"&&F!==null&&F.type===U&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case A:e:{for(var de=F.key;k!==null;){if(k.key===de){if(de=F.type,de===U){if(k.tag===7){a(B,k.sibling),Z=h(k,F.props.children),Z.return=B,B=Z;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&d_(de)===k.type){a(B,k.sibling),Z=h(k,F.props),Dl(Z,F),Z.return=B,B=Z;break e}a(B,k);break}else r(B,k);k=k.sibling}F.type===U?(Z=Gs(F.props.children,B.mode,Z,F.key),Z.return=B,B=Z):(Z=yc(F.type,F.key,F.props,null,B.mode,Z),Dl(Z,F),Z.return=B,B=Z)}return v(B);case M:e:{for(de=F.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){a(B,k.sibling),Z=h(k,F.children||[]),Z.return=B,B=Z;break e}else{a(B,k);break}else r(B,k);k=k.sibling}Z=ed(F,B.mode,Z),Z.return=B,B=Z}return v(B);case R:return de=F._init,F=de(F._payload),Xe(B,k,F,Z)}if(We(F))return be(B,k,F,Z);if(j(F)){if(de=j(F),typeof de!="function")throw Error(s(150));return F=de.call(F),_e(B,k,F,Z)}if(typeof F.then=="function")return Xe(B,k,Mc(F),Z);if(F.$$typeof===Q)return Xe(B,k,Tc(B,F),Z);Pc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(a(B,k.sibling),Z=h(k,F),Z.return=B,B=Z):(a(B,k),Z=Jf(F,B.mode,Z),Z.return=B,B=Z),v(B)):a(B,k)}return function(B,k,F,Z){try{Nl=0;var de=Xe(B,k,F,Z);return eo=null,de}catch(pe){if(pe===Tl||pe===wc)throw pe;var xe=En(29,pe,null,B.mode);return xe.lanes=Z,xe.return=B,xe}finally{}}}var to=m_(!0),p_=m_(!1),Ln=re(null),fi=null;function Nr(t){var r=t.alternate;ae(Dt,Dt.current&1),ae(Ln,t),fi===null&&(r===null||Xa.current!==null||r.memoizedState!==null)&&(fi=t)}function g_(t){if(t.tag===22){if(ae(Dt,Dt.current),ae(Ln,t),fi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(fi=t)}}else Dr()}function Dr(){ae(Dt,Dt.current),ae(Ln,Ln.current)}function Xi(t){ue(Ln),fi===t&&(fi=null),ue(Dt)}var Dt=re(0);function Vc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||bm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function kd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Md={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Sn(),h=Ir(l);h.payload=r,a!=null&&(h.callback=a),r=Cr(t,h,l),r!==null&&(An(r,t,l),wl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Sn(),h=Ir(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Cr(t,h,l),r!==null&&(An(r,t,l),wl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Sn(),l=Ir(a);l.tag=2,r!=null&&(l.callback=r),r=Cr(t,l,a),r!==null&&(An(r,t,a),wl(r,t,a))}};function y_(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!dl(a,l)||!dl(h,d):!0}function __(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Md.enqueueReplaceState(r,r.state,null)}function ea(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function v_(t){Lc(t)}function E_(t){console.error(t)}function T_(t){Lc(t)}function Uc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function b_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pd(t,r,a){return a=Ir(a),a.tag=3,a.payload={element:null},a.callback=function(){Uc(t,r)},a}function w_(t){return t=Ir(t),t.tag=3,t}function S_(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){b_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){b_(r,a,l),typeof h!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function HS(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&_l(r,a,h,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return fi===null?sm():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===cd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),om(t,l,h)),!1;case 22:return a.flags|=65536,l===cd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),om(t,l,h)),!1}throw Error(s(435,a.tag))}return om(t,l,h),sm(),!1}if(ze)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==id&&(t=Error(s(422),{cause:l}),yl(kn(t,a)))):(l!==id&&(r=Error(s(423),{cause:l}),yl(kn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,a),h=Pd(t.stateNode,l,h),dd(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),Ul===null?Ul=[d]:Ul.push(d),mt!==4&&(mt=2),r===null)return!0;l=kn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Pd(a.stateNode,l,t),dd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Lr===null||!Lr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=w_(h),S_(h,t,a,l),dd(a,h),!1}a=a.return}while(a!==null);return!1}var A_=Error(s(461)),Vt=!1;function qt(t,r,a,l){r.child=t===null?p_(r,null,a,l):to(r,t.child,a,l)}function R_(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ws(r),l=_d(t,r,a,v,d,h),T=vd(),t!==null&&!Vt?(Ed(t,r,h),Wi(t,r,h)):(ze&&T&&td(r),r.flags|=1,qt(t,r,l,h),r.child)}function I_(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Zf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,C_(t,r,d,l,h)):(t=yc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Hd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(v,l)&&t.ref===r.ref)return Wi(t,r,h)}return r.flags|=1,t=Fi(d,l),t.ref=r.ref,t.return=r,r.child=t}function C_(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(dl(d,l)&&t.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,Hd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return r.lanes=t.lanes,Wi(t,r,h)}return Vd(t,r,a,l,h)}function x_(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return N_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&bc(r,d!==null?d.cachePool:null),d!==null?Cy(r,d):pd(),g_(r);else return r.lanes=r.childLanes=536870912,N_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(bc(r,d.cachePool),Cy(r,d),Dr(),r.memoizedState=null):(t!==null&&bc(r,null),pd(),Dr());return qt(t,r,h,a),r.child}function N_(t,r,a,l){var h=ud();return h=h===null?null:{parent:Nt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&bc(r,null),pd(),g_(r),t!==null&&_l(t,r,l,!0),null}function jc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Vd(t,r,a,l,h){return Ws(r),a=_d(t,r,a,l,void 0,h),l=vd(),t!==null&&!Vt?(Ed(t,r,h),Wi(t,r,h)):(ze&&l&&td(r),r.flags|=1,qt(t,r,a,h),r.child)}function D_(t,r,a,l,h,d){return Ws(r),r.updateQueue=null,a=Ny(r,l,a,h),xy(t),l=vd(),t!==null&&!Vt?(Ed(t,r,d),Wi(t,r,d)):(ze&&l&&td(r),r.flags|=1,qt(t,r,a,d),r.child)}function O_(t,r,a,l,h){if(Ws(r),r.stateNode===null){var d=Ga,v=a.contextType;typeof v=="object"&&v!==null&&(d=Zt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Md,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},hd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Zt(v):Ga,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(kd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Md.enqueueReplaceState(d,d.state,null),Al(r,l,d,h),Sl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,C=ea(a,T);d.props=C;var G=d.context,W=a.contextType;v=Ga,typeof W=="object"&&W!==null&&(v=Zt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||G!==v)&&__(r,d,l,v),Rr=!1;var K=r.memoizedState;d.state=K,Al(r,l,d,h),Sl(),G=r.memoizedState,T||K!==G||Rr?(typeof ee=="function"&&(kd(r,a,ee,l),G=r.memoizedState),(C=Rr||y_(r,a,C,l,K,G,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,fd(t,r),v=r.memoizedProps,W=ea(a,v),d.props=W,ee=r.pendingProps,K=d.context,G=a.contextType,C=Ga,typeof G=="object"&&G!==null&&(C=Zt(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||K!==C)&&__(r,d,l,C),Rr=!1,K=r.memoizedState,d.state=K,Al(r,l,d,h),Sl();var Y=r.memoizedState;v!==ee||K!==Y||Rr||t!==null&&t.dependencies!==null&&Ec(t.dependencies)?(typeof T=="function"&&(kd(r,a,T,l),Y=r.memoizedState),(W=Rr||y_(r,a,W,l,K,Y,C)||t!==null&&t.dependencies!==null&&Ec(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,jc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=to(r,t.child,null,h),r.child=to(r,null,a,h)):qt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Wi(t,r,h),t}function k_(t,r,a,l){return gl(),r.flags|=256,qt(t,r,a,l),r.child}var Ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ud(t){return{baseLanes:t,cachePool:Ey()}}function jd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Un),t}function M_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(h?Nr(r):Dr(),ze){var T=dt,C;if(C=T){e:{for(C=T,T=hi;C.nodeType!==8;){if(!T){T=null;break e}if(C=$n(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ks!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},C=En(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,ln=r,dt=null,C=!0):C=!1}C||Qs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return bm(T)?r.lanes=32:r.lanes=536870912,null;Xi(r)}return T=l.children,l=l.fallback,h?(Dr(),h=r.mode,T=Bc({mode:"hidden",children:T},h),l=Gs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Ud(a),h.childLanes=jd(t,v,a),r.memoizedState=Ld,l):(Nr(r),Bd(r,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(Nr(r),r.flags&=-257,r=zd(t,r,a)):r.memoizedState!==null?(Dr(),r.child=t.child,r.flags|=128,r=null):(Dr(),h=l.fallback,T=r.mode,l=Bc({mode:"visible",children:l.children},T),h=Gs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,to(r,t.child,null,a),l=r.child,l.memoizedState=Ud(a),l.childLanes=jd(t,v,a),r.memoizedState=Ld,r=h);else if(Nr(r),bm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(s(419)),l.stack="",l.digest=v,yl({value:l,source:null,stack:null}),r=zd(t,r,a)}else if(Vt||_l(t,r,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=et,v!==null&&(l=a&-a,l=(l&42)!==0?1:_r(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Fa(t,l),An(v,t,l),A_;T.data==="$?"||sm(),r=zd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,dt=$n(T.nextSibling),ln=r,ze=!0,$s=null,hi=!1,t!==null&&(Pn[Vn++]=Gi,Pn[Vn++]=Ki,Pn[Vn++]=Ks,Gi=t.id,Ki=t.overflow,Ks=r),r=Bd(r,l.children),r.flags|=4096);return r}return h?(Dr(),h=l.fallback,T=r.mode,C=t.child,G=C.sibling,l=Fi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,G!==null?h=Fi(G,h):(h=Gs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=Ud(a):(C=T.cachePool,C!==null?(G=Nt._currentValue,C=C.parent!==G?{parent:G,pool:G}:C):C=Ey(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=jd(t,v,a),r.memoizedState=Ld,l):(Nr(r),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Bd(t,r){return r=Bc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Bc(t,r){return t=En(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function zd(t,r,a){return to(r,t.child,null,a),t=Bd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function P_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),sd(t.return,r,a)}function qd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function V_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,r,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P_(t,a,r);else if(t.tag===19)P_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ae(Dt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Vc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),qd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Vc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}qd(r,!0,a,null,d);break;case"together":qd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Wi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Vr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(_l(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Fi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Hd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ec(t)))}function FS(t,r,a){switch(r.tag){case 3:Je(r,r.stateNode.containerInfo),Ar(r,Nt,t.memoizedState.cache),gl();break;case 27:case 5:yr(r);break;case 4:Je(r,r.stateNode.containerInfo);break;case 10:Ar(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Nr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?M_(t,r,a):(Nr(r),t=Wi(t,r,a),t!==null?t.sibling:null);Nr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(_l(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return V_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Dt,Dt.current),l)break;return null;case 22:case 23:return r.lanes=0,x_(t,r,a);case 24:Ar(r,Nt,t.memoizedState.cache)}return Wi(t,r,a)}function L_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Hd(t,a)&&(r.flags&128)===0)return Vt=!1,FS(t,r,a);Vt=(t.flags&131072)!==0}else Vt=!1,ze&&(r.flags&1048576)!==0&&dy(r,vc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Zf(l)?(t=ea(l,t),r.tag=1,r=O_(null,r,l,t,a)):(r.tag=0,r=Vd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ie){r.tag=11,r=R_(null,r,l,t,a);break e}else if(h===N){r.tag=14,r=I_(null,r,l,t,a);break e}}throw r=ht(l)||l,Error(s(306,r,""))}}return r;case 0:return Vd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=ea(l,r.pendingProps),O_(t,r,l,h,a);case 3:e:{if(Je(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,fd(t,r),Al(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Ar(r,Nt,l),l!==d.cache&&ad(r,[Nt],a,!0),Sl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=k_(t,r,l,a);break e}else if(l!==h){h=kn(Error(s(424)),r),yl(h),r=k_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=$n(t.firstChild),ln=r,ze=!0,$s=null,hi=!0,a=p_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(gl(),l===h){r=Wi(t,r,a);break e}qt(t,r,l,a)}r=r.child}return r;case 26:return jc(t,r),t===null?(a=zv(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,t=r.pendingProps,l=eh(we.current).createElement(a),l[It]=r,l[Et]=t,Ft(l,a,t),pt(l),r.stateNode=l):r.memoizedState=zv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return yr(r),t===null&&ze&&(l=r.stateNode=Uv(r.type,r.pendingProps,we.current),ln=r,hi=!0,h=dt,Br(r.type)?(wm=h,dt=$n(l.firstChild)):dt=h),qt(t,r,r.pendingProps.children,a),jc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((h=l=dt)&&(l=_A(l,r.type,r.pendingProps,hi),l!==null?(r.stateNode=l,ln=r,dt=$n(l.firstChild),hi=!1,h=!0):h=!1),h||Qs(r)),yr(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,vm(h,d)?l=null:v!==null&&vm(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=_d(t,r,VS,null,null,a),Yl._currentValue=h),jc(t,r),qt(t,r,l,a),r.child;case 6:return t===null&&ze&&((t=a=dt)&&(a=vA(a,r.pendingProps,hi),a!==null?(r.stateNode=a,ln=r,dt=null,t=!0):t=!1),t||Qs(r)),null;case 13:return M_(t,r,a);case 4:return Je(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=to(r,null,l,a):qt(t,r,l,a),r.child;case 11:return R_(t,r,r.type,r.pendingProps,a);case 7:return qt(t,r,r.pendingProps,a),r.child;case 8:return qt(t,r,r.pendingProps.children,a),r.child;case 12:return qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ar(r,r.type,l.value),qt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ws(r),h=Zt(h),l=l(h),r.flags|=1,qt(t,r,l,a),r.child;case 14:return I_(t,r,r.type,r.pendingProps,a);case 15:return C_(t,r,r.type,r.pendingProps,a);case 19:return V_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Bc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Fi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return x_(t,r,a);case 24:return Ws(r),l=Zt(Nt),t===null?(h=ud(),h===null&&(h=et,d=od(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},hd(r),Ar(r,Nt,h)):((t.lanes&a)!==0&&(fd(t,r),Al(r,null,null,a),Sl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ar(r,Nt,l)):(l=d.cache,Ar(r,Nt,l),l!==h.cache&&ad(r,[Nt],a,!0))),qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zi(t){t.flags|=4}function U_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kv(r)){if(r=Ln.current,r!==null&&((Ue&4194048)===Ue?fi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==fi))throw bl=cd,Ty;t.flags|=8192}}function zc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Qo():536870912,t.lanes|=r,so|=r)}function Ol(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function GS(t,r,a){var l=r.pendingProps;switch(nd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),$i(Nt),Jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(pl(r)?Zi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gy())),ot(r),null;case 26:return a=r.memoizedState,t===null?(Zi(r),a!==null?(ot(r),U_(r,a)):(ot(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Zi(r),ot(r),U_(r,a)):(ot(r),r.flags&=-16777217):(t.memoizedProps!==l&&Zi(r),ot(r),r.flags&=-16777217),null;case 27:Di(r),a=we.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}t=ye.current,pl(r)?my(r):(t=Uv(h,l,a),r.stateNode=t,Zi(r))}return ot(r),null;case 5:if(Di(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(t=ye.current,pl(r))my(r);else{switch(h=eh(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[It]=r,t[Et]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Zi(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Zi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,pl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Dv(t.nodeValue,a)),t||Qs(r)}else t=eh(t).createTextNode(l),t[It]=r,r.stateNode=t}return ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=pl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=r}else gl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=gy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Xi(r),r):(Xi(r),null)}if(Xi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),zc(r,r.updateQueue),ot(r),null;case 4:return Jn(),t===null&&mm(r.stateNode.containerInfo),ot(r),null;case 10:return $i(r.type),ot(r),null;case 19:if(ue(Dt),h=r.memoizedState,h===null)return ot(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Ol(h,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Vc(t),d!==null){for(r.flags|=128,Ol(h,!1),t=d.updateQueue,r.updateQueue=t,zc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)fy(a,t),a=a.sibling;return ae(Dt,Dt.current&1|2),r.child}t=t.sibling}h.tail!==null&&In()>Fc&&(r.flags|=128,l=!0,Ol(h,!1),r.lanes=4194304)}else{if(!l)if(t=Vc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,zc(r,t),Ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ze)return ot(r),null}else 2*In()-h.renderingStartTime>Fc&&a!==536870912&&(r.flags|=128,l=!0,Ol(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=In(),r.sibling=null,t=Dt.current,ae(Dt,l?t&1|2:t&1),r):(ot(r),null);case 22:case 23:return Xi(r),gd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&zc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ue(Zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),$i(Nt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function KS(t,r){switch(nd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return $i(Nt),Jn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Di(r),null;case 13:if(Xi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));gl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ue(Dt),null;case 4:return Jn(),null;case 10:return $i(r.type),null;case 22:case 23:return Xi(r),gd(),t!==null&&ue(Zs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return $i(Nt),null;case 25:return null;default:return null}}function j_(t,r){switch(nd(r),r.tag){case 3:$i(Nt),Jn();break;case 26:case 27:case 5:Di(r);break;case 4:Jn();break;case 13:Xi(r);break;case 19:ue(Dt);break;case 10:$i(r.type);break;case 22:case 23:Xi(r),gd(),t!==null&&ue(Zs);break;case 24:$i(Nt)}}function kl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(r,r.return,T)}}function Or(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var C=a,G=T;try{G()}catch(W){Ze(h,C,W)}}}l=l.next}while(l!==d)}}catch(W){Ze(r,r.return,W)}}function B_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Iy(r,a)}catch(l){Ze(t,t.return,l)}}}function z_(t,r,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,r,l)}}function Ml(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,r,h)}}function di(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,r,h)}else a.current=null}function q_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Fd(t,r,a){try{var l=t.stateNode;dA(l,t.type,a,r),l[Et]=r}catch(h){Ze(t,t.return,h)}}function H_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Br(t.type)||t.tag===4}function Gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Br(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Jc));else if(l!==4&&(l===27&&Br(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Kd(t,r,a),t=t.sibling;t!==null;)Kd(t,r,a),t=t.sibling}function qc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Br(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(qc(t,r,a),t=t.sibling;t!==null;)qc(t,r,a),t=t.sibling}function F_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ft(r,l,a),r[It]=t,r[Et]=a}catch(d){Ze(t,t.return,d)}}var Ji=!1,yt=!1,Yd=!1,G_=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function YS(t,r){if(t=t.containerInfo,ym=ah,t=ny(t),Gf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,C=-1,G=0,W=0,ee=t,K=null;t:for(;;){for(var Y;ee!==a||h!==0&&ee.nodeType!==3||(T=v+h),ee!==d||l!==0&&ee.nodeType!==3||(C=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)K=ee,ee=Y;for(;;){if(ee===t)break t;if(K===a&&++G===h&&(T=v),K===d&&++W===l&&(C=v),(Y=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=Y}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(_m={focusedElem:t,selectionRange:a},ah=!1,Lt=r;Lt!==null;)if(r=Lt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Lt=t;else for(;Lt!==null;){switch(r=Lt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=ea(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Tm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Lt=t;break}Lt=r.return}}function K_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:kr(t,a),l&4&&kl(5,a);break;case 1:if(kr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=ea(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&B_(a),l&512&&Ml(a,a.return);break;case 3:if(kr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Iy(t,r)}catch(v){Ze(a,a.return,v)}}break;case 27:r===null&&l&4&&F_(a);case 26:case 5:kr(t,a),r===null&&l&4&&q_(a),l&512&&Ml(a,a.return);break;case 12:kr(t,a);break;case 13:kr(t,a),l&4&&Q_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=nA.bind(null,a),EA(t,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){r=r!==null&&r.memoizedState!==null||yt,h=Ji;var d=yt;Ji=l,(yt=r)&&!d?Mr(t,a,(a.subtreeFlags&8772)!==0):kr(t,a),Ji=h,yt=d}break;case 30:break;default:kr(t,a)}}function Y_(t){var r=t.alternate;r!==null&&(t.alternate=null,Y_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Tr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,fn=!1;function er(t,r,a){for(a=a.child;a!==null;)$_(t,r,a),a=a.sibling}function $_(t,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:yt||di(a,r),er(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||di(a,r);var l=at,h=fn;Br(a.type)&&(at=a.stateNode,fn=!1),er(t,r,a),Hl(a.stateNode),at=l,fn=h;break;case 5:yt||di(a,r);case 6:if(l=at,h=fn,at=null,er(t,r,a),at=l,fn=h,at!==null)if(fn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{at.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:at!==null&&(fn?(t=at,Vv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Wl(t)):Vv(at,a.stateNode));break;case 4:l=at,h=fn,at=a.stateNode.containerInfo,fn=!0,er(t,r,a),at=l,fn=h;break;case 0:case 11:case 14:case 15:yt||Or(2,a,r),yt||Or(4,a,r),er(t,r,a);break;case 1:yt||(di(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&z_(a,r,l)),er(t,r,a);break;case 21:er(t,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,er(t,r,a),yt=l;break;default:er(t,r,a)}}function Q_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wl(t)}catch(a){Ze(r,r.return,a)}}function $S(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new G_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new G_),r;default:throw Error(s(435,t.tag))}}function $d(t,r){var a=$S(t);r.forEach(function(l){var h=iA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Tn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Br(T.type)){at=T.stateNode,fn=!1;break e}break;case 5:at=T.stateNode,fn=!1;break e;case 3:case 4:at=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(at===null)throw Error(s(160));$_(d,v,h),at=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)X_(r,t),r=r.sibling}var Yn=null;function X_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(r,t),bn(t),l&4&&(Or(3,t,t.return),kl(3,t),Or(5,t,t.return));break;case 1:Tn(r,t),bn(t),l&512&&(yt||a===null||di(a,a.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Yn;if(Tn(r,t),bn(t),l&512&&(yt||a===null||di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[xs]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[It]=t,pt(d),l=d;break e;case"link":var v=Fv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Fv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,pt(d),l=d}t.stateNode=l}else Gv(h,t.type,t.stateNode);else t.stateNode=Hv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Gv(h,t.type,t.stateNode):Hv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(r,t),bn(t),l&512&&(yt||a===null||di(a,a.return)),a!==null&&l&4&&Fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(r,t),bn(t),l&512&&(yt||a===null||di(a,a.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(Y){Ze(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Fd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Yd=!0);break;case 6:if(Tn(r,t),bn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Y){Ze(t,t.return,Y)}}break;case 3:if(ih=null,h=Yn,Yn=th(r.containerInfo),Tn(r,t),Yn=h,bn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wl(r.containerInfo)}catch(Y){Ze(t,t.return,Y)}Yd&&(Yd=!1,W_(t));break;case 4:l=Yn,Yn=th(t.stateNode.containerInfo),Tn(r,t),bn(t),Yn=l;break;case 12:Tn(r,t),bn(t);break;case 13:Tn(r,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(em=In()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$d(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,G=Ji,W=yt;if(Ji=G||h,yt=W||C,Tn(r,t),yt=W,Ji=G,bn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||Ji||yt||ta(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var ee=C.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Y){Ze(C,C.return,Y)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(Y){Ze(C,C.return,Y)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$d(t,a))));break;case 19:Tn(r,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$d(t,l)));break;case 30:break;case 21:break;default:Tn(r,t),bn(t)}}function bn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(H_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Gd(t);qc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(xn(v,""),a.flags&=-33);var T=Gd(t);qc(t,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,G=Gd(t);Kd(t,G,C);break;default:throw Error(s(161))}}catch(W){Ze(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function W_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;W_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function kr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)K_(t,r.alternate,r),r=r.sibling}function ta(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Or(4,r,r.return),ta(r);break;case 1:di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&z_(r,r.return,a),ta(r);break;case 27:Hl(r.stateNode);case 26:case 5:di(r,r.return),ta(r);break;case 22:r.memoizedState===null&&ta(r);break;case 30:ta(r);break;default:ta(r)}t=t.sibling}}function Mr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Mr(h,d,a),kl(4,d);break;case 1:if(Mr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){Ze(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Ry(C[h],T)}catch(G){Ze(l,l.return,G)}}a&&v&64&&B_(d),Ml(d,d.return);break;case 27:F_(d);case 26:case 5:Mr(h,d,a),a&&l===null&&v&4&&q_(d),Ml(d,d.return);break;case 12:Mr(h,d,a);break;case 13:Mr(h,d,a),a&&v&4&&Q_(h,d);break;case 22:d.memoizedState===null&&Mr(h,d,a),Ml(d,d.return);break;case 30:break;default:Mr(h,d,a)}r=r.sibling}}function Qd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&vl(a))}function Xd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&vl(t))}function mi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Z_(t,r,a,l),r=r.sibling}function Z_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:mi(t,r,a,l),h&2048&&kl(9,r);break;case 1:mi(t,r,a,l);break;case 3:mi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&vl(t)));break;case 12:if(h&2048){mi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(r,r.return,C)}}else mi(t,r,a,l);break;case 13:mi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?mi(t,r,a,l):Pl(t,r):d._visibility&2?mi(t,r,a,l):(d._visibility|=2,no(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Qd(v,r);break;case 24:mi(t,r,a,l),h&2048&&Xd(r.alternate,r);break;default:mi(t,r,a,l)}}function no(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,C=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:no(d,v,T,C,h),kl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?no(d,v,T,C,h):Pl(d,v):(W._visibility|=2,no(d,v,T,C,h)),h&&G&2048&&Qd(v.alternate,v);break;case 24:no(d,v,T,C,h),h&&G&2048&&Xd(v.alternate,v);break;default:no(d,v,T,C,h)}r=r.sibling}}function Pl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:Pl(a,l),h&2048&&Qd(l.alternate,l);break;case 24:Pl(a,l),h&2048&&Xd(l.alternate,l);break;default:Pl(a,l)}r=r.sibling}}var Vl=8192;function io(t){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)J_(t),t=t.sibling}function J_(t){switch(t.tag){case 26:io(t),t.flags&Vl&&t.memoizedState!==null&&kA(Yn,t.memoizedState,t.memoizedProps);break;case 5:io(t);break;case 3:case 4:var r=Yn;Yn=th(t.stateNode.containerInfo),io(t),Yn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Vl,Vl=16777216,io(t),Vl=r):io(t));break;default:io(t)}}function ev(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ll(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,nv(l,t)}ev(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tv(t),t=t.sibling}function tv(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&Or(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Hc(t)):Ll(t);break;default:Ll(t)}}function Hc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,nv(l,t)}ev(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Or(8,r,r.return),Hc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Hc(r));break;default:Hc(r)}t=t.sibling}}function nv(t,r){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Or(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(Y_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var QS={getCacheForType:function(t){var r=Zt(Nt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},XS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Ne=null,Ue=0,Ke=0,wn=null,Pr=!1,ro=!1,Wd=!1,tr=0,mt=0,Vr=0,na=0,Zd=0,Un=0,so=0,Ul=null,dn=null,Jd=!1,em=0,Fc=1/0,Gc=null,Lr=null,Ht=0,Ur=null,ao=null,oo=0,tm=0,nm=null,iv=null,jl=0,im=null;function Sn(){if((Ge&2)!==0&&Ue!==0)return Ue&-Ue;if(X.T!==null){var t=$a;return t!==0?t:cm()}return vr()}function rv(){Un===0&&(Un=(Ue&536870912)===0||ze?$o():536870912);var t=Ln.current;return t!==null&&(t.flags|=32),Un}function An(t,r,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(lo(t,0),jr(t,Ue,Un,!1)),ki(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(na|=a),mt===4&&jr(t,Ue,Un,!1)),pi(t))}function sv(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Cs(t,r),h=l?JS(t,r):am(t,r,!0),d=l;do{if(h===0){ro&&!l&&jr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!WS(a)){h=am(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=Ul;var C=T.current.memoizedState.isDehydrated;if(C&&(lo(T,v).flags|=256),v=am(T,v,!1),v!==2){if(Wd&&!C){T.errorRecoveryDisabledLanes|=d,na|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){lo(t,0),jr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:jr(l,r,Un,!Pr);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=em+300-In(),10<h)){if(jr(l,r,Un,!Pr),Aa(l,0,!0)!==0)break e;l.timeoutHandle=Mv(av.bind(null,l,a,dn,Gc,Jd,r,Un,na,so,Pr,d,2,-0,0),h);break e}av(l,a,dn,Gc,Jd,r,Un,na,so,Pr,d,0,-0,0)}}break}while(!0);pi(t)}function av(t,r,a,l,h,d,v,T,C,G,W,ee,K,Y){if(t.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:OA},J_(r),ee=MA(),ee!==null)){t.cancelPendingCommit=ee(dv.bind(null,t,r,d,a,l,h,v,T,C,W,1,K,Y)),jr(t,d,v,!G);return}dv(t,r,d,a,l,h,v,T,C)}function WS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(t,r,a,l){r&=~Zd,r&=~na,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Wt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ei(t,a,r)}function Kc(){return(Ge&6)===0?(Bl(0),!1):!0}function rm(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Yi=Xs=null,Td(t),eo=null,Nl=0,t=Ne;for(;t!==null;)j_(t.alternate,t),t=t.return;Ne=null}}function lo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rm(),et=t,Ne=a=Fi(t.current,null),Ue=r,Ke=0,wn=null,Pr=!1,ro=Cs(t,r),Wd=!1,so=Un=Zd=na=Vr=mt=0,dn=Ul=null,Jd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Wt(l),d=1<<h;r|=t[h],l&=~d}return tr=r,mc(),a}function ov(t,r){Ie=null,X.H=kc,r===Tl||r===wc?(r=Sy(),Ke=3):r===Ty?(r=Sy(),Ke=4):Ke=r===A_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Ne===null&&(mt=1,Uc(t,kn(r,t.current)))}function lv(){var t=X.H;return X.H=kc,t===null?kc:t}function uv(){var t=X.A;return X.A=QS,t}function sm(){mt=4,Pr||(Ue&4194048)!==Ue&&Ln.current!==null||(ro=!0),(Vr&134217727)===0&&(na&134217727)===0||et===null||jr(et,Ue,Un,!1)}function am(t,r,a){var l=Ge;Ge|=2;var h=lv(),d=uv();(et!==t||Ue!==r)&&(Gc=null,lo(t,r)),r=!1;var v=mt;e:do try{if(Ke!==0&&Ne!==null){var T=Ne,C=wn;switch(Ke){case 8:rm(),v=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var G=Ke;if(Ke=0,wn=null,uo(t,T,C,G),a&&ro){v=0;break e}break;default:G=Ke,Ke=0,wn=null,uo(t,T,C,G)}}ZS(),v=mt;break}catch(W){ov(t,W)}while(!0);return r&&t.shellSuspendCounter++,Yi=Xs=null,Ge=l,X.H=h,X.A=d,Ne===null&&(et=null,Ue=0,mc()),v}function ZS(){for(;Ne!==null;)cv(Ne)}function JS(t,r){var a=Ge;Ge|=2;var l=lv(),h=uv();et!==t||Ue!==r?(Gc=null,Fc=In()+500,lo(t,r)):ro=Cs(t,r);e:do try{if(Ke!==0&&Ne!==null){r=Ne;var d=wn;t:switch(Ke){case 1:Ke=0,wn=null,uo(t,r,d,1);break;case 2:case 9:if(by(d)){Ke=0,wn=null,hv(r);break}r=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),pi(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:by(d)?(Ke=0,wn=null,hv(r)):(Ke=0,wn=null,uo(t,r,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(!v||Kv(v)){Ke=0,wn=null;var C=T.sibling;if(C!==null)Ne=C;else{var G=T.return;G!==null?(Ne=G,Yc(G)):Ne=null}break t}}Ke=0,wn=null,uo(t,r,d,5);break;case 6:Ke=0,wn=null,uo(t,r,d,6);break;case 8:rm(),mt=6;break e;default:throw Error(s(462))}}eA();break}catch(W){ov(t,W)}while(!0);return Yi=Xs=null,X.H=l,X.A=h,Ge=a,Ne!==null?0:(et=null,Ue=0,mc(),mt)}function eA(){for(;Ne!==null&&!Fo();)cv(Ne)}function cv(t){var r=L_(t.alternate,t,tr);t.memoizedProps=t.pendingProps,r===null?Yc(t):Ne=r}function hv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=D_(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=D_(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Td(r);default:j_(a,r),r=Ne=fy(r,tr),r=L_(a,r,tr)}t.memoizedProps=t.pendingProps,r===null?Yc(t):Ne=r}function uo(t,r,a,l){Yi=Xs=null,Td(r),eo=null,Nl=0;var h=r.return;try{if(HS(t,h,r,a,Ue)){mt=1,Uc(t,kn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;mt=1,Uc(t,kn(a,t.current)),Ne=null;return}r.flags&32768?(ze||l===1?t=!0:ro||(Ue&536870912)!==0?t=!1:(Pr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),fv(r,t)):Yc(r)}function Yc(t){var r=t;do{if((r.flags&32768)!==0){fv(r,Pr);return}t=r.return;var a=GS(r.alternate,r,tr);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);mt===0&&(mt=5)}function fv(t,r){do{var a=KS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);mt=6,Ne=null}function dv(t,r,a,l,h,d,v,T,C){t.cancelPendingCommit=null;do $c();while(Ht!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Xf,Xo(t,a,d,v,T,C),t===et&&(Ne=et=null,Ue=0),ao=r,Ur=t,oo=a,tm=d,nm=h,iv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rA(Ss,function(){return _v(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=le.p,le.p=2,v=Ge,Ge|=4;try{YS(t,r,a)}finally{Ge=v,le.p=h,X.T=l}}Ht=1,mv(),pv(),gv()}}function mv(){if(Ht===1){Ht=0;var t=Ur,r=ao,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{X_(r,t);var d=_m,v=ny(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&ty(T.ownerDocument.documentElement,T)){if(C!==null&&Gf(T)){var G=C.start,W=C.end;if(W===void 0&&(W=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(W,T.value.length);else{var ee=T.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var Y=K.getSelection(),be=T.textContent.length,_e=Math.min(C.start,be),Xe=C.end===void 0?_e:Math.min(C.end,be);!Y.extend&&_e>Xe&&(v=Xe,Xe=_e,_e=v);var B=ey(T,_e),k=ey(T,Xe);if(B&&k&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var F=ee.createRange();F.setStart(B.node,B.offset),Y.removeAllRanges(),_e>Xe?(Y.addRange(F),Y.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),Y.addRange(F))}}}}for(ee=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ah=!!ym,_m=ym=null}finally{Ge=h,le.p=l,X.T=a}}t.current=r,Ht=2}}function pv(){if(Ht===2){Ht=0;var t=Ur,r=ao,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{K_(t,r.alternate,r)}finally{Ge=h,le.p=l,X.T=a}}Ht=3}}function gv(){if(Ht===4||Ht===3){Ht=0,Hu();var t=Ur,r=ao,a=oo,l=iv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,ao=Ur=null,yv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Lr=null),Ra(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,h=le.p,le.p=2,X.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{X.T=r,le.p=h}}(oo&3)!==0&&$c(),pi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===im?jl++:(jl=0,im=t):jl=0,Bl(0)}}function yv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,vl(r)))}function $c(t){return mv(),pv(),gv(),_v()}function _v(){if(Ht!==5)return!1;var t=Ur,r=tm;tm=0;var a=Ra(oo),l=X.T,h=le.p;try{le.p=32>a?32:a,X.T=null,a=nm,nm=null;var d=Ur,v=oo;if(Ht=0,ao=Ur=null,oo=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,tv(d.current),Z_(d,d.current,v,a),Ge=T,Bl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{le.p=h,X.T=l,yv(t,r)}}function vv(t,r,a){r=kn(a,r),r=Pd(t.stateNode,r,2),t=Cr(t,r,2),t!==null&&(ki(t,2),pi(t))}function Ze(t,r,a){if(t.tag===3)vv(t,t,a);else for(;r!==null;){if(r.tag===3){vv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Lr===null||!Lr.has(l))){t=kn(a,t),a=w_(2),l=Cr(r,a,2),l!==null&&(S_(a,l,r,t),ki(l,2),pi(l));break}}r=r.return}}function om(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new XS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Wd=!0,h.add(a),t=tA.bind(null,t,r,a),r.then(t,t))}function tA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Ue&a)===a&&(mt===4||mt===3&&(Ue&62914560)===Ue&&300>In()-em?(Ge&2)===0&&lo(t,0):Zd|=a,so===Ue&&(so=0)),pi(t)}function Ev(t,r){r===0&&(r=Qo()),t=Fa(t,r),t!==null&&(ki(t,r),pi(t))}function nA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Ev(t,a)}function iA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Ev(t,a)}function rA(t,r){return bs(t,r)}var Qc=null,co=null,lm=!1,Xc=!1,um=!1,ia=0;function pi(t){t!==co&&t.next===null&&(co===null?Qc=co=t:co=co.next=t),Xc=!0,lm||(lm=!0,aA())}function Bl(t,r){if(!um&&Xc){um=!0;do for(var a=!1,l=Qc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Sv(l,d))}else d=Ue,d=Aa(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Cs(l,d)||(a=!0,Sv(l,d));l=l.next}while(a);um=!1}}function sA(){Tv()}function Tv(){Xc=lm=!1;var t=0;ia!==0&&(mA()&&(t=ia),ia=0);for(var r=In(),a=null,l=Qc;l!==null;){var h=l.next,d=bv(l,r);d===0?(l.next=null,a===null?Qc=h:a.next=h,h===null&&(co=a)):(a=l,(t!==0||(d&3)!==0)&&(Xc=!0)),l=h}Bl(t)}function bv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Wt(d),T=1<<v,C=h[v];C===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Yo(T,r)):C<=r&&(t.expiredLanes|=T),d&=~T}if(r=et,a=Ue,a=Aa(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ws(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Cs(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ws(l),Ra(a)){case 2:case 8:a=wa;break;case 32:a=Ss;break;case 268435456:a=Sa;break;default:a=Ss}return l=wv.bind(null,t),a=bs(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ws(l),t.callbackPriority=2,t.callbackNode=null,2}function wv(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($c()&&t.callbackNode!==a)return null;var l=Ue;return l=Aa(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sv(t,l,r),bv(t,In()),t.callbackNode!=null&&t.callbackNode===a?wv.bind(null,t):null)}function Sv(t,r){if($c())return null;sv(t,r,!0)}function aA(){gA(function(){(Ge&6)!==0?bs(Go,sA):Tv()})}function cm(){return ia===0&&(ia=$o()),ia}function Av(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oa(""+t)}function Rv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function oA(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=Av((h[Et]||null).action),v=l.submitter;v&&(r=(r=v[Et]||null)?Av(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new ka("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ia!==0){var C=v?Rv(h,v):new FormData(h);Nd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?Rv(h,v):new FormData(h),Nd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var hm=0;hm<Qf.length;hm++){var fm=Qf[hm],lA=fm.toLowerCase(),uA=fm[0].toUpperCase()+fm.slice(1);Kn(lA,"on"+uA)}Kn(sy,"onAnimationEnd"),Kn(ay,"onAnimationIteration"),Kn(oy,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(RS,"onTransitionRun"),Kn(IS,"onTransitionStart"),Kn(CS,"onTransitionCancel"),Kn(ly,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Iv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,G=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=G;try{d(h)}catch(W){Lc(W)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,G=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=G;try{d(h)}catch(W){Lc(W)}h.currentTarget=null,d=C}}}}function De(t,r){var a=r[Zo];a===void 0&&(a=r[Zo]=new Set);var l=t+"__bubble";a.has(l)||(Cv(r,t,2,!1),a.add(l))}function dm(t,r,a){var l=0;r&&(l|=4),Cv(a,t,l,r)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function mm(t){if(!t[Wc]){t[Wc]=!0,Jo.forEach(function(a){a!=="selectionchange"&&(cA.has(a)||dm(a,!1,t),dm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Wc]||(r[Wc]=!0,dm("selectionchange",!1,r))}}function Cv(t,r,a,l){switch(Zv(r)){case 2:var h=LA;break;case 8:h=UA;break;default:h=Cm}a=h.bind(null,r,a,t),h=void 0,!Dn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function pm(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Mi(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Ju(function(){var G=d,W=Nn(a),ee=[];e:{var K=uy.get(t);if(K!==void 0){var Y=ka,be=t;switch(t){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":Y=ja;break;case"focusin":be="focus",Y=Va;break;case"focusout":be="blur",Y=Va;break;case"beforeblur":case"afterblur":Y=Va;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=oc;break;case sy:case ay:case oy:Y=La;break;case ly:Y=uc;break;case"scroll":case"scrollend":Y=ec;break;case"wheel":Y=Ba;break;case"copy":case"cut":case"paste":Y=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=hl;break;case"toggle":case"beforetoggle":Y=hc}var _e=(r&4)!==0,Xe=!_e&&(t==="scroll"||t==="scrollend"),B=_e?K!==null?K+"Capture":null:K;_e=[];for(var k=G,F;k!==null;){var Z=k;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||B===null||(Z=Vs(k,B),Z!=null&&_e.push(ql(k,Z,F))),Xe)break;k=k.return}0<_e.length&&(K=new Y(K,be,null,a,W),ee.push({event:K,listeners:_e}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&a!==Ui&&(be=a.relatedTarget||a.fromElement)&&(Mi(be)||be[Cn]))break e;if((Y||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(be=a.relatedTarget||a.toElement,Y=G,be=be?Mi(be):null,be!==null&&(Xe=u(be),_e=be.tag,be!==Xe||_e!==5&&_e!==27&&_e!==6)&&(be=null)):(Y=null,be=G),Y!==be)){if(_e=On,Z="onMouseLeave",B="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(_e=hl,Z="onPointerLeave",B="onPointerEnter",k="pointer"),Xe=Y==null?K:ni(Y),F=be==null?K:ni(be),K=new _e(Z,k+"leave",Y,a,W),K.target=Xe,K.relatedTarget=F,Z=null,Mi(W)===G&&(_e=new _e(B,k+"enter",be,a,W),_e.target=F,_e.relatedTarget=Xe,Z=_e),Xe=Z,Y&&be)t:{for(_e=Y,B=be,k=0,F=_e;F;F=ho(F))k++;for(F=0,Z=B;Z;Z=ho(Z))F++;for(;0<k-F;)_e=ho(_e),k--;for(;0<F-k;)B=ho(B),F--;for(;k--;){if(_e===B||B!==null&&_e===B.alternate)break t;_e=ho(_e),B=ho(B)}_e=null}else _e=null;Y!==null&&xv(ee,K,Y,_e,!1),be!==null&&Xe!==null&&xv(ee,Xe,be,_e,!0)}}e:{if(K=G?ni(G):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var de=$g;else if(xt(K))if(Qg)de=wS;else{de=TS;var xe=ES}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&rl(G.elementType)&&(de=$g):de=bS;if(de&&(de=de(t,G))){Hi(ee,de,a,W);break e}xe&&xe(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&wr(K,"number",K.value)}switch(xe=G?ni(G):window,t){case"focusin":(xt(xe)||xe.contentEditable==="true")&&(za=xe,Kf=G,ml=null);break;case"focusout":ml=Kf=za=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,iy(ee,a,W);break;case"selectionchange":if(AS)break;case"keydown":case"keyup":iy(ee,a,W)}var pe;if(ui)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?$(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(pe=al()):(si=W,Sr="value"in si?si.value:si.textContent,Ve=!0)),xe=Zc(G,ve),0<xe.length&&(ve=new ul(ve,t,null,a,W),ee.push({event:ve,listeners:xe}),pe?ve.data=pe:(pe=oe(a),pe!==null&&(ve.data=pe)))),(pe=y?Ct(t,a):Le(t,a))&&(ve=Zc(G,"onBeforeInput"),0<ve.length&&(xe=new ul("onBeforeInput","beforeinput",null,a,W),ee.push({event:xe,listeners:ve}),xe.data=pe)),oA(ee,t,G,a,W)}Iv(ee,r)})}function ql(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Zc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Vs(t,a),h!=null&&l.unshift(ql(t,h,d)),h=Vs(t,r),h!=null&&l.push(ql(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xv(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,G=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||G===null||(C=G,h?(G=Vs(a,d),G!=null&&v.unshift(ql(a,G,C))):h||(G=Vs(a,d),G!=null&&v.push(ql(a,G,C)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var hA=/\r\n?/g,fA=/\u0000|\uFFFD/g;function Nv(t){return(typeof t=="string"?t:""+t).replace(hA,`
`).replace(fA,"")}function Dv(t,r){return r=Nv(r),Nv(t)===r}function Jc(){}function Qe(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&xn(t,""+l);break;case"className":ii(t,"class",l);break;case"tabIndex":ii(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(t,a,l);break;case"style":il(t,l,d);break;case"data":if(r!=="object"){ii(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Oa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Qe(t,r,"name",h.name,h,null),Qe(t,r,"formEncType",h.formEncType,h,null),Qe(t,r,"formMethod",h.formMethod,h,null),Qe(t,r,"formTarget",h.formTarget,h,null)):(Qe(t,r,"encType",h.encType,h,null),Qe(t,r,"method",h.method,h,null),Qe(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Oa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jc);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),br(t,"popover",l);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":br(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jf.get(a)||a,br(t,a,l))}}function gm(t,r,a,l,h,d){switch(a){case"style":il(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):br(t,a,l)}}}function Ft(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(t,r,d,v,a,null)}}h&&Qe(t,r,"srcSet",a.srcSet,a,null),l&&Qe(t,r,"src",a.src,a,null);return;case"input":De("invalid",t);var T=d=v=h=null,C=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":C=W;break;case"defaultChecked":G=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Qe(t,r,l,W,a,null)}}ks(t,d,T,C,G,v,h,!1),Da(t);return;case"select":De("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Qe(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Li(t,!!l,r,!1):a!=null&&Li(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Qe(t,r,v,T,a,null)}Ms(t,l,h,d),Da(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(t,r,C,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)De(zl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(t,r,G,l,a,null)}return;default:if(rl(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&gm(t,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Qe(t,r,T,l,a,null))}function dA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,G=null,W=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=ee;default:l.hasOwnProperty(Y)||Qe(t,r,Y,null,l,ee)}}for(var K in l){var Y=l[K];if(ee=a[K],l.hasOwnProperty(K)&&(Y!=null||ee!=null))switch(K){case"type":d=Y;break;case"name":h=Y;break;case"checked":G=Y;break;case"defaultChecked":W=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ee&&Qe(t,r,K,Y,l,ee)}}_n(t,v,T,C,G,W,d,h);return;case"select":Y=v=T=K=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(d)||Qe(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Qe(t,r,h,d,l,C)}r=T,a=v,l=Y,K!=null?Li(t,!!a,K,!1):!!l!=!!a&&(r!=null?Li(t,!!a,r,!0):Li(t,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Qe(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Qe(t,r,v,h,l,d)}Ye(t,K,Y);return;case"option":for(var be in a)if(K=a[be],a.hasOwnProperty(be)&&K!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:Qe(t,r,be,null,l,K)}for(C in l)if(K=l[C],Y=a[C],l.hasOwnProperty(C)&&K!==Y&&(K!=null||Y!=null))switch(C){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Qe(t,r,C,K,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!l.hasOwnProperty(_e)&&Qe(t,r,_e,null,l,K);for(G in l)if(K=l[G],Y=a[G],l.hasOwnProperty(G)&&K!==Y&&(K!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Qe(t,r,G,K,l,Y)}return;default:if(rl(r)){for(var Xe in a)K=a[Xe],a.hasOwnProperty(Xe)&&K!==void 0&&!l.hasOwnProperty(Xe)&&gm(t,r,Xe,void 0,l,K);for(W in l)K=l[W],Y=a[W],!l.hasOwnProperty(W)||K===Y||K===void 0&&Y===void 0||gm(t,r,W,K,l,Y);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&Qe(t,r,B,null,l,K);for(ee in l)K=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||K===Y||K==null&&Y==null||Qe(t,r,ee,K,l,Y)}var ym=null,_m=null;function eh(t){return t.nodeType===9?t:t.ownerDocument}function Ov(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function vm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Em=null;function mA(){var t=window.event;return t&&t.type==="popstate"?t===Em?!1:(Em=t,!0):(Em=null,!1)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(t){return Pv.resolve(null).then(t).catch(yA)}:Mv;function yA(t){setTimeout(function(){throw t})}function Br(t){return t==="head"}function Vv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Hl(v.documentElement),a&2&&Hl(v.body),a&4)for(a=v.head,Hl(a),v=a.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[xs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Wl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Wl(r)}function Tm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tm(a),Tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _A(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function vA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function bm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function EA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var wm=null;function Lv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Uv(t,r,a){switch(r=eh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Hl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Tr(t)}var jn=new Map,jv=new Set;function th(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var nr=le.d;le.d={f:TA,r:bA,D:wA,C:SA,L:AA,m:RA,X:CA,S:IA,M:xA};function TA(){var t=nr.f(),r=Kc();return t||r}function bA(t){var r=ti(t);r!==null&&r.tag===5&&r.type==="form"?s_(r):nr.r(t)}var fo=typeof document>"u"?null:document;function Bv(t,r,a){var l=fo;if(l&&typeof r=="string"&&r){var h=Tt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),jv.has(h)||(jv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Ft(r,"link",t),pt(r),l.head.appendChild(r)))}}function wA(t){nr.D(t),Bv("dns-prefetch",t,null)}function SA(t,r){nr.C(t,r),Bv("preconnect",t,r)}function AA(t,r,a){nr.L(t,r,a);var l=fo;if(l&&t&&r){var h='link[rel="preload"][as="'+Tt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tt(a.imageSizes)+'"]')):h+='[href="'+Tt(t)+'"]';var d=h;switch(r){case"style":d=mo(t);break;case"script":d=po(t)}jn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),jn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Fl(d))||r==="script"&&l.querySelector(Gl(d))||(r=l.createElement("link"),Ft(r,"link",t),pt(r),l.head.appendChild(r)))}}function RA(t,r){nr.m(t,r);var a=fo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=po(t)}if(!jn.has(d)&&(t=E({rel:"modulepreload",href:t},r),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(d)))return}l=a.createElement("link"),Ft(l,"link",t),pt(l),a.head.appendChild(l)}}}function IA(t,r,a){nr.S(t,r,a);var l=fo;if(l&&t){var h=sn(l).hoistableStyles,d=mo(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Fl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=jn.get(d))&&Sm(t,a);var C=v=l.createElement("link");pt(C),Ft(C,"link",t),C._p=new Promise(function(G,W){C.onload=G,C.onerror=W}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,nh(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function CA(t,r){nr.X(t,r);var a=fo;if(a&&t){var l=sn(a).hoistableScripts,h=po(t),d=l.get(h);d||(d=a.querySelector(Gl(h)),d||(t=E({src:t,async:!0},r),(r=jn.get(h))&&Am(t,r),d=a.createElement("script"),pt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xA(t,r){nr.M(t,r);var a=fo;if(a&&t){var l=sn(a).hoistableScripts,h=po(t),d=l.get(h);d||(d=a.querySelector(Gl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=jn.get(h))&&Am(t,r),d=a.createElement("script"),pt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function zv(t,r,a,l){var h=(h=we.current)?th(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=mo(a.href),a=sn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=mo(a.href);var d=sn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Fl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||NA(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=po(a),a=sn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function mo(t){return'href="'+Tt(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function qv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function NA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ft(r,"link",a),pt(r),t.head.appendChild(r))}function po(t){return'[src="'+Tt(t)+'"]'}function Gl(t){return"script[async]"+t}function Hv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return r.instance=l,pt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),Ft(l,"style",h),nh(l,a.precedence,t),r.instance=l;case"stylesheet":h=mo(a.href);var d=t.querySelector(Fl(h));if(d)return r.state.loading|=4,r.instance=d,pt(d),d;l=qv(a),(h=jn.get(h))&&Sm(l,h),d=(t.ownerDocument||t).createElement("link"),pt(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ft(d,"link",l),r.state.loading|=4,nh(d,a.precedence,t),r.instance=d;case"script":return d=po(a.src),(h=t.querySelector(Gl(d)))?(r.instance=h,pt(h),h):(l=a,(h=jn.get(d))&&(l=E({},a),Am(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),Ft(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,nh(l,a.precedence,t));return r.instance}function nh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Sm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Am(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var ih=null;function Fv(t,r,a){if(ih===null){var l=new Map,h=ih=new Map;h.set(a,l)}else h=ih,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[xs]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Gv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function DA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Kl=null;function OA(){}function kA(t,r,a){if(Kl===null)throw Error(s(475));var l=Kl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=mo(a.href),d=t.querySelector(Fl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=rh.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,pt(d);return}d=t.ownerDocument||t,a=qv(a),(h=jn.get(h))&&Sm(a,h),d=d.createElement("link"),pt(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ft(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=rh.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function MA(){if(Kl===null)throw Error(s(475));var t=Kl;return t.stylesheets&&t.count===0&&Rm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Rm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function rh(){if(this.count--,this.count===0){if(this.stylesheets)Rm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sh=null;function Rm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sh=new Map,r.forEach(PA,t),sh=null,rh.call(t))}function PA(t,r){if(!(r.state.loading&4)){var a=sh.get(t);if(a)var l=a.get(null);else{a=new Map,sh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=rh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Yl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function VA(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Yv(t,r,a,l,h,d,v,T,C,G,W,ee){return t=new VA(t,r,a,v,T,C,G,ee),r=1,d===!0&&(r|=24),d=En(3,null,null,r),t.current=d,d.stateNode=t,r=od(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},hd(d),t}function $v(t){return t?(t=Ga,t):Ga}function Qv(t,r,a,l,h,d){h=$v(h),l.context===null?l.context=h:l.pendingContext=h,l=Ir(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Cr(t,l,r),a!==null&&(An(a,t,r),wl(a,t,r))}function Xv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Im(t,r){Xv(t,r),(t=t.alternate)&&Xv(t,r)}function Wv(t){if(t.tag===13){var r=Fa(t,67108864);r!==null&&An(r,t,67108864),Im(t,67108864)}}var ah=!0;function LA(t,r,a,l){var h=X.T;X.T=null;var d=le.p;try{le.p=2,Cm(t,r,a,l)}finally{le.p=d,X.T=h}}function UA(t,r,a,l){var h=X.T;X.T=null;var d=le.p;try{le.p=8,Cm(t,r,a,l)}finally{le.p=d,X.T=h}}function Cm(t,r,a,l){if(ah){var h=xm(l);if(h===null)pm(t,r,l,oh,a),Jv(t,l);else if(BA(h,t,r,a,l))l.stopPropagation();else if(Jv(t,l),r&4&&-1<jA.indexOf(t)){for(;h!==null;){var d=ti(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Hn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Wt(v);T.entanglements[1]|=C,v&=~C}pi(d),(Ge&6)===0&&(Fc=In()+500,Bl(0))}}break;case 13:T=Fa(d,2),T!==null&&An(T,d,2),Kc(),Im(d,2)}if(d=xm(l),d===null&&pm(t,r,l,oh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else pm(t,r,l,null,a)}}function xm(t){return t=Nn(t),Nm(t)}var oh=null;function Nm(t){if(oh=null,t=Mi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return oh=t,null}function Zv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kf()){case Go:return 2;case wa:return 8;case Ss:case Mf:return 32;case Sa:return 268435456;default:return 32}default:return 32}}var Dm=!1,zr=null,qr=null,Hr=null,$l=new Map,Ql=new Map,Fr=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jv(t,r){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":$l.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(r.pointerId)}}function Xl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ti(r),r!==null&&Wv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function BA(t,r,a,l,h){switch(r){case"focusin":return zr=Xl(zr,t,r,a,l,h),!0;case"dragenter":return qr=Xl(qr,t,r,a,l,h),!0;case"mouseover":return Hr=Xl(Hr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return $l.set(d,Xl($l.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ql.set(d,Xl(Ql.get(d)||null,t,r,a,l,h)),!0}return!1}function eE(t){var r=Mi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Ku(t.priority,function(){if(a.tag===13){var l=Sn();l=_r(l);var h=Fa(a,l);h!==null&&An(h,a,l),Im(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=xm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ui=l,a.target.dispatchEvent(l),Ui=null}else return r=ti(a),r!==null&&Wv(r),t.blockedOn=a,!1;r.shift()}return!0}function tE(t,r,a){lh(t)&&a.delete(r)}function zA(){Dm=!1,zr!==null&&lh(zr)&&(zr=null),qr!==null&&lh(qr)&&(qr=null),Hr!==null&&lh(Hr)&&(Hr=null),$l.forEach(tE),Ql.forEach(tE)}function uh(t,r){t.blockedOn===r&&(t.blockedOn=null,Dm||(Dm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zA)))}var ch=null;function nE(t){ch!==t&&(ch=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ch===t&&(ch=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Nm(l||a)===null)continue;break}var d=ti(a);d!==null&&(t.splice(r,3),r-=3,Nd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Wl(t){function r(C){return uh(C,t)}zr!==null&&uh(zr,t),qr!==null&&uh(qr,t),Hr!==null&&uh(Hr,t),$l.forEach(r),Ql.forEach(r);for(var a=0;a<Fr.length;a++){var l=Fr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)eE(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Et]||null;if(typeof d=="function")v||nE(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Et]||null)T=v.formAction;else if(Nm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),nE(a)}}}function Om(t){this._internalRoot=t}hh.prototype.render=Om.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Sn();Qv(a,l,t,r,null,null)},hh.prototype.unmount=Om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Qv(t.current,2,null,t,null,null),Kc(),r[Cn]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var r=vr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Fr.length&&r!==0&&r<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&eE(t)}};var iE=e.version;if(iE!=="19.1.1")throw Error(s(527,iE,"19.1.1"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var qA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{ft=fh.inject(qA),Fe=fh}catch{}}return Jl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=v_,d=E_,v=T_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Yv(t,1,!1,null,null,a,l,h,d,v,T,null),t[Cn]=r.current,mm(t),new Om(r)},Jl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=v_,v=E_,T=T_,C=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),r=Yv(t,1,!0,r,a??null,l,h,d,v,T,C,G),r.context=$v(null),a=r.current,l=Sn(),l=_r(l),h=Ir(l),h.callback=null,Cr(a,h,l),a=l,r.current.lanes=a,ki(r,a),pi(r),t[Cn]=r.current,mm(t),new hh(r)},Jl.version="19.1.1",Jl}var dE;function ZA(){if(dE)return Pm.exports;dE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Pm.exports=WA(),Pm.exports}var JA=ZA();const eR=r0(JA);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mE="popstate";function tR(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=ya(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),np("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:pu(u))}function s(o,u){Xn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return iR(e,n,s,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Xn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nR(){return Math.random().toString(36).substring(2,10)}function pE(i,e){return{usr:i.state,key:i.key,idx:e}}function np(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:n,key:e&&e.key||s||nR()}}function pu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ya(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function iR(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let P=E(),q=P==null?null:P-g;g=P,p&&p({action:m,location:z.location,delta:q})}function A(P,q){m="PUSH";let ne=np(z.location,P,q);n&&n(ne,P),g=E()+1;let Q=pE(ne,g),ie=z.createHref(ne);try{f.pushState(Q,"",ie)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(ie)}u&&p&&p({action:m,location:z.location,delta:1})}function M(P,q){m="REPLACE";let ne=np(z.location,P,q);n&&n(ne,P),g=E();let Q=pE(ne,g),ie=z.createHref(ne);f.replaceState(Q,"",ie),u&&p&&p({action:m,location:z.location,delta:0})}function U(P){return rR(P)}let z={get action(){return m},get location(){return i(o,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(mE,w),p=P,()=>{o.removeEventListener(mE,w),p=null}},createHref(P){return e(o,P)},createURL:U,encodeLocation(P){let q=U(P);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:M,go(P){return f.go(P)}};return z}function rR(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:pu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function a0(i,e,n="/"){return sR(i,e,n,!1)}function sR(i,e,n,s){let o=typeof e=="string"?ya(e):e,u=cr(o.pathname||"/",n);if(u==null)return null;let f=o0(i);aR(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=yR(u);m=pR(f[p],g,s)}return m}function o0(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=or([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),o0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:dR(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of l0(u.path))o(u,f,m)}),e}function l0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=l0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function aR(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:mR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var oR=/^:[\w-]+$/,lR=3,uR=2,cR=1,hR=10,fR=-2,gE=i=>i==="*";function dR(i,e){let n=i.split("/"),s=n.length;return n.some(gE)&&(s+=fR),e&&(s+=uR),n.filter(o=>!gE(o)).reduce((o,u)=>o+(oR.test(u)?lR:u===""?cR:hR),s)}function mR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function pR(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:or([u,w.pathname]),pathnameBase:TR(or([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=or([u,w.pathnameBase]))}return f}function Mh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=gR(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let U=m[A]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const M=m[A];return w&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function gR(i,e=!1,n=!0){Xn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function yR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function cr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function _R(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ya(i):i;return{pathname:n?n.startsWith("/")?n:vR(n,e):e,search:bR(s),hash:wR(o)}}function vR(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function jm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ER(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function u0(i){let e=ER(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function c0(i,e,n,s=!1){let o;typeof i=="string"?o=ya(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),jm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),jm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),jm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=_R(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var or=i=>i.join("/").replace(/\/\/+/g,"/"),TR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),bR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,wR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function SR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var h0=["POST","PUT","PATCH","DELETE"];new Set(h0);var AR=["GET",...h0];new Set(AR);var Po=L.createContext(null);Po.displayName="DataRouter";var nf=L.createContext(null);nf.displayName="DataRouterState";L.createContext(!1);var f0=L.createContext({isTransitioning:!1});f0.displayName="ViewTransition";var RR=L.createContext(new Map);RR.displayName="Fetchers";var IR=L.createContext(null);IR.displayName="Await";var Ci=L.createContext(null);Ci.displayName="Navigation";var Iu=L.createContext(null);Iu.displayName="Location";var xi=L.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var kp=L.createContext(null);kp.displayName="RouteError";function CR(i,{relative:e}={}){lt(Cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Ci),{hash:o,pathname:u,search:f}=xu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:or([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Cu(){return L.useContext(Iu)!=null}function gr(){return lt(Cu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Iu).location}var d0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m0(i){L.useContext(Ci).static||L.useLayoutEffect(i)}function Mp(){let{isDataRoute:i}=L.useContext(xi);return i?HR():xR()}function xR(){lt(Cu(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Po),{basename:e,navigator:n}=L.useContext(Ci),{matches:s}=L.useContext(xi),{pathname:o}=gr(),u=JSON.stringify(u0(s)),f=L.useRef(!1);return m0(()=>{f.current=!0}),L.useCallback((p,g={})=>{if(Xn(f.current,d0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=c0(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:or([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}var NR=L.createContext(null);function DR(i){let e=L.useContext(xi).outlet;return e&&L.createElement(NR.Provider,{value:i},e)}function xu(i,{relative:e}={}){let{matches:n}=L.useContext(xi),{pathname:s}=gr(),o=JSON.stringify(u0(n));return L.useMemo(()=>c0(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function OR(i,e){return p0(i,e)}function p0(i,e,n,s){lt(Cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(Ci),{matches:u}=L.useContext(xi),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let q=E&&E.path||"";g0(p,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let w=gr(),A;if(e){let q=typeof e=="string"?ya(e):e;lt(g==="/"||q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${q.pathname}" was given in the \`location\` prop.`),A=q}else A=w;let M=A.pathname||"/",U=M;if(g!=="/"){let q=g.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(q.length).join("/")}let z=a0(i,{pathname:U});Xn(E||z!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Xn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=LR(z&&z.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:or([g,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?g:or([g,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),u,n,s);return e&&P?L.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},P):P}function kR(){let i=qR(),e=SR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,f)}var MR=L.createElement(kR,null),PR=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?L.createElement(xi.Provider,{value:this.props.routeContext},L.createElement(kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VR({routeContext:i,match:e,children:n}){let s=L.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(xi.Provider,{value:i},n)}function LR(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,A=!1,M=null,U=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||MR,f&&(m<0&&E===0?(g0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,U=null):m===E&&(A=!0,U=g.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,E+1)),P=()=>{let q;return w?q=M:A?q=U:g.route.Component?q=L.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=p,L.createElement(VR,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:n!=null},children:q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?L.createElement(PR,{location:n.location,revalidation:n.revalidation,component:M,error:w,children:P(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):P()},null)}function Pp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UR(i){let e=L.useContext(Po);return lt(e,Pp(i)),e}function jR(i){let e=L.useContext(nf);return lt(e,Pp(i)),e}function BR(i){let e=L.useContext(xi);return lt(e,Pp(i)),e}function Vp(i){let e=BR(i),n=e.matches[e.matches.length-1];return lt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function zR(){return Vp("useRouteId")}function qR(){let i=L.useContext(kp),e=jR("useRouteError"),n=Vp("useRouteError");return i!==void 0?i:e.errors?.[n]}function HR(){let{router:i}=UR("useNavigate"),e=Vp("useNavigate"),n=L.useRef(!1);return m0(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{Xn(n.current,d0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var yE={};function g0(i,e,n){!e&&!yE[i]&&(yE[i]=!0,Xn(!1,n))}L.memo(FR);function FR({routes:i,future:e,state:n}){return p0(i,void 0,n,e)}function GR(i){return DR(i.context)}function Yr(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ya(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:A="default"}=n,M=L.useMemo(()=>{let U=cr(p,f);return U==null?null:{location:{pathname:U,search:g,hash:E,state:w,key:A},navigationType:s}},[f,p,g,E,w,A,s]);return Xn(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:L.createElement(Ci.Provider,{value:m},L.createElement(Iu.Provider,{children:e,value:M}))}function YR({children:i,location:e}){return OR(ip(i),e)}function ip(i,e=[]){let n=[];return L.Children.forEach(i,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,ip(s.props.children,u));return}lt(s.type===Yr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=ip(s.props.children,u)),n.push(f)}),n}var bh="get",wh="application/x-www-form-urlencoded";function rf(i){return i!=null&&typeof i.tagName=="string"}function $R(i){return rf(i)&&i.tagName.toLowerCase()==="button"}function QR(i){return rf(i)&&i.tagName.toLowerCase()==="form"}function XR(i){return rf(i)&&i.tagName.toLowerCase()==="input"}function WR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ZR(i,e){return i.button===0&&(!e||e==="_self")&&!WR(i)}var dh=null;function JR(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var e1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bm(i){return i!=null&&!e1.has(i)?(Xn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):i}function t1(i,e){let n,s,o,u,f;if(QR(i)){let m=i.getAttribute("action");s=m?cr(m,e):null,n=i.getAttribute("method")||bh,o=Bm(i.getAttribute("enctype"))||wh,u=new FormData(i)}else if($R(i)||XR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?cr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||bh,o=Bm(i.getAttribute("formenctype"))||Bm(m.getAttribute("enctype"))||wh,u=new FormData(m,i),!JR()){let{name:g,type:E,value:w}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(rf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bh,s=null,o=wh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function n1(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&cr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function i1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function r1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function s1(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await i1(u,n);return f.links?f.links():[]}return[]}));return u1(s.flat(1).filter(r1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _E(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function a1(i,e,{includeHydrateFallback:n}={}){return o1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function o1(i){return[...new Set(i)]}function l1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function u1(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(l1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function y0(){let i=L.useContext(Po);return Lp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function c1(){let i=L.useContext(nf);return Lp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Up=L.createContext(void 0);Up.displayName="FrameworkContext";function _0(){let i=L.useContext(Up);return Lp(i,"You must render this element inside a <HydratedRouter> element"),i}function h1(i,e){let n=L.useContext(Up),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,A=L.useRef(null);L.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let z=q=>{q.forEach(ne=>{f(ne.isIntersecting)})},P=new IntersectionObserver(z,{threshold:.5});return A.current&&P.observe(A.current),()=>{P.disconnect()}}},[i]),L.useEffect(()=>{if(s){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[s]);let M=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:eu(m,M),onBlur:eu(p,U),onMouseEnter:eu(g,M),onMouseLeave:eu(E,U),onTouchStart:eu(w,M)}]:[!1,A,{}]}function eu(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function f1({page:i,...e}){let{router:n}=y0(),s=L.useMemo(()=>a0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?L.createElement(m1,{page:i,matches:s,...e}):null}function d1(i){let{manifest:e,routeModules:n}=_0(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return s1(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function m1({page:i,matches:e,...n}){let s=gr(),{manifest:o,routeModules:u}=_0(),{basename:f}=y0(),{loaderData:m,matches:p}=c1(),g=L.useMemo(()=>_E(i,e,p,o,s,"data"),[i,e,p,o,s]),E=L.useMemo(()=>_E(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,z=!1;if(e.forEach(q=>{let ne=o.routes[q.route.id];!ne||!ne.hasLoader||(!g.some(Q=>Q.route.id===q.route.id)&&q.route.id in m&&u[q.route.id]?.shouldRevalidate||ne.hasClientLoader?z=!0:U.add(q.route.id))}),U.size===0)return[];let P=n1(i,f,"data");return z&&U.size>0&&P.searchParams.set("_routes",e.filter(q=>U.has(q.route.id)).map(q=>q.route.id).join(",")),[P.pathname+P.search]},[f,m,s,o,g,e,i,u]),A=L.useMemo(()=>a1(E,o),[E,o]),M=d1(E);return L.createElement(L.Fragment,null,w.map(U=>L.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),A.map(U=>L.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),M.map(({key:U,link:z})=>L.createElement("link",{key:U,nonce:n.nonce,...z})))}function p1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var v0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v0&&(window.__reactRouterVersion="7.8.0")}catch{}function g1({basename:i,children:e,window:n}){let s=L.useRef();s.current==null&&(s.current=tR({window:n,v5Compat:!0}));let o=s.current,[u,f]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>f(p))},[f]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(KR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gt=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...A},M){let{basename:U}=L.useContext(Ci),z=typeof g=="string"&&E0.test(g),P,q=!1;if(typeof g=="string"&&z&&(P=g,v0))try{let I=new URL(window.location.href),O=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=cr(O.pathname,U);O.origin===I.origin&&V!=null?g=V+O.search+O.hash:q=!0}catch{Xn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=CR(g,{relative:o}),[Q,ie,se]=h1(s,A),he=E1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function N(I){e&&e(I),I.defaultPrevented||he(I)}let R=L.createElement("a",{...A,...se,href:P||ne,onClick:q||u?e:N,ref:p1(M,ie),target:p,"data-discover":!z&&n==="render"?"true":void 0});return Q&&!z?L.createElement(L.Fragment,null,R,L.createElement(f1,{page:ne})):R});Gt.displayName="Link";var y1=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=xu(f,{relative:g.relative}),A=gr(),M=L.useContext(nf),{navigator:U,basename:z}=L.useContext(Ci),P=M!=null&&A1(w)&&m===!0,q=U.encodeLocation?U.encodeLocation(w).pathname:w.pathname,ne=A.pathname,Q=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),Q=Q?Q.toLowerCase():null,q=q.toLowerCase()),Q&&z&&(Q=cr(Q,z)||Q);const ie=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let se=ne===q||!o&&ne.startsWith(q)&&ne.charAt(ie)==="/",he=Q!=null&&(Q===q||!o&&Q.startsWith(q)&&Q.charAt(q.length)==="/"),N={isActive:se,isPending:he,isTransitioning:P},R=se?e:void 0,I;typeof s=="function"?I=s(N):I=[s,se?"active":null,he?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return L.createElement(Gt,{...g,"aria-current":R,className:I,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(N):p)});y1.displayName="NavLink";var _1=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=bh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...A},M)=>{let U=w1(),z=S1(m,{relative:g}),P=f.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&E0.test(m),ne=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let ie=Q.nativeEvent.submitter,se=ie?.getAttribute("formmethod")||f;U(ie||Q.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return L.createElement("form",{ref:M,method:P,action:z,onSubmit:s?p:ne,...A,"data-discover":!q&&i==="render"?"true":void 0})});_1.displayName="Form";function v1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T0(i){let e=L.useContext(Po);return lt(e,v1(i)),e}function E1(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Mp(),p=gr(),g=xu(i,{relative:u});return L.useCallback(E=>{if(ZR(E,e)){E.preventDefault();let w=n!==void 0?n:pu(p)===pu(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var T1=0,b1=()=>`__${String(++T1)}__`;function w1(){let{router:i}=T0("useSubmit"),{basename:e}=L.useContext(Ci),n=zR();return L.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=t1(s,e);if(o.navigate===!1){let E=o.fetcherKey||b1();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function S1(i,{relative:e}={}){let{basename:n}=L.useContext(Ci),s=L.useContext(xi);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...xu(i||".",{relative:e})},f=gr();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:or([n,u.pathname])),pu(u)}function A1(i,{relative:e}={}){let n=L.useContext(f0);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=T0("useViewTransitionState"),o=xu(i,{relative:e});if(!n.isTransitioning)return!1;let u=cr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=cr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Mh(o.pathname,f)!=null||Mh(o.pathname,u)!=null}var R1=s0();const I1=()=>{};var vE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},C1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},w0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,M=g&63;p||(M=64,f||(A=64)),s.push(n[E],n[w],n[A],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(b0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):C1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new x1;const A=u<<2|m>>4;if(s.push(A),g!==64){const M=m<<4&240|g>>2;if(s.push(M),w!==64){const U=g<<6&192|w;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class x1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N1=function(i){const e=b0(i);return w0.encodeByteArray(e,!0)},Ph=function(i){return N1(i).replace(/\./g,"")},S0=function(i){try{return w0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=()=>D1().__FIREBASE_DEFAULTS__,k1=()=>{if(typeof process>"u"||typeof vE>"u")return;const i=vE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},M1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&S0(i[1]);return e&&JSON.parse(e)},sf=()=>{try{return I1()||O1()||k1()||M1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},A0=i=>sf()?.emulatorHosts?.[i],R0=i=>{const e=A0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},I0=()=>sf()?.config,C0=i=>sf()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ph(JSON.stringify(n)),Ph(JSON.stringify(f)),""].join(".")}const lu={};function V1(){const i={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?i.emulator.push(e):i.prod.push(e);return i}function L1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let EE=!1;function Bp(i,e){if(typeof window>"u"||typeof document>"u"||!ps(window.location.host)||lu[i]===e||lu[i]||EE)return;lu[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=V1().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{EE=!0,f()},A}function E(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=L1(s),M=n("text"),U=document.getElementById(M)||document.createElement("span"),z=n("learnmore"),P=document.getElementById(z)||document.createElement("a"),q=n("preprendIcon"),ne=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Q=A.element;m(Q),E(P,z);const ie=g();p(ne,q),Q.append(ne,U,P,ie),document.body.appendChild(Q)}u?(U.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function j1(){const i=sf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function q1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H1(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function F1(){return!j1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G1(){try{return typeof indexedDB=="object"}catch{return!1}}function K1(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="FirebaseError";class Ni extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Y1,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?$1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ni(o,m,s)}}function $1(i,e){return i.replace(Q1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Q1=/\{\$([^}]+)}/g;function X1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ua(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(TE(u)&&TE(f)){if(!ua(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function TE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function nu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function iu(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function W1(i,e){const n=new Z1(i,e);return n.subscribe.bind(n)}class Z1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");J1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=zm),o.error===void 0&&(o.error=zm),o.complete===void 0&&(o.complete=zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(i){return i&&i._delegate?i._delegate:i}class ss{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new P1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nI(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tI(i){return i===ra?void 0:i}function nI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const rI={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},sI=Oe.INFO,aI={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},oI=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=aI[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=sI,this._logHandler=oI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const lI=(i,e)=>e.some(n=>i instanceof n);let bE,wE;function uI(){return bE||(bE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cI(){return wE||(wE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N0=new WeakMap,rp=new WeakMap,D0=new WeakMap,qm=new WeakMap,qp=new WeakMap;function hI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(es(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&N0.set(n,i)}).catch(()=>{}),qp.set(e,i),e}function fI(i){if(rp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});rp.set(i,e)}let sp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return rp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||D0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function dI(i){sp=i(sp)}function mI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Hm(this),e,...n);return D0.set(s,e.sort?e.sort():[e]),es(s)}:cI().includes(i)?function(...e){return i.apply(Hm(this),e),es(N0.get(this))}:function(...e){return es(i.apply(Hm(this),e))}}function pI(i){return typeof i=="function"?mI(i):(i instanceof IDBTransaction&&fI(i),lI(i,uI())?new Proxy(i,sp):i)}function es(i){if(i instanceof IDBRequest)return hI(i);if(qm.has(i))return qm.get(i);const e=pI(i);return e!==i&&(qm.set(i,e),qp.set(e,i)),e}const Hm=i=>qp.get(i);function gI(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=es(f);return s&&f.addEventListener("upgradeneeded",p=>{s(es(f.result),p.oldVersion,p.newVersion,es(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const yI=["get","getKey","getAll","getAllKeys","count"],_I=["put","add","delete","clear"],Fm=new Map;function SE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=_I.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yI.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Fm.set(e,u),u}dI(i=>({...i,get:(e,n,s)=>SE(e,n)||i.get(e,n,s),has:(e,n)=>!!SE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function EI(i){return i.getComponent()?.type==="VERSION"}const ap="@firebase/app",AE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new zp("@firebase/app"),TI="@firebase/app-compat",bI="@firebase/analytics-compat",wI="@firebase/analytics",SI="@firebase/app-check-compat",AI="@firebase/app-check",RI="@firebase/auth",II="@firebase/auth-compat",CI="@firebase/database",xI="@firebase/data-connect",NI="@firebase/database-compat",DI="@firebase/functions",OI="@firebase/functions-compat",kI="@firebase/installations",MI="@firebase/installations-compat",PI="@firebase/messaging",VI="@firebase/messaging-compat",LI="@firebase/performance",UI="@firebase/performance-compat",jI="@firebase/remote-config",BI="@firebase/remote-config-compat",zI="@firebase/storage",qI="@firebase/storage-compat",HI="@firebase/firestore",FI="@firebase/ai",GI="@firebase/firestore-compat",KI="firebase",YI="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",$I={[ap]:"fire-core",[TI]:"fire-core-compat",[wI]:"fire-analytics",[bI]:"fire-analytics-compat",[AI]:"fire-app-check",[SI]:"fire-app-check-compat",[RI]:"fire-auth",[II]:"fire-auth-compat",[CI]:"fire-rtdb",[xI]:"fire-data-connect",[NI]:"fire-rtdb-compat",[DI]:"fire-fn",[OI]:"fire-fn-compat",[kI]:"fire-iid",[MI]:"fire-iid-compat",[PI]:"fire-fcm",[VI]:"fire-fcm-compat",[LI]:"fire-perf",[UI]:"fire-perf-compat",[jI]:"fire-rc",[BI]:"fire-rc-compat",[zI]:"fire-gcs",[qI]:"fire-gcs-compat",[HI]:"fire-fst",[GI]:"fire-fst-compat",[FI]:"fire-vertex","fire-js":"fire-js",[KI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,QI=new Map,lp=new Map;function RE(i,e){try{i.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ca(i){const e=i.name;if(lp.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,i);for(const n of Vh.values())RE(n,i);for(const n of QI.values())RE(n,i);return!0}function af(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Bn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new Nu("app","Firebase",XI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=YI;function O0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:op,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=I0()),!n)throw ts.create("no-options");const u=Vh.get(o);if(u){if(ua(n,u.options)&&ua(s,u.config))return u;throw ts.create("duplicate-app",{appName:o})}const f=new iI(o);for(const p of lp.values())f.addComponent(p);const m=new WI(n,s,f);return Vh.set(o,m),m}function Hp(i=op){const e=Vh.get(i);if(!e&&i===op&&I0())return O0();if(!e)throw ts.create("no-app",{appName:i});return e}function _i(i,e,n){let s=$I[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(f.join(" "));return}ca(new ss(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="firebase-heartbeat-database",JI=1,gu="firebase-heartbeat-store";let Gm=null;function k0(){return Gm||(Gm=gI(ZI,JI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ts.create("idb-open",{originalErrorMessage:i.message})})),Gm}async function eC(i){try{const n=(await k0()).transaction(gu),s=await n.objectStore(gu).get(M0(i));return await n.done,s}catch(e){if(e instanceof Ni)hr.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e?.message});hr.warn(n.message)}}}async function IE(i,e){try{const s=(await k0()).transaction(gu,"readwrite");await s.objectStore(gu).put(e,M0(i)),await s.done}catch(n){if(n instanceof Ni)hr.warn(n.message);else{const s=ts.create("idb-set",{originalErrorMessage:n?.message});hr.warn(s.message)}}}function M0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1024,nC=30;class iC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=CE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>nC){const o=aC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=CE(),{heartbeatsToSend:n,unsentEntries:s}=rC(this._heartbeatsCache.heartbeats),o=Ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hr.warn(e),""}}}function CE(){return new Date().toISOString().substring(0,10)}function rC(i,e=tC){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),xE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),xE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class sC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G1()?K1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return IE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return IE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xE(i){return Ph(JSON.stringify({version:2,heartbeats:i})).length}function aC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(i){ca(new ss("platform-logger",e=>new vI(e),"PRIVATE")),ca(new ss("heartbeat",e=>new iC(e),"PRIVATE")),_i(ap,AE,i),_i(ap,AE,"esm2020"),_i("fire-js","")}oC("");var lC="firebase",uC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(lC,uC,"app");function P0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cC=P0,V0=new Nu("auth","Firebase",P0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new zp("@firebase/auth");function hC(i,...e){Lh.logLevel<=Oe.WARN&&Lh.warn(`Auth (${_a}): ${i}`,...e)}function Sh(i,...e){Lh.logLevel<=Oe.ERROR&&Lh.error(`Auth (${_a}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(i,...e){throw Fp(i,...e)}function vi(i,...e){return Fp(i,...e)}function L0(i,e,n){const s={...cC(),[e]:n};return new Nu("auth","Firebase",s).create(e,{appName:i.name})}function ns(i){return L0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return V0.create(i,...e)}function Ee(i,e,...n){if(!i)throw Fp(e,...n)}function rr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Sh(e),new Error(e)}function fr(i,e){i||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){return typeof self<"u"&&self.location?.href||""}function fC(){return NE()==="http:"||NE()==="https:"}function NE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fC()||z1()||"connection"in navigator)?navigator.onLine:!0}function mC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=U1()||q1()}get(){return dC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(i,e){fr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yC=new Ou(3e4,6e4);function va(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function gs(i,e,n,s,o={}){return j0(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Du({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return B1()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ps(i.emulatorConfig.host)&&(g.credentials="include"),U0.fetch()(await B0(i,i.config.apiHost,n,m),g)})}async function j0(i,e,n){i._canInitEmulator=!1;const s={...pC,...e};try{const o=new vC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw mh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw mh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw mh(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw L0(i,E,g);Wn(i,E)}}catch(o){if(o instanceof Ni)throw o;Wn(i,"network-request-failed",{message:String(o)})}}async function of(i,e,n,s,o={}){const u=await gs(i,e,n,s,o);return"mfaPendingCredential"in u&&Wn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function B0(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?Gp(i.config,o):`${i.config.apiScheme}://${o}`;return gC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function _C(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),yC.get())})}}function mh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=vi(i,e,s);return o.customData._tokenResponse=n,o}function DE(i){return i!==void 0&&i.enterprise!==void 0}class EC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _C(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TC(i,e){return gs(i,"GET","/v2/recaptchaConfig",va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(i,e){return gs(i,"POST","/v1/accounts:delete",e)}async function Uh(i,e){return gs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wC(i,e=!1){const n=nt(i),s=await n.getIdToken(e),o=Kp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:uu(Km(o.auth_time)),issuedAtTime:uu(Km(o.iat)),expirationTime:uu(Km(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Km(i){return Number(i)*1e3}function Kp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=S0(n);return o?JSON.parse(o):(Sh("Failed to decode base64 JWT payload"),null)}catch(o){return Sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function OE(i){const e=Kp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ni&&SC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function SC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(i){const e=i.auth,n=await i.getIdToken(),s=await yu(i,Uh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?z0(o.providerUserInfo):[],f=IC(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function RC(i){const e=nt(i);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function z0(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(i,e){const n=await j0(i,{},async()=>{const s=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await B0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&ps(i.emulatorConfig.host)&&(p.credentials="include"),U0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xC(i,e){return gs(i,"POST","/v2/accounts:revokeToken",va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=OE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await CC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new bo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Qn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new AC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wC(this,e)}reload(){return RC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(ns(this.auth));const e=await this.getIdToken();return await yu(this,bC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:M,providerData:U,stsTokenManager:z}=n;Ee(w&&z,e,"internal-error");const P=bo.fromJSON(this.name,z);Ee(typeof w=="string",e,"internal-error"),Kr(s,e.name),Kr(o,e.name),Ee(typeof A=="boolean",e,"internal-error"),Ee(typeof M=="boolean",e,"internal-error"),Kr(u,e.name),Kr(f,e.name),Kr(m,e.name),Kr(p,e.name),Kr(g,e.name),Kr(E,e.name);const q=new Qn({uid:w,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:E});return U&&Array.isArray(U)&&(q.providerData=U.map(ne=>({...ne}))),p&&(q._redirectEventId=p),q}static async _fromIdTokenResponse(e,n,s=!1){const o=new bo;o.updateFromServerResponse(n);const u=new Qn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await jh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?z0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new bo;m.updateFromIdToken(s);const p=new Qn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;function sr(i){fr(i instanceof Function,"Expected a class definition");let e=kE.get(i);return e?(fr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,kE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}q0.type="NONE";const ME=q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(i,e,n){return`firebase:${i}:${e}:${n}`}class wo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uh(this.auth,{idToken:e}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new wo(sr(ME),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||sr(ME);const f=Ah(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const A=await Uh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await Qn._fromGetAccountInfoResponse(e,A,E)}else w=Qn._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new wo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new wo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($0(e))return"Blackberry";if(Q0(e))return"Webos";if(F0(e))return"Safari";if((e.includes("chrome/")||G0(e))&&!e.includes("edge/"))return"Chrome";if(Y0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function H0(i=rn()){return/firefox\//i.test(i)}function F0(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G0(i=rn()){return/crios\//i.test(i)}function K0(i=rn()){return/iemobile/i.test(i)}function Y0(i=rn()){return/android/i.test(i)}function $0(i=rn()){return/blackberry/i.test(i)}function Q0(i=rn()){return/webos/i.test(i)}function Yp(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function NC(i=rn()){return Yp(i)&&!!window.navigator?.standalone}function DC(){return H1()&&document.documentMode===10}function X0(i=rn()){return Yp(i)||Y0(i)||Q0(i)||$0(i)||/windows phone/i.test(i)||K0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(i,e=[]){let n;switch(i){case"Browser":n=PE(rn());break;case"Worker":n=`${PE(rn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(i,e={}){return gs(i,"GET","/v2/passwordPolicy",va(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=6;class PC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VE(this),this.idTokenSubscription=new VE(this),this.beforeStateQueue=new OC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uh(this,{idToken:e}),s=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(ns(this));const n=e?nt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kC(this),n=new PC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await xC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&hC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vo(i){return nt(i)}class VE{constructor(e){this.auth=e,this.observer=null,this.addObserver=W1(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LC(i){lf=i}function Z0(i){return lf.loadJS(i)}function UC(){return lf.recaptchaEnterpriseScript}function jC(){return lf.gapiScript}function BC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class zC{constructor(){this.enterprise=new qC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HC="recaptcha-enterprise",J0="NO_RECAPTCHA";class FC{constructor(e){this.type=HC,this.auth=Vo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{TC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new EC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;DE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(J0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&DE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=UC();p.length!==0&&(p+=m),Z0(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function LE(i,e,n,s=!1,o=!1){const u=new FC(i);let f;if(o)f=J0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function UE(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await LE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await LE(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(i,e){const n=af(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ua(u,e??{}))return o;Wn(o,"already-initialized")}return n.initialize({options:e})}function KC(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function YC(i,e,n){const s=Vo(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=eb(e),{host:f,port:m}=$C(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ua(g,s.config.emulator)&&ua(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ps(f)?(jp(`${u}//${f}${p}`),Bp("Auth",!0)):QC()}function eb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function $C(i){const e=eb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:jE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:jE(f)}}}function jE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function QC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function XC(i,e){return gs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(i,e){return of(i,"POST","/v1/accounts:signInWithPassword",va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(i,e){return of(i,"POST","/v1/accounts:signInWithEmailLink",va(i,e))}async function JC(i,e){return of(i,"POST","/v1/accounts:signInWithEmailLink",va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends $p{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new _u(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new _u(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UE(e,n,"signInWithPassword",WC);case"emailLink":return ZC(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UE(e,s,"signUpPassword",XC);case"emailLink":return JC(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(i,e){return of(i,"POST","/v1/accounts:signInWithIdp",va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="http://localhost";class ha extends $p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ha(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,So(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){const e={requestUri:ex,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nx(i){const e=nu(iu(i)).link,n=e?nu(iu(e)).deep_link_id:null,s=nu(iu(i)).deep_link_id;return(s?nu(iu(s)).link:null)||s||n||e||i}class Qp{constructor(e){const n=nu(iu(e)),s=n.apiKey??null,o=n.oobCode??null,u=tx(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=nx(e);try{return new Qp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return _u._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Qp.parseLink(n);return Ee(s,"argument-error"),_u._fromEmailAndCode(e,s.code,s.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends tb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends ku{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends ku{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends ku{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Qn._fromIdTokenResponse(e,s,o),f=BE(s);return new Co({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=BE(s);return new Co({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function BE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends Ni{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Bh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Bh(e,n,s,o)}}function nb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Bh._fromErrorAndOperation(i,u,e,s):u})}async function ix(i,e,n=!1){const s=await yu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Co._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(i,e,n=!1){const{auth:s}=i;if(Bn(s.app))return Promise.reject(ns(s));const o="reauthenticate";try{const u=await yu(i,nb(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const f=Kp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(i.uid===m,s,"user-mismatch"),Co._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(i,e,n=!1){if(Bn(i.app))return Promise.reject(ns(i));const s="signIn",o=await nb(i,s,e),u=await Co._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function sx(i,e){return ib(Vo(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(i){const e=Vo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ox(i,e,n){return Bn(i.app)?Promise.reject(ns(i)):sx(nt(i),Lo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ax(i),s})}function lx(i,e,n,s){return nt(i).onIdTokenChanged(e,n,s)}function ux(i,e,n){return nt(i).beforeAuthStateChanged(e,n)}function rb(i,e,n,s){return nt(i).onAuthStateChanged(e,n,s)}function hp(i){return nt(i).signOut()}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=1e3,hx=10;class ab extends sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);DC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},cx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ab.type="LOCAL";const fx=ab;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ob.type="SESSION";const lb=ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new uf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await dx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Xp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function px(i){Ei().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function gx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yx(){return navigator?.serviceWorker?.controller||null}function _x(){return ub()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="firebaseLocalStorageDb",vx=1,qh="firebaseLocalStorage",hb="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(i,e){return i.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function Ex(){const i=indexedDB.deleteDatabase(cb);return new Mu(i).toPromise()}function fp(){const i=indexedDB.open(cb,vx);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(qh,{keyPath:hb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(qh)?e(s):(s.close(),await Ex(),e(await fp()))})})}async function zE(i,e,n){const s=cf(i,!0).put({[hb]:e,value:n});return new Mu(s).toPromise()}async function Tx(i,e){const n=cf(i,!1).get(e),s=await new Mu(n).toPromise();return s===void 0?null:s.value}function qE(i,e){const n=cf(i,!0).delete(e);return new Mu(n).toPromise()}const bx=800,wx=3;class fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>wx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(_x()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gx(),!this.activeServiceWorker)return;this.sender=new mx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await zE(e,zh,"1"),await qE(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>zE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Tx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=cf(o,!1).getAll();return new Mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fb.type="LOCAL";const Sx=fb;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(i,e){return e?sr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends $p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Rx(i){return ib(i.auth,new Wp(i),i.bypassAuthState)}function Ix(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),rx(n,new Wp(i),i.bypassAuthState)}async function Cx(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),ix(n,new Wp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rx;case"linkViaPopup":case"linkViaRedirect":return Cx;case"reauthViaPopup":case"reauthViaRedirect":return Ix;default:Wn(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=new Ou(2e3,1e4);class To extends db{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=Xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xx.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="pendingRedirect",Rh=new Map;class Dx extends db{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const s=await Ox(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ox(i,e){const n=Px(e),s=Mx(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function kx(i,e){Rh.set(i._key(),e)}function Mx(i){return sr(i._redirectPersistence)}function Px(i){return Ah(Nx,i.config.apiKey,i.name)}async function Vx(i,e,n=!1){if(Bn(i.app))return Promise.reject(ns(i));const s=Vo(i),o=Ax(s,e),f=await new Dx(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=600*1e3;class Ux{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!mb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(vi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lx&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(e))}saveEventToCache(e){this.cachedEventUids.add(HE(e)),this.lastProcessedEventTime=Date.now()}}function HE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function mb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function jx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(i,e={}){return gs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qx=/^https?/;async function Hx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Bx(i);for(const n of e)try{if(Fx(n))return}catch{}Wn(i,"unauthorized-domain")}function Fx(i){const e=up(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!qx.test(n))return!1;if(zx.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=new Ou(3e4,6e4);function FE(){const i=Ei().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Kx(i){return new Promise((e,n)=>{function s(){FE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FE(),n(vi(i,"network-request-failed"))},timeout:Gx.get()})}if(Ei().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ei().gapi?.load)s();else{const o=BC("iframefcb");return Ei()[o]=()=>{gapi.load?s():n(vi(i,"network-request-failed"))},Z0(`${jC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function Yx(i){return Ih=Ih||Kx(i),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new Ou(5e3,15e3),Qx="__/auth/iframe",Xx="emulator/auth/iframe",Wx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jx(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Gp(e,Xx):`https://${i.config.authDomain}/${Qx}`,s={apiKey:e.apiKey,appName:i.name,v:_a},o=Zx.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Du(s).slice(1)}`}async function e2(i){const e=await Yx(i),n=Ei().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:Jx(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=vi(i,"network-request-failed"),m=Ei().setTimeout(()=>{u(f)},$x.get());function p(){Ei().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n2=500,i2=600,r2="_blank",s2="http://localhost";class GE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a2(i,e,n,s=n2,o=i2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...t2,width:s.toString(),height:o.toString(),top:u,left:f},g=rn().toLowerCase();n&&(m=G0(g)?r2:n),H0(g)&&(e=e||s2,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[M,U])=>`${A}${M}=${U},`,"");if(NC(g)&&m!=="_self")return o2(e||"",m),new GE(null);const w=window.open(e||"",m,E);Ee(w,i,"popup-blocked");try{w.focus()}catch{}return new GE(w)}function o2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="__/auth/handler",u2="emulator/auth/handler",c2=encodeURIComponent("fac");async function KE(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:_a,eventId:o};if(e instanceof tb){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",X1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof ku){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${c2}=${encodeURIComponent(p)}`:"";return`${h2(i)}?${Du(m).slice(1)}${g}`}function h2({config:i}){return i.emulator?Gp(i,u2):`https://${i.authDomain}/${l2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="webStorageSupport";class f2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lb,this._completeRedirectFn=Vx,this._overrideRedirectResult=kx}async _openPopup(e,n,s,o){fr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await KE(e,n,s,up(),o);return a2(e,u,Xp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await KE(e,n,s,up(),o);return px(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await e2(e),s=new Ux(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ym,{type:Ym},o=>{const u=o?.[0]?.[Ym];u!==void 0&&n(!!u),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Hx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return X0()||F0()||Yp()}}const d2=f2;var YE="@firebase/auth",$E="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g2(i){ca(new ss("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W0(i)},g=new VC(s,o,u,p);return KC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ca(new ss("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(s=>new m2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(YE,$E,p2(i)),_i(YE,$E,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=300,_2=C0("authIdTokenMaxAge")||y2;let QE=null;const v2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_2)return;const o=n?.token;QE!==o&&(QE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function E2(i=Hp()){const e=af(i,"auth");if(e.isInitialized())return e.getImmediate();const n=GC(i,{popupRedirectResolver:d2,persistence:[Sx,fx,lb]}),s=C0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=v2(u.toString());ux(n,f,()=>f(n.currentUser)),lx(n,m=>f(m))}}const o=A0("auth");return o&&YC(n,`http://${o}`),n}function T2(){return document.getElementsByTagName("head")?.[0]??document}LC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=vi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",T2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g2("Browser");var XE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,pb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function I(){}I.prototype=R.prototype,N.D=R.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(O,V,j){for(var x=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)x[ht-2]=arguments[ht];return R.prototype[V].apply(O,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,I){I||(I=0);var O=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)O[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;16>V;++V)O[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=N.g[0],I=N.g[1],V=N.g[2];var j=N.g[3],x=R+(j^I&(V^j))+O[0]+3614090360&4294967295;R=I+(x<<7&4294967295|x>>>25),x=j+(V^R&(I^V))+O[1]+3905402710&4294967295,j=R+(x<<12&4294967295|x>>>20),x=V+(I^j&(R^I))+O[2]+606105819&4294967295,V=j+(x<<17&4294967295|x>>>15),x=I+(R^V&(j^R))+O[3]+3250441966&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(j^I&(V^j))+O[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=j+(V^R&(I^V))+O[5]+1200080426&4294967295,j=R+(x<<12&4294967295|x>>>20),x=V+(I^j&(R^I))+O[6]+2821735955&4294967295,V=j+(x<<17&4294967295|x>>>15),x=I+(R^V&(j^R))+O[7]+4249261313&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(j^I&(V^j))+O[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=j+(V^R&(I^V))+O[9]+2336552879&4294967295,j=R+(x<<12&4294967295|x>>>20),x=V+(I^j&(R^I))+O[10]+4294925233&4294967295,V=j+(x<<17&4294967295|x>>>15),x=I+(R^V&(j^R))+O[11]+2304563134&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(j^I&(V^j))+O[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=j+(V^R&(I^V))+O[13]+4254626195&4294967295,j=R+(x<<12&4294967295|x>>>20),x=V+(I^j&(R^I))+O[14]+2792965006&4294967295,V=j+(x<<17&4294967295|x>>>15),x=I+(R^V&(j^R))+O[15]+1236535329&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(V^j&(I^V))+O[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^V&(R^I))+O[6]+3225465664&4294967295,j=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(j^R))+O[11]+643717713&4294967295,V=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(V^j))+O[0]+3921069994&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(V^j&(I^V))+O[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^V&(R^I))+O[10]+38016083&4294967295,j=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(j^R))+O[15]+3634488961&4294967295,V=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(V^j))+O[4]+3889429448&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(V^j&(I^V))+O[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^V&(R^I))+O[14]+3275163606&4294967295,j=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(j^R))+O[3]+4107603335&4294967295,V=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(V^j))+O[8]+1163531501&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(V^j&(I^V))+O[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^V&(R^I))+O[2]+4243563512&4294967295,j=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(j^R))+O[7]+1735328473&4294967295,V=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(V^j))+O[12]+2368359562&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(I^V^j)+O[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^V)+O[8]+2272392833&4294967295,j=R+(x<<11&4294967295|x>>>21),x=V+(j^R^I)+O[11]+1839030562&4294967295,V=j+(x<<16&4294967295|x>>>16),x=I+(V^j^R)+O[14]+4259657740&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(I^V^j)+O[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^V)+O[4]+1272893353&4294967295,j=R+(x<<11&4294967295|x>>>21),x=V+(j^R^I)+O[7]+4139469664&4294967295,V=j+(x<<16&4294967295|x>>>16),x=I+(V^j^R)+O[10]+3200236656&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(I^V^j)+O[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^V)+O[0]+3936430074&4294967295,j=R+(x<<11&4294967295|x>>>21),x=V+(j^R^I)+O[3]+3572445317&4294967295,V=j+(x<<16&4294967295|x>>>16),x=I+(V^j^R)+O[6]+76029189&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(I^V^j)+O[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^V)+O[12]+3873151461&4294967295,j=R+(x<<11&4294967295|x>>>21),x=V+(j^R^I)+O[15]+530742520&4294967295,V=j+(x<<16&4294967295|x>>>16),x=I+(V^j^R)+O[2]+3299628645&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(V^(I|~j))+O[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~V))+O[7]+1126891415&4294967295,j=R+(x<<10&4294967295|x>>>22),x=V+(R^(j|~I))+O[14]+2878612391&4294967295,V=j+(x<<15&4294967295|x>>>17),x=I+(j^(V|~R))+O[5]+4237533241&4294967295,I=V+(x<<21&4294967295|x>>>11),x=R+(V^(I|~j))+O[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~V))+O[3]+2399980690&4294967295,j=R+(x<<10&4294967295|x>>>22),x=V+(R^(j|~I))+O[10]+4293915773&4294967295,V=j+(x<<15&4294967295|x>>>17),x=I+(j^(V|~R))+O[1]+2240044497&4294967295,I=V+(x<<21&4294967295|x>>>11),x=R+(V^(I|~j))+O[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~V))+O[15]+4264355552&4294967295,j=R+(x<<10&4294967295|x>>>22),x=V+(R^(j|~I))+O[6]+2734768916&4294967295,V=j+(x<<15&4294967295|x>>>17),x=I+(j^(V|~R))+O[13]+1309151649&4294967295,I=V+(x<<21&4294967295|x>>>11),x=R+(V^(I|~j))+O[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~V))+O[11]+3174756917&4294967295,j=R+(x<<10&4294967295|x>>>22),x=V+(R^(j|~I))+O[2]+718787259&4294967295,V=j+(x<<15&4294967295|x>>>17),x=I+(j^(V|~R))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var I=R-this.blockSize,O=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=I;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<R;)if(O[V++]=N.charCodeAt(j++),V==this.blockSize){o(this,O),V=0;break}}else for(;j<R;)if(O[V++]=N[j++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var I=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=I&255,I/=256;for(this.u(N),N=Array(16),R=I=0;4>R;++R)for(var O=0;32>O;O+=8)N[I++]=this.g[R]>>>O&255;return N};function u(N,R){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=R(N)}function f(N,R){this.h=R;for(var I=[],O=!0,V=N.length-1;0<=V;V--){var j=N[V]|0;O&&j==R||(I[V]=j,O=!1)}this.g=I}var m={};function p(N){return-128<=N&&128>N?u(N,function(R){return new f([R|0],0>R?-1:0)}):new f([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return P(g(-N));for(var R=[],I=1,O=0;N>=I;O++)R[O]=N/I|0,I*=4294967296;return new f(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return P(E(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),O=w,V=0;V<N.length;V+=8){var j=Math.min(8,N.length-V),x=parseInt(N.substring(V,V+j),R);8>j?(j=g(Math.pow(R,j)),O=O.j(j).add(g(x))):(O=O.j(I),O=O.add(g(x)))}return O}var w=p(0),A=p(1),M=p(16777216);i=f.prototype,i.m=function(){if(z(this))return-P(this).m();for(var N=0,R=1,I=0;I<this.g.length;I++){var O=this.i(I);N+=(0<=O?O:4294967296+O)*R,R*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(U(this))return"0";if(z(this))return"-"+P(this).toString(N);for(var R=g(Math.pow(N,6)),I=this,O="";;){var V=ie(I,R).g;I=q(I,V.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=V,U(I))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function U(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function z(N){return N.h==-1}i.l=function(N){return N=q(this,N),z(N)?-1:U(N)?0:1};function P(N){for(var R=N.g.length,I=[],O=0;O<R;O++)I[O]=~N.g[O];return new f(I,~N.h).add(A)}i.abs=function(){return z(this)?P(this):this},i.add=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],O=0,V=0;V<=R;V++){var j=O+(this.i(V)&65535)+(N.i(V)&65535),x=(j>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);O=x>>>16,j&=65535,x&=65535,I[V]=x<<16|j}return new f(I,I[I.length-1]&-2147483648?-1:0)};function q(N,R){return N.add(P(R))}i.j=function(N){if(U(this)||U(N))return w;if(z(this))return z(N)?P(this).j(P(N)):P(P(this).j(N));if(z(N))return P(this.j(P(N)));if(0>this.l(M)&&0>N.l(M))return g(this.m()*N.m());for(var R=this.g.length+N.g.length,I=[],O=0;O<2*R;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<N.g.length;V++){var j=this.i(O)>>>16,x=this.i(O)&65535,ht=N.i(V)>>>16,We=N.i(V)&65535;I[2*O+2*V]+=x*We,ne(I,2*O+2*V),I[2*O+2*V+1]+=j*We,ne(I,2*O+2*V+1),I[2*O+2*V+1]+=x*ht,ne(I,2*O+2*V+1),I[2*O+2*V+2]+=j*ht,ne(I,2*O+2*V+2)}for(O=0;O<R;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=R;O<2*R;O++)I[O]=0;return new f(I,0)};function ne(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function Q(N,R){this.g=N,this.h=R}function ie(N,R){if(U(R))throw Error("division by zero");if(U(N))return new Q(w,w);if(z(N))return R=ie(P(N),R),new Q(P(R.g),P(R.h));if(z(R))return R=ie(N,P(R)),new Q(P(R.g),R.h);if(30<N.g.length){if(z(N)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var I=A,O=R;0>=O.l(N);)I=se(I),O=se(O);var V=he(I,1),j=he(O,1);for(O=he(O,2),I=he(I,2);!U(O);){var x=j.add(O);0>=x.l(N)&&(V=V.add(I),j=x),O=he(O,1),I=he(I,1)}return R=q(N,V.j(R)),new Q(V,R)}for(V=w;0<=N.l(R);){for(I=Math.max(1,Math.floor(N.m()/R.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=g(I),x=j.j(R);z(x)||0<x.l(N);)I-=O,j=g(I),x=j.j(R);U(j)&&(j=A),V=V.add(j),N=q(N,x)}return new Q(V,N)}i.A=function(N){return ie(this,N).h},i.and=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)&N.i(O);return new f(I,this.h&N.h)},i.or=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)|N.i(O);return new f(I,this.h|N.h)},i.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)^N.i(O);return new f(I,this.h^N.h)};function se(N){for(var R=N.g.length+1,I=[],O=0;O<R;O++)I[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(I,N.h)}function he(N,R){var I=R>>5;R%=32;for(var O=N.g.length-I,V=[],j=0;j<O;j++)V[j]=0<R?N.i(j+I)>>>R|N.i(j+I+1)<<32-R:N.i(j+I);return new f(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,pb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,is=f}).apply(typeof XE<"u"?XE:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gb,ru,yb,Ch,dp,_b,vb,Eb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var H=c[b];if(!(H in _))break e;_=_[H]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,H={next:function(){if(!b&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function M(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,H,$){for(var oe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)oe[Ve-2]=arguments[Ve];return y.prototype[H].apply(b,oe)}}function z(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function P(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const H=c.length||0,$=b.length||0;c.length=H+$;for(let oe=0;oe<$;oe++)c[H+oe]=b[oe]}else c.push(b)}}class q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ne(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var se=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function he(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(_ in b)c[_]=b[_];for(let $=0;$<I.length;$++)_=I[$],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Pe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ht{constructor(){this.h=this.g=null}add(y,_){const b=We.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var We=new q(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,Pe=new ht,D=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(re)}};var re=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){j(_)}var y=We;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(se){e:{try{ie(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}U(Ce,ae);var we={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Jn(c,y,_,b,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=H,this.key=++Je,this.da=this.fa=!1}function yr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Di(c){this.src=c,this.g={},this.h=0}Di.prototype.add=function(c,y,_,b,H){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var oe=bs(c,y,b,H);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new Jn(y,this.src,$,!!b,H),y.fa=_,c.push(y)),y};function Ts(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],H=Array.prototype.indexOf.call(b,y,void 0),$;($=0<=H)&&Array.prototype.splice.call(b,H,1),$&&(yr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function bs(c,y,_,b){for(var H=0;H<c.length;++H){var $=c[H];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==b)return H}return-1}var ws="closure_lm_"+(1e6*Math.random()|0),Fo={};function Hu(c,y,_,b,H){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Hu(c,y[$],_,b,H);return null}return _=Fu(_),c&&c[kt]?c.K(y,_,g(b)?!!b.capture:!1,H):In(c,y,_,!1,b,H)}function In(c,y,_,b,H,$){if(!y)throw Error("Invalid event type");var oe=g(H)?!!H.capture:!!H,Ve=Sa(c);if(Ve||(c[ws]=Ve=new Di(c)),_=Ve.add(y,_,b,oe,$),_.proxy)return _;if(b=kf(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ye||(H=oe),H===void 0&&(H=!1),c.addEventListener(y.toString(),b,H);else if(c.attachEvent)c.attachEvent(Ss(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function kf(){function c(_){return y.call(c.src,c.listener,_)}const y=Mf;return c}function Go(c,y,_,b,H){if(Array.isArray(y))for(var $=0;$<y.length;$++)Go(c,y[$],_,b,H);else b=g(b)?!!b.capture:!!b,_=Fu(_),c&&c[kt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=bs($,_,b,H),-1<_&&(yr($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Sa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=bs(y,_,b,H)),(_=-1<c?y[c]:null)&&wa(_))}function wa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[kt])Ts(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(Ss(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Sa(y))?(Ts(_,c),_.h==0&&(_.src=null,y[ws]=null)):yr(c)}}}function Ss(c){return c in Fo?Fo[c]:Fo[c]="on"+c}function Mf(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&wa(c),c=_.call(b,y)}return c}function Sa(c){return c=c[ws],c instanceof Di?c:null}var Ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(c){return typeof c=="function"?c:(c[Ko]||(c[Ko]=function(y){return c.handleEvent(y)}),c[Ko])}function ft(){ue.call(this),this.i=new Di(this),this.M=this,this.F=null}U(ft,ue),ft.prototype[kt]=!0,ft.prototype.removeEventListener=function(c,y,_,b){Go(this,c,y,_,b)};function Fe(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var H=y;y=new ae(b,c),O(y,H)}if(H=!0,_)for(var $=_.length-1;0<=$;$--){var oe=y.g=_[$];H=yn(oe,b,!0,y)&&H}if(oe=y.g=c,H=yn(oe,b,!0,y)&&H,H=yn(oe,b,!1,y)&&H,_)for($=0;$<_.length;$++)oe=y.g=_[$],H=yn(oe,b,!1,y)&&H}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)yr(_[b]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},ft.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function yn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,$=0;$<y.length;++$){var oe=y[$];if(oe&&!oe.da&&oe.capture==_){var Ve=oe.listener,Ct=oe.ha||oe.src;oe.fa&&Ts(c.i,oe),H=Ve.call(Ct,b)!==!1&&H}}return H&&!b.defaultPrevented}function Wt(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Gu(c){c.g=Wt(()=>{c.g=null,c.i&&(c.i=!1,Gu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Pf extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){ue.call(this),this.h=c,this.g={}}U(As,ue);var Rs=[];function Is(c){he(c.g,function(y,_){this.g.hasOwnProperty(_)&&wa(y)},c),c.g={}}As.prototype.N=function(){As.aa.N.call(this),Is(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=m.JSON.stringify,Aa=m.JSON.parse,Cs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Yo(){}Yo.prototype.h=null;function $o(c){return c.h||(c.h=c.i())}function Qo(){}var Oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){ae.call(this,"d")}U(ki,ae);function Xo(){ae.call(this,"c")}U(Xo,ae);var ei={},Wo=null;function _r(){return Wo=Wo||new ft}ei.La="serverreachability";function Ra(c){ae.call(this,ei.La,c)}U(Ra,ae);function vr(c){const y=_r();Fe(y,new Ra(y))}ei.STAT_EVENT="statevent";function Ku(c,y){ae.call(this,ei.STAT_EVENT,c),this.stat=y}U(Ku,ae);function st(c){const y=_r();Fe(y,new Ku(y,c))}ei.Ma="timingevent";function It(c,y){ae.call(this,ei.Ma,c),this.size=y}U(It,ae);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function Zo(c,y,_,b,H,$){c.info(function(){if(c.g)if($)for(var oe="",Ve=$.split("&"),Ct=0;Ct<Ve.length;Ct++){var Le=Ve[Ct].split("=");if(1<Le.length){var Pt=Le[0];Le=Le[1];var xt=Pt.split("_");oe=2<=xt.length&&xt[1]=="type"?oe+(Pt+"="+Le+"&"):oe+(Pt+"=redacted&")}}else oe=null;else oe=$;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+y+`
`+_+`
`+oe})}function Vf(c,y,_,b,H,$,oe){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+y+`
`+_+`
`+$+" "+oe})}function Er(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+xs(c,_)+(b?" "+b:"")})}function Yu(c,y){c.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function xs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var $=H[0];if($!="noop"&&$!="stop"&&$!="close")for(var oe=1;oe<H.length;oe++)H[oe]=""}}}}return Hn(_)}catch{return y}}var Tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ni(){}U(ni,Yo),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ti=new ni;function sn(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new As(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Jo={},Ia={};function Fn(c,y,_){c.L=1,c.v=Ms(_n(y)),c.m=_,c.P=!0,Pi(c,null)}function Pi(c,y){c.F=Date.now(),Ns(c),c.A=_n(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),sl(_.i,"t",b),c.C=0,_=c.j.J,c.h=new pt,c.g=uc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Pf(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Rs[0]=H.toString()),H=Rs);for(var $=0;$<H.length;$++){var oe=Hu(_,H[$],b||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),vr(),Zo(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const xt=On(this.g);var y=this.g.Ba();const Hi=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||tc(this.g)))){this.J||xt!=4||y==7||(y==8||0>=Hi?vr(3):vr(2)),br(this);var _=this.g.Z();this.X=_;t:if($u(this)){var b=tc(this.g);c="";var H=b.length,$=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),ii(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!($&&y==H-1)});b.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Vf(this.i,this.u,this.A,this.l,this.R,xt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Ct=this.g;if((Ve=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Ve)){var Le=Ve;break t}}Le=null}if(_=Le)Er(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ds(this,_);else{this.o=!1,this.s=3,st(12),Bt(this),ii(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<oe.length;)if(zt=Qu(this,oe),zt==Ia){xt==4&&(this.s=4,st(14),_=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Jo){this.s=4,st(15),Er(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else Er(this.i,this.l,zt,null),Ds(this,zt);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||oe.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)Er(this.i,this.l,oe,"[Invalid Chunked Response]"),Bt(this),ii(this);else if(0<oe.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),qs(Pt),Pt.M=!0,st(11))}}else Er(this.i,this.l,oe,null),Ds(this,oe);xt==4&&Bt(this),this.o&&!this.J&&(xt==4?ac(this.j,this):(this.o=!1,Ns(this)))}else zf(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Bt(this),ii(this)}}}catch{}finally{}};function $u(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Qu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?Ia:(_=Number(y.substring(_,b)),isNaN(_)?Jo:(b+=1,b+_>y.length?Ia:(y=y.slice(b,b+_),c.C=b+_,y)))}sn.prototype.cancel=function(){this.J=!0,Bt(this)};function Ns(c){c.S=Date.now()+c.I,Xu(c,c.I)}function Xu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(A(c.ba,c),y)}function br(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Yu(this.i,this.A),this.L!=2&&(vr(),st(17)),Bt(this),this.s=2,ii(this)):Xu(this,this.S-c)};function ii(c){c.j.G==0||c.J||ac(c.j,c)}function Bt(c){br(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Is(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ds(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||el(_.h,c))){if(!c.K&&el(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ja(_),La(_);else break e;cl(_),st(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Et(A(_.Za,_),6e3));if(1>=xa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else qi(_,11)}else if((c.K||_.g==c)&&ja(_),!ne(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let Le=H[y];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Pt=Le[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const xt=Le[4];xt!=null&&(_.Aa=xt,_.j.info("SVER="+_.Aa));const Hi=Le[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(b=1.5*Hi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const zt=c.g;if(zt){const ci=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var $=b.h;$.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Na($,$.h),$.h=null))}if(b.D){const fl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(b.ya=fl,Ye(b.I,b.D,fl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var oe=c;if(b.qa=lc(b,b.J?b.ia:null,b.W),oe.K){an(b.h,oe);var Ve=oe,Ct=b.L;Ct&&(Ve.I=Ct),Ve.B&&(br(Ve),Ns(Ve)),b.g=oe}else rc(b);0<_.i.length&&Ua(_)}else Le[0]!="stop"&&Le[0]!="close"||qi(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?qi(_,7):ll(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}vr(4)}catch{}}var Wu=class{constructor(c,y){this.g=c,this.map=y}};function Vi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ca(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xa(c){return c.h?1:c.g?c.g.size:0}function el(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Na(c,y){c.g?c.g.add(y):c.h=y}function an(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vi.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return z(c.i)}function Lf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function Da(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function nl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Da(c),b=Lf(c),H=b.length,$=0;$<H;$++)y.call(void 0,b[$],_&&_[$],c)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),H=null;if(0<=b){var $=c[_].substring(0,b);H=c[_].substring(b+1)}else $=c[_];y($,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,ks(this,c.j),this.o=c.o,this.g=c.g,wr(this,c.s),this.l=c.l;var y=c.i,_=new Ui;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Li(this,_),this.m=c.m}else c&&(y=String(c).match(Os))?(this.h=!1,ks(this,y[1]||"",!0),this.o=xn(y[2]||""),this.g=xn(y[3]||"",!0),wr(this,y[4]),this.l=xn(y[5]||"",!0),Li(this,y[6]||"",!0),this.m=xn(y[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ps(y,il,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ps(y,il,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ps(_,_.charAt(0)=="/"?jf:rl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ps(_,Oa)),c.join("")};function _n(c){return new Tt(c)}function ks(c,y,_){c.j=_?xn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Li(c,y,_){y instanceof Ui?(c.i=y,Ju(c.i,c.h)):(_||(y=Ps(y,Bf)),c.i=new Ui(y,c.h))}function Ye(c,y,_){c.i.set(y,_)}function Ms(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ps(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Zu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Zu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var il=/[#\/\?@]/g,rl=/[#\?:]/g,jf=/[#\?]/g,Bf=/[#\?@]/g,Oa=/#/g;function Ui(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Uf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Ui.prototype,i.add=function(c,y){Nn(this),this.i=null,c=ri(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ji(c,y){Nn(c),y=ri(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Bi(c,y){return Nn(c),y=ri(c,y),c.g.has(y)}i.forEach=function(c,y){Nn(this),this.g.forEach(function(_,b){_.forEach(function(H){c.call(y,H,b,this)},this)},this)},i.na=function(){Nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const H=c[b];for(let $=0;$<H.length;$++)_.push(y[b])}return _},i.V=function(c){Nn(this);let y=[];if(typeof c=="string")Bi(this,c)&&(y=y.concat(this.g.get(ri(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Nn(this),this.i=null,c=ri(this,c),Bi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function sl(c,y,_){ji(c,y),0<_.length&&(c.i=null,c.g.set(ri(c,y),z(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const $=encodeURIComponent(String(b)),oe=this.V(b);for(b=0;b<oe.length;b++){var H=$;oe[b]!==""&&(H+="="+encodeURIComponent(String(oe[b]))),c.push(H)}}return this.i=c.join("&")};function ri(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ju(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(_,b){var H=b.toLowerCase();b!=H&&(ji(this,b),sl(this,H,_))},c)),c.j=y}function Vs(c,y){const _=new Cn;if(m.Image){const b=new Image;b.onload=M(Dn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=M(Dn,_,"TestLoadImage: error",!1,y,b),b.onabort=M(Dn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=M(Dn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Gn(c,y){const _=new Cn,b=new AbortController,H=setTimeout(()=>{b.abort(),Dn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then($=>{clearTimeout(H),$.ok?Dn(_,"TestPingServer: ok",!0,y):Dn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Dn(_,"TestPingServer: error",!1,y)})}function Dn(c,y,_,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(_)}catch{}}function Ls(){this.g=new Cs}function si(c,y,_){const b=_||"";try{nl(c,function(H,$){let oe=H;g(H)&&(oe=Hn(H)),y.push(b+$+"="+encodeURIComponent(oe))})}catch(H){throw y.push(b+"type="+encodeURIComponent("_badmap")),H}}function Sr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Sr,Yo),Sr.prototype.g=function(){return new zi(this.l,this.j)},Sr.prototype.i=function(c){return function(){return c}}({});function zi(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(zi,ft),i=zi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,oi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;al(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function al(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ai(this):oi(this),this.readyState==3&&al(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},i.Qa=function(c){this.g&&(this.response=c,ai(this))},i.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ol(c){let y="";return he(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Mt(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=ol(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,y,_))}function qe(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(qe,ft);var ka=/^https?$/i,Us=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?$o(this.o):$o(ti),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){ec(this,$);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)_.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const $ of b.keys())_.set($,b.get($));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Us,y,void 0))||b||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,oe]of _)this.g.setRequestHeader($,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(c),this.u=!1}catch($){ec(this,$)}};function ec(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ma(c),li(c)}function Ma(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),li(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},i.bb=function(){Pa(this)};function Pa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Wt(c.Ea,0,c);else if(Fe(c,"readystatechange"),On(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=oe===0){var H=String(c.D).match(Os)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),b=!ka.test(H?H.toLowerCase():"")}_=b}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var $=2<On(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Ma(c)}}finally{li(c)}}}}function li(c,y){if(c.g){js(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=b}catch{}}}function js(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Aa(y)}};function tc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zf(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ne(c[b]))continue;var _=V(c[b]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[H]||[];y[H]=$,$.push(_)}N(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Va(c){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,c),this.cb=Bs("retryDelaySeedMs",1e4,c),this.Wa=Bs("forwardChannelMaxRetries",2,c),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(c&&c.concurrentRequestLimit),this.Da=new Ls,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Va.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,b){st(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=lc(this,null,this.W),Ua(this)};function ll(c){if(nc(c),c.G==3){var y=c.U++,_=_n(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",y),Ye(_,"TYPE","terminate"),zs(c,_),y=new sn(c,c.j,y),y.L=2,y.v=Ms(_n(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=uc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ns(y)}oc(c)}function La(c){c.g&&(qs(c),c.g.cancel(),c.g=null)}function nc(c){La(c),c.u&&(m.clearTimeout(c.u),c.u=null),ja(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ua(c){if(!Ca(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||D(),me||(le(),me=!0),Pe.add(y,c),c.B=0}}function qf(c,y){return xa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(A(c.Ga,c,y),hl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new sn(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),O($,this.S)):$=this.S),this.m!==null||this.O||(H.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ic(this,H,y),_=_n(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),zs(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(ol($)))+"&"+y:this.m&&Mt(_,this.m,$)),Na(this.h,H),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",y),Ye(_,"SID","null"),H.T=!0,Fn(H,_,null)):Fn(H,_,y),this.G=2}}else this.G==3&&(c?ul(this,c):this.i.length==0||Ca(this.h)||ul(this))};function ul(c,y){var _;y?_=y.l:_=c.U++;const b=_n(c.I);Ye(b,"SID",c.K),Ye(b,"RID",_),Ye(b,"AID",c.T),zs(c,b),c.m&&c.o&&Mt(b,c.m,c.o),_=new sn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ic(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Na(c.h,_),Fn(_,b,y)}function zs(c,y){c.H&&he(c.H,function(_,b){Ye(y,b,_)}),c.l&&nl({},function(_,b){Ye(y,b,_)})}function ic(c,y,_){_=Math.min(c.i.length,_);var b=c.l?A(c.l.Na,c.l,c):null;e:{var H=c.i;let $=-1;for(;;){const oe=["count="+_];$==-1?0<_?($=H[0].g,oe.push("ofs="+$)):$=0:oe.push("ofs="+$);let Ve=!0;for(let Ct=0;Ct<_;Ct++){let Le=H[Ct].g;const Pt=H[Ct].map;if(Le-=$,0>Le)$=Math.max(0,H[Ct].g-100),Ve=!1;else try{si(Pt,oe,"req"+Le+"_")}catch{b&&b(Pt)}}if(Ve){b=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function rc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||D(),me||(le(),me=!0),Pe.add(y,c),c.v=0}}function cl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(A(c.Fa,c),hl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),La(this),sc(this))};function qs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function sc(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),zs(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ms(_n(y)),_.m=null,_.P=!0,Pi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,La(this),cl(this),st(19))};function ja(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ac(c,y){var _=null;if(c.g==y){ja(c),qs(c),c.g=null;var b=2}else if(el(c.h,y))_=y.D,an(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;b=_r(),Fe(b,new It(b,_)),Ua(c)}else rc(c);else if(H=y.s,H==3||H==0&&0<y.X||!(b==1&&qf(c,y)||b==2&&cl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:qi(c,5);break;case 4:qi(c,10);break;case 3:qi(c,6);break;default:qi(c,2)}}}function hl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function qi(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),b=c.Xa;const H=!b;b=new Tt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ks(b,"https"),Ms(b),H?Vs(b.toString(),_):Gn(b.toString(),_)}else st(2);c.G=0,c.l&&c.l.sa(y),oc(c),nc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function oc(c){if(c.G=0,c.ka=[],c.l){const y=tl(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function lc(c,y,_){var b=_ instanceof Tt?_n(_):new Tt(_);if(b.g!="")y&&(b.g=y+"."+b.g),wr(b,b.s);else{var H=m.location;b=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var $=new Tt(null);b&&ks($,b),y&&($.g=y),H&&wr($,H),_&&($.l=_),b=$}return _=c.D,y=c.ya,_&&y&&Ye(b,_,y),Ye(b,"VER",c.la),zs(c,b),b}function uc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new Sr({eb:_})):new qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}i=cc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ba(){}Ba.prototype.g=function(c,y){return new on(c,y)};function on(c,y){ft.call(this),this.g=new Va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ne(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ne(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ui(this)}U(on,ft),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){ll(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Hn(c),c=_);y.i.push(new Wu(y.Ya++,c)),y.G==3&&Ua(y)},on.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,on.aa.N.call(this)};function hc(c){ki.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(hc,ki);function fc(){Xo.call(this),this.status=1}U(fc,Xo);function ui(c){this.g=c}U(ui,cc),ui.prototype.ua=function(){Fe(this.g,"a")},ui.prototype.ta=function(c){Fe(this.g,new hc(c))},ui.prototype.sa=function(c){Fe(this.g,new fc)},ui.prototype.ra=function(){Fe(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Eb=function(){return new Ba},vb=function(){return _r()},_b=ei,dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Ch=Tr,Mi.COMPLETE="complete",yb=Mi,Qo.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",ft.prototype.listen=ft.prototype.K,ru=Qo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,gb=qe}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const WE="@firebase/firestore",ZE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new zp("@firebase/firestore");function yo(){return fa.logLevel}function fe(i,...e){if(fa.logLevel<=Oe.DEBUG){const n=e.map(Zp);fa.debug(`Firestore (${Uo}): ${i}`,...n)}}function dr(i,...e){if(fa.logLevel<=Oe.ERROR){const n=e.map(Zp);fa.error(`Firestore (${Uo}): ${i}`,...n)}}function xo(i,...e){if(fa.logLevel<=Oe.WARN){const n=e.map(Zp);fa.warn(`Firestore (${Uo}): ${i}`,...n)}}function Zp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Tb(i,s,n)}function Tb(i,e,n){let s=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw dr(s),new Error(s)}function He(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Tb(e,o,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class w2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class S2{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new aa,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new aa)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new bb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class A2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new A2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new JE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new JE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=C2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function mp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return $m(o)===$m(u)?ke(o,u):$m(o)?1:-1}return ke(i.length,e.length)}const x2=55296,N2=57343;function $m(i){const e=i.charCodeAt(0);return e>=x2&&e<=N2}function No(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="__name__";class gi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=gi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=gi.isNumericId(e),o=gi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(e).compare(gi.extractNumericId(n)):mp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class tt extends gi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends gi{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return D2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eT}static keyField(){return new $t([eT])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(i,e,n){if(!n)throw new ce(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function O2(i,e,n,s){if(e===!0&&s===!0)throw new ce(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function tT(i){if(!ge.isDocumentKey(i))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function nT(i){if(ge.isDocumentKey(i))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Sb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function hf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Ti(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(i);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Pu(i,e){if(!Sb(i))throw new ce(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=-62135596800,rT=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*rT);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iT)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rT}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Rt("string",it._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new it(0,0))}static max(){return new Se(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function k2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new as(o,ge.empty(),e)}function M2(i){return new as(i.readTime,i.key,vu)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(Se.min(),ge.empty(),vu)}static max(){return new as(Se.max(),ge.empty(),vu)}}function P2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==V2)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function U2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=-1;function df(i){return i==null}function Hh(i){return i===0&&1/i==-1/0}function j2(i){return typeof i=="number"&&Number.isInteger(i)&&!Hh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="";function B2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=sT(e)),e=z2(i.get(n),e);return sT(e)}function z2(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Ab:n+="";break;default:n+=u}}return n}function sT(i){return i+Ab+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ys(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Rb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oT(this.data.getIterator())}getIteratorFrom(e){return new oT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class oT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Ot($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ib("Invalid base64 string: "+u):u}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(i){if(He(!!i,39018),typeof i=="string"){let e=0;const n=q2.exec(i);if(He(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ls(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="server_timestamp",xb="__type__",Nb="__previous_value__",Db="__local_write_time__";function tg(i){return(i?.mapValue?.fields||{})[xb]?.stringValue===Cb}function mf(i){const e=i.mapValue.fields[Nb];return tg(e)?mf(e):e}function Eu(i){const e=os(i.mapValue.fields[Db].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Fh="(default)";class Tu{constructor(e,n){this.projectId=e,this.database=n||Fh}static empty(){return new Tu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="__type__",F2="__max__",yh={mapValue:{}},kb="__vector__",Gh="value";function us(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?tg(i)?4:K2(i)?9007199254740991:G2(i)?10:11:Te(28295,{value:i})}function Ii(i,e){if(i===e)return!0;const n=us(i);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Eu(i).isEqual(Eu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),m=os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?Hh(f)===Hh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return No(i.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(aT(f)!==aT(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ii(f[p],m[p])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function bu(i,e){return(i.values||[]).find(n=>Ii(n,e))!==void 0}function Do(i,e){if(i===e)return 0;const n=us(i),s=us(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return lT(i.timestampValue,e.timestampValue);case 4:return lT(Eu(i),Eu(e));case 5:return mp(i.stringValue,e.stringValue);case 6:return function(u,f){const m=ls(u),p=ls(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ke(m[g],p[g]);if(E!==0)return E}return ke(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=ke(_t(u.latitude),_t(f.latitude));return m!==0?m:ke(_t(u.longitude),_t(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return uT(i.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Gh]?.arrayValue,E=p[Gh]?.arrayValue,w=ke(g?.values?.length||0,E?.values?.length||0);return w!==0?w:uT(g,E)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===yh.mapValue&&f===yh.mapValue)return 0;if(u===yh.mapValue)return 1;if(f===yh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=mp(p[w],E[w]);if(A!==0)return A;const M=Do(m[p[w]],g[E[w]]);if(M!==0)return M}return ke(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function lT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=os(i),s=os(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function uT(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Do(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function Oo(i){return pp(i)}function pp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ls(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=pp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${pp(n.fields[f])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function xh(i){switch(us(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(i);return e?16+xh(e):16;case 5:return 2*i.stringValue.length;case 6:return ls(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+xh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ys(s.fields,(u,f)=>{o+=u.length+xh(f)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function cT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function gp(i){return!!i&&"integerValue"in i}function ng(i){return!!i&&"arrayValue"in i}function hT(i){return!!i&&"nullValue"in i}function fT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nh(i){return!!i&&"mapValue"in i}function G2(i){return(i?.mapValue?.fields||{})[Ob]?.stringValue===kb}function cu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ys(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=cu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(i.arrayValue.values[n]);return e}return{...i}}function K2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===F2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=cu(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ys(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new gn(cu(this.value))}}function Mb(i){const e=[];return ys(i.fields,(n,s)=>{const o=new $t([n]);if(Nh(s)){const u=Mb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Se.min(),Se.min(),Se.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Se.min(),Se.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Se.min(),Se.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.position=e,this.inclusive=n}}function dT(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=Do(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function mT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ii(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{}class At extends Pb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Q2(e,n,s):n==="array-contains"?new Z2(e,s):n==="in"?new J2(e,s):n==="not-in"?new eN(e,s):n==="array-contains-any"?new tN(e,s):new At(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new X2(e,s):new W2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends Pb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zn(e,n)}matches(e){return Vb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Vb(i){return i.op==="and"}function Lb(i){return $2(i)&&Vb(i)}function $2(i){for(const e of i.filters)if(e instanceof Zn)return!1;return!0}function yp(i){if(i instanceof At)return i.field.canonicalString()+i.op.toString()+Oo(i.value);if(Lb(i))return i.filters.map(e=>yp(e)).join(",");{const e=i.filters.map(n=>yp(n)).join(",");return`${i.op}(${e})`}}function Ub(i,e){return i instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&Ii(s.value,o.value)}(i,e):i instanceof Zn?function(s,o){return o instanceof Zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&Ub(f,o.filters[m]),!0):!1}(i,e):void Te(19439)}function jb(i){return i instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(i):i instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(jb).join(" ,")+"}"}(i):"Filter"}class Q2 extends At{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class X2 extends At{constructor(e,n){super(e,"in",n),this.keys=Bb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W2 extends At{constructor(e,n){super(e,"not-in",n),this.keys=Bb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Bb(i,e){return(e.arrayValue?.values||[]).map(n=>ge.fromName(n.referenceValue))}class Z2 extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ng(n)&&bu(n.arrayValue,this.value)}}class J2 extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bu(this.value.arrayValue,n)}}class eN extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bu(this.value.arrayValue,n)}}class tN extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>bu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function pT(i,e=null,n=[],s=[],o=null,u=null,f=null){return new nN(i,e,n,s,o,u,f)}function ig(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>yp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Oo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Oo(s)).join(",")),e.Te=n}return e.Te}function rg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Y2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ub(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!mT(i.startAt,e.startAt)&&mT(i.endAt,e.endAt)}function _p(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iN(i,e,n,s,o,u,f,m){return new zo(i,e,n,s,o,u,f,m)}function sg(i){return new zo(i)}function gT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function zb(i){return i.collectionGroup!==null}function hu(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ot($t.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new wu(u,s))}),n.has($t.keyField().canonicalString())||e.Ie.push(new wu($t.keyField(),s))}return e.Ie}function bi(i){const e=Ae(i);return e.Ee||(e.Ee=rN(e,hu(i))),e.Ee}function rN(i,e){if(i.limitType==="F")return pT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new wu(o.field,u)});const n=i.endAt?new Kh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Kh(i.startAt.position,i.startAt.inclusive):null;return pT(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function vp(i,e){const n=i.filters.concat([e]);return new zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Yh(i,e,n){return new zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function pf(i,e){return rg(bi(i),bi(e))&&i.limitType===e.limitType}function qb(i){return`${ig(bi(i))}|lt:${i.limitType}`}function _o(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>jb(o)).join(", ")}]`),df(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Oo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Oo(o)).join(",")),`Target(${s})`}(bi(i))}; limitType=${i.limitType})`}function gf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of hu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=dT(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,hu(s),o)||s.endAt&&!function(f,m,p){const g=dT(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,hu(s),o))}(i,e)}function sN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Hb(i){return(e,n)=>{let s=!1;for(const o of hu(i)){const u=aN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function aN(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Do(p,g):Te(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Rb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new ut(ge.comparator);function mr(){return oN}const Fb=new ut(ge.comparator);function su(...i){let e=Fb;for(const n of i)e=e.insert(n.key,n);return e}function Gb(i){let e=Fb;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function sa(){return fu()}function Kb(){return fu()}function fu(){return new Ea(i=>i.toString(),(i,e)=>i.isEqual(e))}const lN=new ut(ge.comparator),uN=new Ot(ge.comparator);function Me(...i){let e=uN;for(const n of i)e=e.add(n);return e}const cN=new Ot(ke);function hN(){return cN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function Yb(i){return{integerValue:""+i}}function fN(i,e){return j2(e)?Yb(e):ag(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function dN(i,e,n){return i instanceof Su?function(o,u){const f={fields:{[xb]:{stringValue:Cb},[Db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tg(u)&&(u=mf(u)),u&&(f.fields[Nb]=u),{mapValue:f}}(n,e):i instanceof Au?Qb(i,e):i instanceof Ru?Xb(i,e):function(o,u){const f=$b(o,u),m=yT(f)+yT(o.Ae);return gp(f)&&gp(o.Ae)?Yb(m):ag(o.serializer,m)}(i,e)}function mN(i,e,n){return i instanceof Au?Qb(i,e):i instanceof Ru?Xb(i,e):n}function $b(i,e){return i instanceof $h?function(s){return gp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Su extends yf{}class Au extends yf{constructor(e){super(),this.elements=e}}function Qb(i,e){const n=Wb(e);for(const s of i.elements)n.some(o=>Ii(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ru extends yf{constructor(e){super(),this.elements=e}}function Xb(i,e){let n=Wb(e);for(const s of i.elements)n=n.filter(o=>!Ii(o,s));return{arrayValue:{values:n}}}class $h extends yf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yT(i){return _t(i.integerValue||i.doubleValue)}function Wb(i){return ng(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n){this.field=e,this.transform=n}}function gN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Au&&o instanceof Au||s instanceof Ru&&o instanceof Ru?No(s.elements,o.elements,Ii):s instanceof $h&&o instanceof $h?Ii(s.Ae,o.Ae):s instanceof Su&&o instanceof Su}(i.transform,e.transform)}class yN{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class _f{}function Zb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new og(i.key,qn.none()):new Vu(i.key,i.data,qn.none());{const n=i.data,s=gn.empty();let o=new Ot($t.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new _s(i.key,s,new Rn(o.toArray()),qn.none())}}function _N(i,e,n){i instanceof Vu?function(o,u,f){const m=o.value.clone(),p=vT(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof _s?function(o,u,f){if(!Dh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=vT(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Jb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function du(i,e,n,s){return i instanceof Vu?function(u,f,m,p){if(!Dh(u.precondition,f))return m;const g=u.value.clone(),E=ET(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof _s?function(u,f,m,p){if(!Dh(u.precondition,f))return m;const g=ET(u.fieldTransforms,p,f),E=f.data;return E.setAll(Jb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return Dh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function vN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=$b(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function _T(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&No(s,o,(u,f)=>gN(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Vu extends _f{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends _f{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Jb(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function vT(i,e,n){const s=new Map;He(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,mN(f,m,n[o]))}return s}function ET(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,dN(u,f,e))}return s}class og extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EN extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&_N(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Kb();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Zb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(n,s)=>_T(n,s))&&No(this.baseMutations,e.baseMutations,(n,s)=>_T(n,s))}}class lg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return lN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new lg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,je;function SN(i){switch(i){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function ew(i){if(i===void 0)return dr("GRPC error has no .code"),J.UNKNOWN;switch(i){case St.OK:return J.OK;case St.CANCELLED:return J.CANCELLED;case St.UNKNOWN:return J.UNKNOWN;case St.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case St.INTERNAL:return J.INTERNAL;case St.UNAVAILABLE:return J.UNAVAILABLE;case St.UNAUTHENTICATED:return J.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case St.NOT_FOUND:return J.NOT_FOUND;case St.ALREADY_EXISTS:return J.ALREADY_EXISTS;case St.PERMISSION_DENIED:return J.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case St.ABORTED:return J.ABORTED;case St.OUT_OF_RANGE:return J.OUT_OF_RANGE;case St.UNIMPLEMENTED:return J.UNIMPLEMENTED;case St.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:i})}}(je=St||(St={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new is([4294967295,4294967295],0);function TT(i){const e=AN().encode(i),n=new pb;return n.update(e),new Uint8Array(n.digest())}function bT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class ug{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(s<0)throw new au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=is.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(is.fromNumber(s)));return o.compare(RN)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=TT(e),[s,o]=bT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ug(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=TT(e),[s,o]=bT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new vf(Se.min(),o,new ut(ke),mr(),Me())}}class Lu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Lu(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class tw{constructor(e,n){this.targetId=e,this.Ce=n}}class nw{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class wT{constructor(){this.ve=0,this.Fe=ST(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),s=Me();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new Lu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=ST()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IN{constructor(e){this.Ge=e,this.ze=new Map,this.je=mr(),this.Je=_h(),this.He=_h(),this.Ye=new ut(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(_p(u))if(s===0){const f=new ge(u.path);this.et(n,f,nn.newNoDocument(f,Se.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ls(s).toUint8Array()}catch(p){if(p instanceof Ib)return xo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ug(f,o,u)}catch(p){return xo(p instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&_p(m.target)){const p=new ge(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,nn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Me();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new vf(e,n,this.Ye,this.je,s);return this.je=mr(),this.Je=_h(),this.He=_h(),this.Ye=new ut(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ot(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ot(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _h(){return new ut(ge.comparator)}function ST(){return new ut(ge.comparator)}const CN={asc:"ASCENDING",desc:"DESCENDING"},xN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NN={and:"AND",or:"OR"};class DN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ep(i,e){return i.useProto3Json||df(e)?e:{value:e}}function Qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ON(i,e){return Qh(i,e.toTimestamp())}function wi(i){return He(!!i,49232),Se.fromTimestamp(function(n){const s=os(n);return new it(s.seconds,s.nanos)}(i))}function cg(i,e){return Tp(i,e).canonicalString()}function Tp(i,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function rw(i){const e=tt.fromString(i);return He(uw(e),10190,{key:e.toString()}),e}function bp(i,e){return cg(i.databaseId,e.path)}function Qm(i,e){const n=rw(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(aw(n))}function sw(i,e){return cg(i.databaseId,e)}function kN(i){const e=rw(i);return e.length===4?tt.emptyPath():aw(e)}function wp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function aw(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function AT(i,e,n){return{name:bp(i,e),fields:n.value.mapValue.fields}}function MN(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?J.UNKNOWN:ew(g.code);return new ce(E,g.message||"")}(f);n=new nw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qm(i,s.document.name),u=wi(s.document.updateTime),f=s.document.createTime?wi(s.document.createTime):Se.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Oh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qm(i,s.document),u=s.readTime?wi(s.readTime):Se.min(),f=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Oh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qm(i,s.document),u=s.removedTargetIds||[];n=new Oh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new wN(o,u),m=s.targetId;n=new tw(m,f)}}return n}function PN(i,e){let n;if(e instanceof Vu)n={update:AT(i,e.key,e.value)};else if(e instanceof og)n={delete:bp(i,e.key)};else if(e instanceof _s)n={update:AT(i,e.key,e.data),updateMask:FN(e.fieldMask)};else{if(!(e instanceof EN))return Te(16599,{Vt:e.type});n={verify:bp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Su)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $h)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:ON(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),n}function VN(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?wi(o.updateTime):wi(u);return f.isEqual(Se.min())&&(f=wi(u)),new yN(f,o.transformResults||[])}(n,e))):[]}function LN(i,e){return{documents:[sw(i,e.path)]}}function UN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=sw(i,o);const u=function(g){if(g.length!==0)return lw(Zn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:vo(A.field),direction:zN(A.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Ep(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function jN(i){let e=kN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const A=ow(w);return A instanceof Zn&&Lb(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(A=>function(U){return new wu(Eo(U.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,df(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,M=w.values||[];return new Kh(M,A)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const A=!w.before,M=w.values||[];return new Kh(M,A)}(n.endAt)),iN(e,o,f,u,m,"F",p,g)}function BN(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ow(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Eo(n.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(n.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Eo(n.unaryFilter.field);return At.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(n){return At.create(Eo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(s=>ow(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(i):Te(30097,{filter:i})}function zN(i){return CN[i]}function qN(i){return xN[i]}function HN(i){return NN[i]}function vo(i){return{fieldPath:i.canonicalString()}}function Eo(i){return $t.fromServerFormat(i.fieldPath)}function lw(i){return i instanceof At?function(n){if(n.op==="=="){if(fT(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(hT(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fT(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(hT(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:qN(n.op),value:n.value}}}(i):i instanceof Zn?function(n){const s=n.getFilters().map(o=>lw(o));return s.length===1?s[0]:{compositeFilter:{op:HN(n.op),filters:s}}}(i):Te(54877,{filter:i})}function FN(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.yt=e}}function KN(i){const e=jN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.Cn=new $N}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(as.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class $N{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cw=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(cw,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ko(0)}static cr(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="LruGarbageCollector",QN=1048576;function CT([i,e],[n,s]){const o=ke(i,n);return o===0?ke(e,s):o}class XN{constructor(e){this.Ir=e,this.buffer=new Ot(CT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();CT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(IT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bo(n)?fe(IT,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Vr(3e5)})}}class ZN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(ff.ce);const s=new XN(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(RT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),yo()<=Oe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function JN(i,e){return new ZN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.changes=new Ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&du(s.mutation,o,Rn.empty(),it.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=sa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=su();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=sa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=mr();const f=fu(),m=function(){return fu()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof _s)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),du(E.mutation,g,E.mutation.getFieldMask(),it.now())):f.set(g.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>m.set(g,new tD(E,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const s=fu();let o=new ut((f,m)=>f-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Rn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Me()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=Kb();E.forEach(A=>{if(!u.has(A)){const M=Zb(n.get(A),s.get(A));M!==null&&w.set(A,M),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(sa());let m=vu,p=u;return f.next(g=>te.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Me())).next(E=>({batchId:m,changes:Gb(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=su();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(w,A){return new zo(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,A)=>{f=f.insert(w,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,nn.newInvalidDocument(E)))});let m=su();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&du(E.mutation,g,Rn.empty(),it.now()),gf(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:KN(o.bundledQuery),readTime:wi(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.overlays=new ut(ge.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=sa();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=sa(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=sa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=sa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new bN(n,s));let u=this.qr.get(n);u===void 0&&(u=Me(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this.Qr=new Ot(jt.$r),this.Ur=new Ot(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ge(new tt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new tt([])),s=new jt(n,e),o=new jt(n,e+1);let u=Me();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(jt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new TN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?eg:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(ke);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ge(u),0);let m=new Ot(ke);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new jt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.ri=e,this.docs=function(){return new ut(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=mr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=mr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||P2(M2(E),s)<=0||(o.has(E.key)||gf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new lD(this)}getSize(e){return te.resolve(this.size)}}class lD extends eD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.persistence=e,this.si=new Ea(n=>ig(n),rg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new hg,this.targetCount=0,this.ai=ko.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n){this.ui={},this.overlays={},this.ci=new ff(0),this.li=!1,this.li=!0,this.hi=new sD,this.referenceDelegate=e(this),this.Pi=new uD(this),this.indexManager=new YN,this.remoteDocumentCache=function(o){return new oD(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new GN(n),this.Ii=new iD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new aD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new cD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return te.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class cD extends L2{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Ri=new hg,this.Vi=null}static mi(e){return new fg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,s=>{const o=ge.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xh{constructor(e,n){this.persistence=e,this.pi=new Ea(s=>B2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=JN(this,n)}static mi(e,n){return new Xh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return te.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new dg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return F1()?8:U2(rn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new hD;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(yo()<=Oe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(yo()<=Oe.DEBUG&&fe("QueryEngine","Query:",_o(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(yo()<=Oe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(n))):te.resolve())}ys(e,n){if(gT(n))return te.resolve(null);let s=bi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Yh(n,null,"F"),s=bi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Me(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Yh(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,s,o){return gT(n)||o.isEqual(Se.min())?te.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(yo()<=Oe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(e,f,n,k2(o,vu)).next(m=>m))})}Ds(e,n){let s=new Ot(Hb(e));return n.forEach((o,u)=>{gf(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return yo()<=Oe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ps.getDocumentsMatchingQuery(e,n,as.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="LocalStore",dD=3e8;class mD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(ke),this.xs=new Ea(u=>ig(u),rg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function pD(i,e,n,s){return new mD(i,e,n,s)}async function fw(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Me();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function gD(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,A=w.keys();let M=te.resolve();return A.forEach(U=>{M=M.next(()=>E.getEntry(p,U)).next(z=>{const P=g.docVersions.get(U);He(P!==null,48541),z.version.compareTo(P)<0&&(w.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),E.addEntry(z)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Me();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function dw(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function yD(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,w)));let M=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?M=M.withResumeToken(Xt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(w,M),function(z,P,q){return z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=dD?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(A,M,E)&&m.push(n.Pi.updateTargetData(u,M))});let p=mr(),g=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(_D(u,f,e.documentUpdates).next(E=>{p=E.ks,g=E.qs})),!s.isEqual(Se.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function _D(i,e,n){let s=Me(),o=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=mr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):fe(mg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:f,qs:o}})}function vD(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=eg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ED(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Sp(i,e,n){const s=Ae(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Bo(f))throw f;fe(mg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function xT(i,e,n){const s=Ae(i);let o=Se.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=Ae(p),A=w.xs.get(E);return A!==void 0?te.resolve(w.Ms.get(A)):w.Pi.getTargetData(g,E)}(s,f,bi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Me())).next(m=>(TD(s,sN(e),m),{documents:m,Qs:u})))}function TD(i,e,n){let s=i.Os.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class NT{constructor(){this.activeTargetIds=hN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bD{constructor(){this.Mo=new NT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new NT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="ConnectivityMonitor";class OT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(DT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(DT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function Ap(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="RestConnection",SD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Fh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Ap(),m=this.zo(e,n.toUriEncodedString());fe(Xm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=ps(g);return this.Jo(e,m,p,s,E).then(w=>(fe(Xm,`Received RPC '${e}' ${f}: `,w),w),w=>{throw xo(Xm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=SD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class ID extends AD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Ap();return new Promise((m,p)=>{const g=new gb;g.setWithCredentials(!0),g.listenOnce(yb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ch.NO_ERROR:const w=g.getResponseJson();fe(en,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Ch.TIMEOUT:fe(en,`RPC '${e}' ${f} timed out`),p(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const A=g.getStatus();if(fe(en,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const U=M?.error;if(U&&U.status&&U.message){const z=function(q){const ne=q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ne)>=0?ne:J.UNKNOWN}(U.status);p(new ce(z,U.message))}else p(new ce(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(en,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);fe(en,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(e,n,s){const o=Ap(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Eb(),m=vb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");fe(en,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.I_(w);let A=!1,M=!1;const U=new RD({Yo:P=>{M?fe(en,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(A||(fe(en,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),fe(en,`RPC '${e}' stream ${o} sending:`,P),w.send(P))},Zo:()=>w.close()}),z=(P,q,ne)=>{P.listen(q,Q=>{try{ne(Q)}catch(ie){setTimeout(()=>{throw ie},0)}})};return z(w,ru.EventType.OPEN,()=>{M||(fe(en,`RPC '${e}' stream ${o} transport opened.`),U.o_())}),z(w,ru.EventType.CLOSE,()=>{M||(M=!0,fe(en,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(w))}),z(w,ru.EventType.ERROR,P=>{M||(M=!0,xo(en,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),U.a_(new ce(J.UNAVAILABLE,"The operation could not be completed")))}),z(w,ru.EventType.MESSAGE,P=>{if(!M){const q=P.data[0];He(!!q,16349);const ne=q,Q=ne?.error||ne[0]?.error;if(Q){fe(en,`RPC '${e}' stream ${o} received error:`,Q);const ie=Q.status;let se=function(R){const I=St[R];if(I!==void 0)return ew(I)}(ie),he=Q.message;se===void 0&&(se=J.INTERNAL,he="Unknown error status: "+ie+" with message "+Q.message),M=!0,U.a_(new ce(se,he)),w.close()}else fe(en,`RPC '${e}' stream ${o} received:`,q),U.u_(q)}}),z(m,_b.STAT_EVENT,P=>{P.stat===dp.PROXY?fe(en,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===dp.NOPROXY&&fe(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(i){return new DN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="PersistentStream";class pw{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new ce(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(kT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(fe(kT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CD extends pw{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?wi(f.readTime):Se.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=wp(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=_p(p)?{documents:LN(u,p)}:{query:UN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=iw(u,f.resumeToken);const g=Ep(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Qh(u,f.snapshotVersion.toTimestamp());const g=Ep(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=BN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=wp(this.serializer),n.removeTarget=e,this.q_(n)}}class xD extends pw{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=VN(e.writeResults,e.commitTime),s=wi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=wp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>PN(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{}class DD extends ND{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,Tp(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(J.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Tp(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(J.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class OD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class kD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Ta(this)&&(fe(da,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.Ea.add(4),await Uu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Tf(g)}(this))})}),this.Ra=new OD(s,o)}}async function Tf(i){if(Ta(i))for(const e of i.da)await e(!0)}async function Uu(i){for(const e of i.da)await e(!1)}function gw(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_g(n)?yg(n):qo(n).O_()&&gg(n,e))}function pg(i,e){const n=Ae(i),s=qo(n);n.Ia.delete(e),s.O_()&&yw(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ta(n)&&n.Ra.set("Unknown"))}function gg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qo(i).Y_(e)}function yw(i,e){i.Va.Ue(e),qo(i).Z_(e)}function yg(i){i.Va=new IN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),qo(i).start(),i.Ra.ua()}function _g(i){return Ta(i)&&!qo(i).x_()&&i.Ia.size>0}function Ta(i){return Ae(i).Ea.size===0}function _w(i){i.Va=void 0}async function MD(i){i.Ra.set("Online")}async function PD(i){i.Ia.forEach((e,n)=>{gg(i,e)})}async function VD(i,e){_w(i),_g(i)?(i.Ra.ha(e),yg(i)):i.Ra.set("Unknown")}async function LD(i,e,n){if(i.Ra.set("Online"),e instanceof nw&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){fe(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wh(i,s)}else if(e instanceof Oh?i.Va.Ze(e):e instanceof tw?i.Va.st(e):i.Va.tt(e),!n.isEqual(Se.min()))try{const s=await dw(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),yw(u,p);const w=new Jr(E.target,p,g,E.sequenceNumber);gg(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){fe(da,"Failed to raise snapshot:",s),await Wh(i,s)}}async function Wh(i,e,n){if(!Bo(e))throw e;i.Ea.add(1),await Uu(i),i.Ra.set("Offline"),n||(n=()=>dw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe(da,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Tf(i)})}function vw(i,e){return e().catch(n=>Wh(i,n,e))}async function bf(i){const e=Ae(i),n=cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:eg;for(;UD(e);)try{const o=await vD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,jD(e,o)}catch(o){await Wh(e,o)}Ew(e)&&Tw(e)}function UD(i){return Ta(i)&&i.Ta.length<10}function jD(i,e){i.Ta.push(e);const n=cs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Ew(i){return Ta(i)&&!cs(i).x_()&&i.Ta.length>0}function Tw(i){cs(i).start()}async function BD(i){cs(i).ra()}async function zD(i){const e=cs(i);for(const n of i.Ta)e.ea(n.mutations)}async function qD(i,e,n){const s=i.Ta.shift(),o=lg.from(s,e,n);await vw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await bf(i)}async function HD(i,e){e&&cs(i).X_&&await async function(s,o){if(function(f){return SN(f)&&f!==J.ABORTED}(o.code)){const u=s.Ta.shift();cs(s).B_(),await vw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await bf(s)}}(i,e),Ew(i)&&Tw(i)}async function MT(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),fe(da,"RemoteStore received new credentials");const s=Ta(n);n.Ea.add(3),await Uu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Tf(n)}async function FD(i,e){const n=Ae(i);e?(n.Ea.delete(2),await Tf(n)):e||(n.Ea.add(2),await Uu(n),n.Ra.set("Unknown"))}function qo(i){return i.ma||(i.ma=function(n,s,o){const u=Ae(n);return u.sa(),new CD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:MD.bind(null,i),t_:PD.bind(null,i),r_:VD.bind(null,i),H_:LD.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),_g(i)?yg(i):i.Ra.set("Unknown")):(await i.ma.stop(),_w(i))})),i.ma}function cs(i){return i.fa||(i.fa=function(n,s,o){const u=Ae(n);return u.sa(),new xD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:BD.bind(null,i),r_:HD.bind(null,i),ta:zD.bind(null,i),na:qD.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await bf(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(da,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new vg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(i,e){if(dr("AsyncQueue",`${e}: ${i}`),Bo(i))return new ce(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=su(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.ga=new ut(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Mo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Mo(e,n,Ao.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class KD{constructor(){this.queries=VT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=VT(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function VT(){return new Ea(i=>qb(i),pf)}async function YD(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new GD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Eg(f,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Tg(n)}async function $D(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function QD(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Tg(n)}function XD(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Tg(i){i.Ca.forEach(e=>{e.next()})}var Rp,LT;(LT=Rp||(Rp={})).Ma="default",LT.Cache="cache";class WD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.key=e}}class ww{constructor(e){this.key=e}}class ZD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=Hb(e),this.tu=new Ao(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new PT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),M=gf(this.query,w)?w:null,U=!!A&&this.mutatedKeys.has(A.key),z=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let P=!1;A&&M?A.data.isEqual(M.data)?U!==z&&(s.track({type:3,doc:M}),P=!0):this.su(A,M)||(s.track({type:2,doc:M}),P=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!A&&M?(s.track({type:0,doc:M}),P=!0):A&&!M&&(s.track({type:1,doc:A}),P=!0,(p||g)&&(m=!0)),P&&(M?(f=f.add(M),u=z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,w)=>function(M,U){const z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:P})}};return z(M)-z(U)}(E.type,w.type)||this.eu(E.doc,w.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new Mo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new PT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new ww(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new bw(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bg="SyncEngine";class JD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class eO{constructor(e){this.key=e,this.hu=!1}}class tO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ea(m=>qb(m),pf),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ge.comparator),this.Au=new Map,this.Ru=new hg,this.Vu={},this.mu=new Map,this.fu=ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nO(i,e,n=!0){const s=xw(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Sw(s,e,n,!0),o}async function iO(i,e){const n=xw(i);await Sw(n,e,!0,!1)}async function Sw(i,e,n,s){const o=await ED(i.localStore,bi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await rO(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&gw(i.remoteStore,o),m}async function rO(i,e,n,s,o){i.pu=(w,A,M)=>async function(z,P,q,ne){let Q=P.view.ru(q);Q.Cs&&(Q=await xT(z.localStore,P.query,!1).then(({documents:N})=>P.view.ru(N,Q)));const ie=ne&&ne.targetChanges.get(P.targetId),se=ne&&ne.targetMismatches.get(P.targetId)!=null,he=P.view.applyChanges(Q,z.isPrimaryClient,ie,se);return jT(z,P.targetId,he.au),he.snapshot}(i,w,A,M);const u=await xT(i.localStore,e,!0),f=new ZD(e,u.Qs),m=f.ru(u.documents),p=Lu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);jT(i,n,g.au);const E=new JD(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function sO(i,e,n){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!pf(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Sp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&pg(s.remoteStore,o.targetId),Ip(s,o.targetId)}).catch(jo)):(Ip(s,o.targetId),await Sp(s.localStore,o.targetId,!0))}async function aO(i,e){const n=Ae(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),pg(n.remoteStore,s.targetId))}async function oO(i,e,n){const s=mO(i);try{const o=await function(f,m){const p=Ae(f),g=it.now(),E=m.reduce((M,U)=>M.add(U.key),Me());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let U=mr(),z=Me();return p.Ns.getEntries(M,E).next(P=>{U=P,U.forEach((q,ne)=>{ne.isValidDocument()||(z=z.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,U)).next(P=>{w=P;const q=[];for(const ne of m){const Q=vN(ne,w.get(ne.key).overlayedDocument);Q!=null&&q.push(new _s(ne.key,Q,Mb(Q.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,q,m)}).next(P=>{A=P;const q=P.applyToLocalDocumentSet(w,z);return p.documentOverlayCache.saveOverlays(M,P.batchId,q)})}).then(()=>({batchId:A.batchId,changes:Gb(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ut(ke)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await ju(s,o.changes),await bf(s.remoteStore)}catch(o){const u=Eg(o,"Failed to persist write");n.reject(u)}}async function Aw(i,e){const n=Ae(i);try{const s=await yD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?He(f.hu,14607):o.removedDocuments.size>0&&(He(f.hu,42227),f.hu=!1))}),await ju(n,s,e)}catch(s){await jo(s)}}function UT(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const A of w.Sa)A.va(m)&&(g=!0)}),g&&Tg(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function lO(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(ge.comparator);f=f.insert(u,nn.newNoDocument(u,Se.min()));const m=Me().add(u),p=new vf(Se.min(),new Map,new ut(ke),f,m);await Aw(s,p),s.du=s.du.remove(u),s.Au.delete(e),wg(s)}else await Sp(s.localStore,e,!1).then(()=>Ip(s,e,n)).catch(jo)}async function uO(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await gD(n.localStore,e);Iw(n,s,null),Rw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ju(n,o)}catch(o){await jo(o)}}async function cO(i,e,n){const s=Ae(i);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(He(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Iw(s,e,n),Rw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ju(s,o)}catch(o){await jo(o)}}function Rw(i,e){(i.mu.get(e)||[]).forEach(n=>{n.resolve()}),i.mu.delete(e)}function Iw(i,e,n){const s=Ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ip(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||Cw(i,s)})}function Cw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(pg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),wg(i))}function jT(i,e,n){for(const s of n)s instanceof bw?(i.Ru.addReference(s.key,e),hO(i,s)):s instanceof ww?(fe(bg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Cw(i,s.key)):Te(19791,{wu:s})}function hO(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(fe(bg,"New document in limbo: "+n),i.Eu.add(s),wg(i))}function wg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ge(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new eO(n)),i.du=i.du.insert(n,s),gw(i.remoteStore,new Jr(bi(sg(n.path)),s,"TargetPurposeLimboResolution",ff.ce))}}async function ju(i,e,n){const s=Ae(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{f.push(s.pu(p,e,n).then(g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=dg.As(p.targetId,g);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(g,A=>te.forEach(A.Es,M=>E.persistence.referenceDelegate.addReference(w,A.targetId,M)).next(()=>te.forEach(A.ds,M=>E.persistence.referenceDelegate.removeReference(w,A.targetId,M)))))}catch(w){if(!Bo(w))throw w;fe(mg,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const M=E.Ms.get(A),U=M.snapshotVersion,z=M.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(A,z)}}}(s.localStore,u))}async function fO(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){fe(bg,"User change. New user:",e.toKey());const s=await fw(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new ce(J.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ju(n,s.Ls)}}function dO(i,e){const n=Ae(i),s=n.Au.get(e);if(s&&s.hu)return Me().add(s.key);{let o=Me();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function xw(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lO.bind(null,e),e.Pu.H_=QD.bind(null,e.eventManager),e.Pu.yu=XD.bind(null,e.eventManager),e}function mO(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cO.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pD(this.persistence,new fD,e.initialUser,this.serializer)}Cu(e){return new hw(fg.mi,this.serializer)}Du(e){return new bD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class pO extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof Xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new WN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new hw(s=>Xh.mi(s,n),this.serializer)}}class Cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>UT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fO.bind(null,this.syncEngine),await FD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KD}()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),s=function(u){return new ID(u)}(e.databaseInfo);return function(u,f,m,p){return new DD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new kD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>UT(this.syncEngine,n,0),function(){return OT.v()?new OT:new wD}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const w=new tO(o,u,f,m,p,g);return E&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Ae(n);fe(da,"RemoteStore shutting down."),s.Ea.add(5),await Uu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cp.provider={build:()=>new Cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class yO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{fe(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(fe(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Eg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Zm(i,e){i.asyncQueue.verifyOperationInProgress(),fe(hs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await fw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function BT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await _O(i);fe(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>MT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>MT(e.remoteStore,o)),i._onlineComponents=e}async function _O(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(hs,"Using user provided OfflineComponentProvider");try{await Zm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await Zm(i,new Zh)}}else fe(hs,"Using default OfflineComponentProvider"),await Zm(i,new pO(void 0));return i._offlineComponents}async function Nw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(hs,"Using user provided OnlineComponentProvider"),await BT(i,i._uninitializedComponentsProvider._online)):(fe(hs,"Using default OnlineComponentProvider"),await BT(i,new Cp))),i._onlineComponents}function vO(i){return Nw(i).then(e=>e.syncEngine)}async function zT(i){const e=await Nw(i),n=e.eventManager;return n.onListen=nO.bind(null,e.syncEngine),n.onUnlisten=sO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aO.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="firestore.googleapis.com",HT=!0;class FT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ow,this.ssl=HT}else this.host=e.host,this.ssl=e.ssl??HT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QN)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dw(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new b2;switch(s.type){case"firstParty":return new R2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=qT.get(n);s&&(fe("ComponentProvider","Removing Datastore"),qT.delete(n),s.terminate())}(this),Promise.resolve()}}function EO(i,e,n,s={}){i=Ti(i,wf);const o=ps(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(jp(`https://${m}`),Bp("Firestore",!0)),u.host!==Ow&&u.host!==m&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ua(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=tn.MOCK_USER;else{g=x0(s.mockUserToken,i._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(w)}i._authCredentials=new w2(new bb(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Pu(n,vt._jsonSchema))return new vt(e,s||null,new ge(tt.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Rt("string",vt._jsonSchemaVersion),referencePath:Rt("string")};class rs extends vs{constructor(e,n,s){super(e,n,sg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ge(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function pr(i,e,...n){if(i=nt(i),wb("collection","path",e),i instanceof wf){const s=tt.fromString(e,...n);return nT(s),new rs(i,null,s)}{if(!(i instanceof vt||i instanceof rs))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return nT(s),new rs(i.firestore,null,s)}}function lr(i,e,...n){if(i=nt(i),arguments.length===1&&(e=Jp.newId()),wb("doc","path",e),i instanceof wf){const s=tt.fromString(e,...n);return tT(s),new vt(i,null,new ge(s))}{if(!(i instanceof vt||i instanceof rs))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return tT(s),new vt(i.firestore,i instanceof rs?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="AsyncQueue";class KT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mw(this,"async_queue_retry"),this._c=()=>{const s=Wm();s&&fe(GT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new aa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;fe(GT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",YT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=vg.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:YT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function YT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class ma extends wf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new KT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KT(e),this._firestoreClient=void 0,await e}}}function TO(i,e){const n=typeof i=="object"?i:Hp(),s=typeof i=="string"?i:Fh,o=af(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=R0("firestore");u&&EO(o,...u)}return o}function kw(i){if(i._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||bO(i),i._firestoreClient}function bO(i){const e=i._freezeSettings(),n=function(o,u,f,m){return new H2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Dw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new yO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Xt.fromBase64String(e))}catch(n){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Rt("string",zn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,Si._jsonSchema))return new Si(e.latitude,e.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Rt("string",Si._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,Ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ai(e.vectorValues);throw new ce(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:Rt("string",Ai._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=/^__.*__$/;class SO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class Mw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new _s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Pw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:i})}}class Sg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Pw(this.Ac)&&wO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ef(e)}Cc(e,n,s,o=!1){return new Sg({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rf(i){const e=i._freezeSettings(),n=Ef(i._databaseId);return new AO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Vw(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Rg("Data must be an object, but it was:",f,s);const m=Lw(s,f);let p,g;if(u.merge)p=new Rn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=xp(e,w,n);if(!f.contains(A))throw new ce(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);jw(E,A)||E.push(A)}p=new Rn(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new SO(new gn(m),p,g)}class If extends Af{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof If}}class Ag extends Af{_toFieldTransform(e){return new pN(e.path,new Su)}isEqual(e){return e instanceof Ag}}function RO(i,e,n,s){const o=i.Cc(1,e,n);Rg("Data must be an object, but it was:",o,s);const u=[],f=gn.empty();ys(s,(p,g)=>{const E=Ig(e,p,n);g=nt(g);const w=o.yc(E);if(g instanceof If)u.push(E);else{const A=Bu(g,w);A!=null&&(u.push(E),f.set(E,A))}});const m=new Rn(u);return new Mw(f,m,o.fieldTransforms)}function IO(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[xp(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(xp(e,u[A])),p.push(u[A+1]);const g=[],E=gn.empty();for(let A=m.length-1;A>=0;--A)if(!jw(g,m[A])){const M=m[A];let U=p[A];U=nt(U);const z=f.yc(M);if(U instanceof If)g.push(M);else{const P=Bu(U,z);P!=null&&(g.push(M),E.set(M,P))}}const w=new Rn(g);return new Mw(E,w,f.fieldTransforms)}function CO(i,e,n,s=!1){return Bu(n,i.Cc(s?4:3,e))}function Bu(i,e){if(Uw(i=nt(i)))return Rg("Unsupported field value:",e,i),Lw(i,e);if(i instanceof Af)return function(s,o){if(!Pw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Bu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=nt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Qh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(s instanceof Si)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:iw(o.serializer,s._byteString)};if(s instanceof vt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ai)return function(f,m){return{mapValue:{fields:{[Ob]:{stringValue:kb},[Gh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return ag(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${hf(s)}`)}(i,e)}function Lw(i,e){const n={};return Rb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(i,(s,o)=>{const u=Bu(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Uw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Si||i instanceof zn||i instanceof vt||i instanceof Af||i instanceof Ai)}function Rg(i,e,n){if(!Uw(n)||!Sb(n)){const s=hf(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function xp(i,e,n){if((e=nt(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return Ig(i,e);throw Jh("Field path arguments must be of type string or ",i,!1,void 0,n)}const xO=new RegExp("[~\\*/\\[\\]]");function Ig(i,e,n){if(e.search(xO)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Sf(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(J.INVALID_ARGUMENT,m+i+p)}function jw(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NO extends Bw{data(){return super.data()}}function Cg(i,e){return typeof e=="string"?Ig(i,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}class Ng extends xg{}function pa(i,e,...n){let s=[];e instanceof xg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Og).length,m=u.filter(p=>p instanceof Dg).length;if(f>1||f>0&&m>0)throw new ce(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Dg extends Ng{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Dg(e,n,s)}_apply(e){const n=this._parse(e);return zw(e._query,n),new vs(e.firestore,e.converter,vp(e._query,n))}_parse(e){const n=Rf(e.firestore);return function(u,f,m,p,g,E,w){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){XT(w,E);const U=[];for(const z of w)U.push(QT(p,u,z));A={arrayValue:{values:U}}}else A=QT(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||XT(w,E),A=CO(m,f,w,E==="in"||E==="not-in");return At.create(g,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Og extends xg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Og(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)zw(f,p),f=vp(f,p)}(e._query,n),new vs(e.firestore,e.converter,vp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kg extends Ng{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(u,f)}(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new zo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function ur(i,e="asc"){const n=e,s=Cg("orderBy",i);return kg._create(s,n)}class Mg extends Ng{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Mg(e,n,s)}_apply(e){return new vs(e.firestore,e.converter,Yh(e._query,this._limit,this._limitType))}}function OO(i){return Mg._create("limit",i,"F")}function QT(i,e,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new ce(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zb(e)&&n.indexOf("/")!==-1)throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return cT(i,new ge(s))}if(n instanceof vt)return cT(i,n._key);throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function XT(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zw(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kO{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ys(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[Gh].arrayValue?.values?.map(s=>_t(s.doubleValue));return new Ai(n)}convertGeoPoint(e){return new Si(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=mf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const n=os(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);He(uw(s),9688,{name:e});const o=new Tu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends Bw{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Cg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Rt("string",oa._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class kh extends oa{data(e={}){return super.data(e)}}class Ro{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new kh(this._firestore,this._userDataWriter,s.key,s,new ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:MO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}Ro._jsonSchemaVersion="firestore/querySnapshot/1.0",Ro._jsonSchema={type:Rt("string",Ro._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Hw extends kO{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function PO(i,e,n){i=Ti(i,vt);const s=Ti(i.firestore,ma),o=qw(i.converter,e,n);return Cf(s,[Vw(Rf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,qn.none())])}function ef(i,e,n,...s){i=Ti(i,vt);const o=Ti(i.firestore,ma),u=Rf(o);let f;return f=typeof(e=nt(e))=="string"||e instanceof Sf?IO(u,"updateDoc",i._key,e,n,s):RO(u,"updateDoc",i._key,e),Cf(o,[f.toMutation(i._key,qn.exists(!0))])}function Fw(i){return Cf(Ti(i.firestore,ma),[new og(i._key,qn.none())])}function Pg(i,e){const n=Ti(i.firestore,ma),s=lr(i),o=qw(i.converter,e);return Cf(n,[Vw(Rf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then(()=>s)}function fs(i,...e){i=nt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||$T(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($T(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(i instanceof vt)f=Ti(i.firestore,ma),m=sg(i._key.path),u={next:p=>{e[s]&&e[s](VO(f,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Ti(i,vs);f=Ti(p.firestore,ma),m=p._query;const g=new Hw(f);u={next:E=>{e[s]&&e[s](new Ro(f,g,p,E))},error:e[s+1],complete:e[s+2]},DO(i._query)}return function(g,E,w,A){const M=new gO(A),U=new WD(E,M,w);return g.asyncQueue.enqueueAndForget(async()=>YD(await zT(g),U)),()=>{M.Nu(),g.asyncQueue.enqueueAndForget(async()=>$D(await zT(g),U))}}(kw(f),m,o,u)}function Cf(i,e){return function(s,o){const u=new aa;return s.asyncQueue.enqueueAndForget(async()=>oO(await vO(s),o,u)),u.promise}(kw(i),e)}function VO(i,e,n){const s=n.docs.get(e._key),o=new Hw(i);return new oa(i,o,e._key,s,new ou(n.hasPendingWrites,n.fromCache),e.converter)}function ar(){return new Ag("serverTimestamp")}(function(e,n=!0){(function(o){Uo=o})(_a),ca(new ss("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ma(new S2(s.getProvider("auth-internal")),new I2(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(g.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),_i(WE,ZE,e),_i(WE,ZE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firebasestorage.googleapis.com",Kw="storageBucket",LO=120*1e3,UO=600*1e3,jO=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Ni{constructor(e,n,s=0){super(Jm(e),`Firebase Storage: ${n} (${Jm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function Jm(i){return"storage/"+i}function Vg(){const i="An unknown error occurred, please check the error payload for server response.";return new ct(rt.UNKNOWN,i)}function BO(i){return new ct(rt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function zO(i){return new ct(rt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(rt.UNAUTHENTICATED,i)}function HO(){return new ct(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function FO(i){return new ct(rt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function Yw(){return new ct(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $w(){return new ct(rt.CANCELED,"User canceled the upload/download.")}function GO(i){return new ct(rt.INVALID_URL,"Invalid URL '"+i+"'.")}function KO(i){return new ct(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function YO(){return new ct(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Kw+"' property when initializing the app?")}function Qw(){return new ct(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $O(){return new ct(rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function QO(){return new ct(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function XO(i){return new ct(rt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Np(i){return new ct(rt.INVALID_ARGUMENT,i)}function Xw(){return new ct(rt.APP_DELETED,"The Firebase app was deleted.")}function WO(i){return new ct(rt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mu(i,e){return new ct(rt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function tu(i){throw new ct(rt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=cn.makeFromUrl(e,n)}catch{return new cn(e,"")}if(s.path==="")return s;throw KO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(ie){ie.path_=decodeURIComponent(ie.path)}const E="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",M=new RegExp(`^https?://${w}/${E}/b/${o}/o${A}`,"i"),U={bucket:1,path:3},z=n===Gw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",q=new RegExp(`^https?://${z}/${o}/${P}`,"i"),Q=[{regex:m,indices:p,postModify:u},{regex:M,indices:U,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let ie=0;ie<Q.length;ie++){const se=Q[ie],he=se.regex.exec(e);if(he){const N=he[se.indices.bucket];let R=he[se.indices.path];R||(R=""),s=new cn(N,R),se.postModify(s);break}}if(s==null)throw GO(e);return s}}class ZO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function E(...P){g||(g=!0,e.apply(null,P))}function w(P){o=setTimeout(()=>{o=null,i(M,p())},P)}function A(){u&&clearTimeout(u)}function M(P,...q){if(g){A();return}if(P){A(),E.call(null,P,...q);return}if(p()||f){A(),E.call(null,P,...q);return}s<64&&(s*=2);let Q;m===1?(m=2,Q=0):Q=(s+Math.random())*1e3,w(Q)}let U=!1;function z(P){U||(U=!0,A(),!g&&(o!==null?(P||(m=2),clearTimeout(o),w(0)):P||(m=1)))}return w(0),u=setTimeout(()=>{f=!0,z(!0)},n),z}function ek(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(i){return i!==void 0}function nk(i){return typeof i=="function"}function ik(i){return typeof i=="object"&&!Array.isArray(i)}function xf(i){return typeof i=="string"||i instanceof String}function WT(i){return Lg()&&i instanceof Blob}function Lg(){return typeof Blob<"u"}function Dp(i,e,n,s){if(s<e)throw Np(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw Np(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function Ww(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var la;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(la||(la={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,s,o,u,f,m,p,g,E,w,A=!0,M=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,z)=>{this.resolve_=U,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Eh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===la.NO_ERROR,p=u.getStatus();if(!m||Zw(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===la.ABORT;s(!1,new Eh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Eh(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());tk(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=Vg();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?Xw():$w();f(p)}else{const p=Yw();f(p)}};this.canceled_?n(!1,new Eh(!1,null,!0)):this.backoffId_=JO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ek(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function sk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function ak(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ok(i,e){e&&(i["X-Firebase-GMPID"]=e)}function lk(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function uk(i,e,n,s,o,u,f=!0,m=!1){const p=Ww(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return ok(E,e),sk(E,n),ak(E,u),lk(E,s),new rk(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hk(...i){const e=ck();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(Lg())return new Blob(i);throw new ct(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fk(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(i){if(typeof atob>"u")throw XO("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ep{constructor(e,n){this.data=e,this.contentType=n||null}}function mk(i,e){switch(i){case yi.RAW:return new ep(Jw(e));case yi.BASE64:case yi.BASE64URL:return new ep(eS(i,e));case yi.DATA_URL:return new ep(gk(e),yk(e))}throw Vg()}function Jw(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=i.charCodeAt(++n);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function pk(i){let e;try{e=decodeURIComponent(i)}catch{throw mu(yi.DATA_URL,"Malformed data URL.")}return Jw(e)}function eS(i,e){switch(i){case yi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw mu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case yi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw mu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=dk(e)}catch(o){throw o.message.includes("polyfill")?o:mu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class tS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw mu(yi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=_k(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function gk(i){const e=new tS(i);return e.base64?eS(yi.BASE64,e.rest):pk(e.rest)}function yk(i){return new tS(i).contentType}function _k(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){let s=0,o="";WT(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(WT(this.data_)){const s=this.data_,o=fk(s,e,n);return o===null?null:new Zr(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Zr(s,!0)}}static getBlob(...e){if(Lg()){const n=e.map(s=>s instanceof Zr?s.data_:s);return new Zr(hk.apply(null,n))}else{const n=e.map(f=>xf(f)?mk(yi.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new Zr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(i){let e;try{e=JSON.parse(i)}catch{return null}return ik(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Ek(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function nS(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(i,e){return e}class un{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||Tk}}let Th=null;function bk(i){return!xf(i)||i.length<2?i:nS(i)}function jg(){if(Th)return Th;const i=[];i.push(new un("bucket")),i.push(new un("generation")),i.push(new un("metageneration")),i.push(new un("name","fullPath",!0));function e(u,f){return bk(f)}const n=new un("name");n.xform=e,i.push(n);function s(u,f){return f!==void 0?Number(f):f}const o=new un("size");return o.xform=s,i.push(o),i.push(new un("timeCreated")),i.push(new un("updated")),i.push(new un("md5Hash",null,!0)),i.push(new un("cacheControl",null,!0)),i.push(new un("contentDisposition",null,!0)),i.push(new un("contentEncoding",null,!0)),i.push(new un("contentLanguage",null,!0)),i.push(new un("contentType",null,!0)),i.push(new un("metadata","customMetadata",!0)),Th=i,Th}function wk(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new cn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function Sk(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,e[f.server])}return wk(s,i),s}function iS(i,e,n){const s=Ug(e);return s===null?null:Sk(i,s,n)}function Ak(i,e,n,s){const o=Ug(e);if(o===null||!xf(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,w=i.fullPath,A="/b/"+f(E)+"/o/"+f(w),M=ba(A,n,s),U=Ww({alt:"media",token:g});return M+U})[0]}function rS(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="prefixes",JT="items";function Rk(i,e,n){const s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[ZT])for(const o of n[ZT]){const u=o.replace(/\/$/,""),f=i._makeStorageReference(new cn(e,u));s.prefixes.push(f)}if(n[JT])for(const o of n[JT]){const u=i._makeStorageReference(new cn(e,o.name));s.items.push(u)}return s}function Ik(i,e,n){const s=Ug(n);return s===null?null:Rk(i,e,s)}class Es{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(i){if(!i)throw Vg()}function Bg(i,e){function n(s,o){const u=iS(i,o,e);return Ri(u!==null),u}return n}function Ck(i,e){function n(s,o){const u=Ik(i,e,o);return Ri(u!==null),u}return n}function xk(i,e){function n(s,o){const u=iS(i,o,e);return Ri(u!==null),Ak(u,o,i.host,i._protocol)}return n}function Ho(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=HO():o=qO():n.getStatus()===402?o=zO(i.bucket):n.getStatus()===403?o=FO(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function zg(i){const e=Ho(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=BO(i.path)),u.serverResponse=o.serverResponse,u}return n}function sS(i,e,n){const s=e.fullServerUrl(),o=ba(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new Es(o,u,Bg(i,n),f);return m.errorHandler=zg(e),m}function Nk(i,e,n,s,o){const u={};e.isRoot?u.prefix="":u.prefix=e.path+"/",n.length>0&&(u.delimiter=n),s&&(u.pageToken=s),o&&(u.maxResults=o);const f=e.bucketOnlyServerUrl(),m=ba(f,i.host,i._protocol),p="GET",g=i.maxOperationRetryTime,E=new Es(m,p,Ck(i,e.bucket),g);return E.urlParams=u,E.errorHandler=Ho(e),E}function Dk(i,e,n){const s=e.fullServerUrl(),o=ba(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new Es(o,u,xk(i,n),f);return m.errorHandler=zg(e),m}function Ok(i,e){const n=e.fullServerUrl(),s=ba(n,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function f(p,g){}const m=new Es(s,o,f,u);return m.successCodes=[200,204],m.errorHandler=zg(e),m}function kk(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function aS(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=kk(null,e)),s}function Mk(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let Q="";for(let ie=0;ie<2;ie++)Q=Q+Math.random().toString().slice(2);return Q}const p=m();f["Content-Type"]="multipart/related; boundary="+p;const g=aS(e,s,o),E=rS(g,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",M=Zr.getBlob(w,s,A);if(M===null)throw Qw();const U={name:g.fullPath},z=ba(u,i.host,i._protocol),P="POST",q=i.maxUploadRetryTime,ne=new Es(z,P,Bg(i,n),q);return ne.urlParams=U,ne.headers=f,ne.body=M.uploadData(),ne.errorHandler=Ho(e),ne}class tf{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function qg(i,e){let n=null;try{n=i.getResponseHeader("X-Goog-Upload-Status")}catch{Ri(!1)}return Ri(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Pk(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),f=aS(e,s,o),m={name:f.fullPath},p=ba(u,i.host,i._protocol),g="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},w=rS(f,n),A=i.maxUploadRetryTime;function M(z){qg(z);let P;try{P=z.getResponseHeader("X-Goog-Upload-URL")}catch{Ri(!1)}return Ri(xf(P)),P}const U=new Es(p,g,M,A);return U.urlParams=m,U.headers=E,U.body=w,U.errorHandler=Ho(e),U}function Vk(i,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const E=qg(g,["active","final"]);let w=null;try{w=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ri(!1)}w||Ri(!1);const A=Number(w);return Ri(!isNaN(A)),new tf(A,s.size(),E==="final")}const f="POST",m=i.maxUploadRetryTime,p=new Es(n,f,u,m);return p.headers=o,p.errorHandler=Ho(e),p}const e0=256*1024;function Lk(i,e,n,s,o,u,f,m){const p=new tf(0,0);if(f?(p.current=f.current,p.total=f.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw $O();const g=p.total-p.current;let E=g;o>0&&(E=Math.min(E,o));const w=p.current,A=w+E;let M="";E===0?M="finalize":g===E?M="upload, finalize":M="upload";const U={"X-Goog-Upload-Command":M,"X-Goog-Upload-Offset":`${p.current}`},z=s.slice(w,A);if(z===null)throw Qw();function P(ie,se){const he=qg(ie,["active","final"]),N=p.current+E,R=s.size();let I;return he==="final"?I=Bg(e,u)(ie,se):I=null,new tf(N,R,he==="final",I)}const q="POST",ne=e.maxUploadRetryTime,Q=new Es(n,q,P,ne);return Q.headers=U,Q.body=z.uploadData(),Q.progressCallback=m||null,Q.errorHandler=Ho(i),Q}const pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tp(i){switch(i){case"running":case"pausing":case"canceling":return pn.RUNNING;case"paused":return pn.PAUSED;case"success":return pn.SUCCESS;case"canceled":return pn.CANCELED;case"error":return pn.ERROR;default:return pn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,s){if(nk(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class jk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=la.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=la.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=la.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw tu("cannot .send() more than once");if(ps(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Bk extends jk{initXhr(){this.xhr_.responseType="text"}}function ir(){return new Bk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=jg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(rt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(Zw(o.status,[]))if(u)o=Yw();else{this.sleepTime=Math.max(this.sleepTime*2,jO),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(rt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=Pk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,ir,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=Vk(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,ir,n,s);this._request=u,u.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=e0*this._chunkMultiplier,n=new tf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let f;try{f=Lk(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(f,ir,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){e0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=sS(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,ir,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=Mk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,ir,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=$w(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=tp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new Uk(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(tp(this._state)){case pn.SUCCESS:go(this._resolve.bind(null,this.snapshot))();break;case pn.CANCELED:case pn.ERROR:const n=this._reject;go(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(tp(this._state)){case pn.RUNNING:case pn.PAUSED:e.next&&go(e.next.bind(e,this.snapshot))();break;case pn.SUCCESS:e.complete&&go(e.complete.bind(e))();break;case pn.CANCELED:case pn.ERROR:e.error&&go(e.error.bind(e,this._error))();break;default:e.error&&go(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this._service=e,n instanceof cn?this._location=n:this._location=cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ga(e,n)}get root(){const e=new cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nS(this._location.path)}get storage(){return this._service}get parent(){const e=vk(this._location.path);if(e===null)return null;const n=new cn(this._location.bucket,e);return new ga(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw WO(e)}}function qk(i,e,n){return i._throwIfRoot("uploadBytesResumable"),new zk(i,new Zr(e),n)}function Hk(i){const e={prefixes:[],items:[]};return oS(i,e).then(()=>e)}async function oS(i,e,n){const o=await Fk(i,{pageToken:n});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await oS(i,e,o.nextPageToken)}function Fk(i,e){e!=null&&typeof e.maxResults=="number"&&Dp("options.maxResults",1,1e3,e.maxResults);const n=e||{},s=Nk(i.storage,i._location,"/",n.pageToken,n.maxResults);return i.storage.makeRequestWithTokens(s,ir)}function Gk(i){i._throwIfRoot("getMetadata");const e=sS(i.storage,i._location,jg());return i.storage.makeRequestWithTokens(e,ir)}function Kk(i){i._throwIfRoot("getDownloadURL");const e=Dk(i.storage,i._location,jg());return i.storage.makeRequestWithTokens(e,ir).then(n=>{if(n===null)throw QO();return n})}function Yk(i){i._throwIfRoot("deleteObject");const e=Ok(i.storage,i._location);return i.storage.makeRequestWithTokens(e,ir)}function $k(i,e){const n=Ek(i._location.path,e),s=new cn(i._location.bucket,n);return new ga(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(i){return/^[A-Za-z]+:\/\//.test(i)}function Xk(i,e){return new ga(i,e)}function lS(i,e){if(i instanceof Hg){const n=i;if(n._bucket==null)throw YO();const s=new ga(n,n._bucket);return e!=null?lS(s,e):s}else return e!==void 0?$k(i,e):i}function Wk(i,e){if(e&&Qk(e)){if(i instanceof Hg)return Xk(i,e);throw Np("To use ref(service, url), the first argument must be a Storage instance.")}else return lS(i,e)}function t0(i,e){const n=e?.[Kw];return n==null?null:cn.makeFromBucketSpec(n,i)}function Zk(i,e,n,s={}){i.host=`${e}:${n}`;const o=ps(e);o&&(jp(`https://${i.host}/b`),Bp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:x0(u,i.app.options.projectId))}class Hg{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=Gw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LO,this._maxUploadRetryTime=UO,this._requests=new Set,o!=null?this._bucket=cn.makeFromBucketSpec(o,this._host):this._bucket=t0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cn.makeFromBucketSpec(this._url,e):this._bucket=t0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Dp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Dp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ga(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new ZO(Xw());{const f=uk(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const n0="@firebase/storage",i0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="storage";function Nf(i,e,n){return i=nt(i),qk(i,e,n)}function Jk(i){return i=nt(i),Gk(i)}function eM(i){return i=nt(i),Hk(i)}function zu(i){return i=nt(i),Kk(i)}function Fg(i){return i=nt(i),Yk(i)}function ds(i,e){return i=nt(i),Wk(i,e)}function tM(i=Hp(),e){i=nt(i);const s=af(i,uS).getImmediate({identifier:e}),o=R0("storage");return o&&nM(s,...o),s}function nM(i,e,n,s={}){Zk(i,e,n,s)}function iM(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Hg(n,s,o,e,_a)}function rM(){ca(new ss(uS,iM,"PUBLIC").setMultipleInstances(!0)),_i(n0,i0,""),_i(n0,i0,"esm2020")}rM();const sM={apiKey:"REDACTED",authDomain:"blessednpolished-a8cf2.firebaseapp.com",projectId:"blessednpolished-a8cf2",storageBucket:"blessednpolished-a8cf2.firebasestorage.app",messagingSenderId:"748722371086",appId:"1:748722371086:web:476f34a9552ca20dfa1a5f"},Gg=O0(sM),Io=E2(Gg),Qt=TO(Gg),ms=tM(Gg);function cS(){const i=Mp(),e=gr(),[n,s]=L.useState(!1),[o,u]=L.useState(!1);L.useEffect(()=>rb(Io,m=>s(!!m)),[]),L.useEffect(()=>u(!1),[e.pathname]),L.useEffect(()=>{const m=p=>p.key==="Escape"&&u(!1);return window.addEventListener("keydown",m),document.body.style.overflow=o?"hidden":"",()=>{window.removeEventListener("keydown",m),document.body.style.overflow=""}},[o]);const f=m=>{const p=()=>document.getElementById(m)?.scrollIntoView({behavior:"smooth"});e.pathname!=="/"?(i("/"),setTimeout(p,0)):p()};return S.jsxs(S.Fragment,{children:[S.jsx("header",{className:"sticky top-0 z-[200] backdrop-blur bg-white/70 border-b border-black/5",children:S.jsxs("div",{className:"mx-auto max-w-6xl px-4 h-16 flex items-center justify-between",children:[S.jsxs("button",{onClick:()=>f("hero"),className:"text-left text-xl font-semibold tracking-tight",children:["Blessed ",S.jsx("span",{className:"text-[#ff9e0a]",children:"N"})," Polished"]}),S.jsxs("nav",{className:"hidden sm:flex gap-6 text-sm text-neutral-700 items-center",children:[S.jsx("button",{onClick:()=>f("services"),className:"hover:text-black",children:"Services"}),S.jsx("button",{onClick:()=>f("gallery"),className:"hover:text-black",children:"Gallery"}),S.jsx(Gt,{to:"/book",className:"hover:text-black",children:"Booking"}),S.jsx(Gt,{to:"/contact",className:"hover:text-black",children:"Contact"}),n&&S.jsxs(S.Fragment,{children:[S.jsx("span",{className:"mx-2 h-4 w-px bg-neutral-300"}),S.jsx(Gt,{to:"/admin",className:"text-neutral-600 hover:text-black",children:"Admin"}),S.jsx("button",{className:"btn btn-ghost",onClick:()=>hp(Io),children:"Sign out"})]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Gt,{to:"/book",className:"hidden sm:inline-flex btn btn-primary sm:ml-6",children:"Book Now"}),S.jsx("button",{type:"button",onClick:()=>u(!0),className:"sm:hidden inline-flex items-center justify-center w-10 h-10 rounded-xl border border-black/10","aria-label":"Open menu","aria-controls":"mobile-drawer","aria-expanded":o,children:S.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:S.jsx("path",{d:"M4 6h16M4 12h16M4 18h16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]})]})}),R1.createPortal(S.jsxs(S.Fragment,{children:[S.jsx("div",{className:`fixed inset-0 z-[10000] bg-black/70 backdrop-blur-[2px] transition-opacity duration-300 ${o?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>u(!1),"aria-hidden":!o}),S.jsx("aside",{id:"mobile-drawer",className:`fixed right-0 top-0 bottom-0 z-[10010] w-[86%] max-w-sm shadow-2xl ring-1 ring-black/10
                        transition-transform duration-300 ease-out ${o?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true",style:{background:"linear-gradient(to bottom, #f9d6d1 0%, #ffffff 100%)"},children:S.jsxs("div",{className:"flex flex-col h-full",children:[S.jsxs("div",{className:"h-16 px-4 border-b border-black/10 bg-white flex items-center justify-between",children:[S.jsx("span",{className:"font-semibold",children:"Menu"}),S.jsx("button",{type:"button",onClick:()=>u(!1),className:"inline-flex items-center justify-center w-10 h-10 rounded-xl border border-black/10 bg-white","aria-label":"Close menu",children:S.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:S.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),S.jsx("nav",{className:"p-4 space-y-3",children:(()=>{const m=`block w-full text-left px-4 py-3 rounded-xl text-base font-medium
       text-neutral-900 bg-white hover:bg-neutral-50
       transition translate-x-4 opacity-0`;return S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>{f("services"),u(!1)},className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:"0ms"},children:"Services"}),S.jsx("button",{onClick:()=>{f("gallery"),u(!1)},className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"40ms":"0ms"},children:"Gallery"}),S.jsx(Gt,{to:"/book",onClick:()=>u(!1),className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"80ms":"0ms"},children:"Booking"}),S.jsx(Gt,{to:"/contact",onClick:()=>u(!1),className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"120ms":"0ms"},children:"Contact"}),n&&S.jsxs(S.Fragment,{children:[S.jsx(Gt,{to:"/admin",onClick:()=>u(!1),className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"160ms":"0ms"},children:"Admin"}),S.jsx("button",{onClick:()=>{u(!1),hp(Io)},className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"200ms":"0ms"},children:"Sign out"})]}),S.jsx(Gt,{to:"/book",onClick:()=>u(!1),className:"mt-2 btn btn-primary w-full justify-center",children:"Book Now"})]})})()})]})})]}),document.body)]})}function aM(){return S.jsx("footer",{className:"border-t border-black/5",children:S.jsxs("div",{className:"mx-auto max-w-6xl px-4 h-20 flex items-center justify-between text-sm text-neutral-700",children:[S.jsxs("p",{children:[" ",new Date().getFullYear()," Blessed N Polished"]}),S.jsx("a",{href:"#contact",className:"hover:text-black",children:"Contact"})]})})}function oM(){return S.jsxs("div",{className:"min-h-dvh w-full overflow-x-clip bg-gradient-to-b from-[#f9d6d1] to-white",children:[S.jsx(cS,{}),S.jsx("main",{className:"w-full overflow-x-clip",children:S.jsx(GR,{})}),S.jsx(aM,{})]})}function Kg(){const[i,e]=L.useState(null);return L.useEffect(()=>fs(lr(Qt,"site","settings"),s=>{e(s.exists()?s.data():null)}),[]),i}function lM({onBook:i}){const e=Kg();return S.jsx("section",{id:"hero",className:"bg-transparent",children:S.jsx("div",{className:"mx-auto max-w-6xl px-4 py-10 md:py-16",children:S.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12 items-center",children:[S.jsxs("div",{className:"order-2 md:order-1",children:[S.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight tracking-tight",children:e?.heroHeadline||"Blessed N Polished"}),S.jsx("p",{className:"mt-4 text-lg text-neutral-700",children:e?.heroSub||"May your nails always get compliments"}),S.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[i?S.jsx("button",{className:"btn btn-primary",onClick:i,children:"Book Now"}):S.jsx(Gt,{to:"/book",className:"btn btn-primary",children:"Book Now"}),S.jsx(Gt,{to:"/services",className:"btn btn-ghost",children:"Our Services"})]})]}),S.jsx("div",{className:"order-1 md:order-2",children:S.jsx("div",{className:`\r
      relative mx-auto\r
      w-full max-w-[clamp(260px,80vw,420px)]  /* cap size on phones */\r
      md:max-w-none                           /* free to expand on desktop */\r
      rounded-3xl overflow-hidden shadow-xl ring-1 ring-black/5\r
      aspect-[4/5] sm:aspect-[3/4] md:aspect-[4/3]\r
    `,children:e?.heroImage?S.jsx("img",{src:e.heroImage,alt:"",className:"absolute inset-0 h-full w-full object-cover object-center",width:1200,height:1600,loading:"eager"}):S.jsx("div",{className:"absolute inset-0 bg-neutral-200"})})})]})})})}const uM=[{key:"bling",title:"Swarovski/Diamonds",desc:"Genuine Swarovski crystals hand-set  accent nails or full bling."},{key:"xxl",title:"XXL Nail Art",desc:"Sculpted extra-long set with custom art, charms, foils & encapsulation."},{key:"xxxl",title:"XXXL Extreme Length",desc:"Ultra-long statement nails with 3D/encapsulated design work."}];function hS({showViewAll:i}){const{pathname:e}=gr(),n=i??e!=="/services",[s,o]=L.useState(null);L.useEffect(()=>{const f=pr(Qt,"signatureLooks"),m=E=>{const w=E.docs.map(A=>({id:A.id,...A.data()})).filter(A=>A.enabled!==!1);o(w.length?w:null)};let p=()=>{},g=()=>{};return p=fs(pa(f,ur("order","asc"),ur("createdAt","asc")),m,E=>{E?.code==="failed-precondition"?g=fs(pa(f,ur("order","asc")),m):console.error(E)}),()=>{p&&p(),g&&g()}},[]);const u=s??uM;return S.jsx("section",{id:"services",className:"py-12 md:py-16 scroll-mt-24 bg-transparent",children:S.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[S.jsxs("div",{className:"flex items-end justify-between mb-6",children:[S.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Signature Looks"}),n&&S.jsx(Gt,{to:"/services",className:"text-sm underline",children:"View all"})]}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6",children:u.map((f,m)=>S.jsxs("div",{className:`group w-full max-w-[420px] sm:max-w-none mx-auto\r
                         rounded-2xl overflow-hidden bg-white ring-1 ring-black/5 shadow-soft\r
                         transition hover:-translate-y-0.5 hover:shadow-xl`,children:[f.imgUrl&&S.jsxs("div",{className:"relative aspect-[16/9] sm:aspect-[4/3]",children:[S.jsx("img",{src:f.imgUrl,alt:f.alt||"",loading:"lazy",className:"absolute inset-0 h-full w-full object-cover"}),S.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-inset ring-black/5"})]}),S.jsxs("div",{className:"p-5",children:[S.jsx("h3",{className:"font-semibold",children:f.title}),S.jsx("p",{className:"text-neutral-600 mt-2",children:f.desc})]})]},f.id||f.key||m))})]})})}function cM(){const[i,e]=L.useState([]);L.useEffect(()=>{const s=pa(pr(Qt,"images"),ur("createdAt","desc"),OO(12));return fs(s,o=>e(o.docs.map(u=>({id:u.id,...u.data()}))))},[]);const n=L.useMemo(()=>{const s=i.filter(o=>o.featured);return(s.length?s:i).slice(0,6)},[i]);return n.length?S.jsx("section",{id:"gallery",className:"py-12 md:py-16 scroll-mt-24 bg-transparent",children:S.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[S.jsxs("div",{className:"flex items-end justify-between mb-6",children:[S.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Gallery"}),S.jsx(Gt,{to:"/gallery",className:"text-sm underline",children:"View full gallery"})]}),S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 md:gap-4",children:n.map(s=>S.jsx("div",{className:"group overflow-hidden rounded-2xl",children:S.jsx("div",{className:"aspect-[4/3] bg-transparent",children:S.jsx("img",{src:s.url,alt:"",loading:"lazy",className:"w-full h-full object-contain p-1 transition-transform duration-300 group-hover:scale-[1.02]"})})},s.id))})]})}):null}function hM(){return S.jsxs(S.Fragment,{children:[S.jsx(lM,{}),S.jsx(hS,{}),S.jsx(cM,{})]})}function Df({open:i,onClose:e,onSelect:n}){const[s,o]=L.useState([]),[u,f]=L.useState([]),[m,p]=L.useState(!1),[g,E]=L.useState(""),[w,A]=L.useState("all");L.useEffect(()=>{if(!i)return;const z=pa(pr(Qt,"images"),ur("createdAt","desc"));return fs(z,P=>o(P.docs.map(q=>({id:q.id,...q.data()}))))},[i]),L.useEffect(()=>{if(!i)return;let z=!1;async function P(q,ne){try{const Q=await eM(ds(ms,q));return await Promise.all(Q.items.map(async se=>{const[he,N]=await Promise.all([zu(se),Jk(se).catch(()=>null)]);return{id:`st:${se.fullPath}`,url:he,path:se.fullPath,category:ne,name:se.name.toLowerCase(),size:N?.size??null,createdAt:N?.timeCreated?Date.parse(N.timeCreated):0}}))}catch{return[]}}return(async()=>{p(!0);const[q,ne]=await Promise.all([P("assets/hero","hero"),P("gallery","general")]);z||(f([...q,...ne]),p(!1))})(),()=>{z=!0}},[i]);const U=L.useMemo(()=>{const z=new Map;for(const q of u)z.set(q.path,q);for(const q of s)z.set(q.path||q.url,{...q});const P=[...z.values()];return P.sort((q,ne)=>(ne.createdAt??0)-(q.createdAt??0)),P},[s,u]).filter(z=>{const P=w==="all"||(z.category||"general")===w,q=g.trim().toLowerCase(),ne=!q||z.name?.includes(q)||z.path?.toLowerCase().includes(q);return P&&ne});return i?S.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 grid place-items-center",children:S.jsxs("div",{className:"bg-white rounded-2xl p-4 w-[min(900px,100%)]",children:[S.jsxs("div",{className:"flex gap-2 mb-3",children:[S.jsx("input",{className:"border rounded px-3 py-2 flex-1",placeholder:"Search name",value:g,onChange:z=>E(z.target.value)}),S.jsxs("select",{className:"border rounded px-3 py-2",value:w,onChange:z=>A(z.target.value),children:[S.jsx("option",{value:"all",children:"All"}),S.jsx("option",{value:"hero",children:"Hero"}),S.jsx("option",{value:"general",children:"General"}),S.jsx("option",{value:"nails",children:"Nails"}),S.jsx("option",{value:"designs",children:"Designs"})]})]}),m?S.jsx("p",{className:"text-sm text-neutral-600 p-4",children:"Loading media"}):U.length===0?S.jsx("p",{className:"text-sm text-neutral-600 p-4",children:"No media found."}):S.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 max-h-[60vh] overflow-auto",children:U.map(z=>S.jsxs("button",{className:"border rounded overflow-hidden hover:ring-2 hover:ring-black",onClick:()=>{n(z),e()},children:[S.jsx("img",{src:z.url,className:"w-full h-24 object-cover"}),S.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-600 truncate",children:(z.category||"general").toUpperCase()})]},z.id))}),S.jsx("div",{className:"mt-3 text-right",children:S.jsx("button",{className:"btn btn-ghost",onClick:e,children:"Close"})})]})}):null}function Of({value:i}){return i==null?null:S.jsxs("div",{className:"mt-2 w-full",children:[S.jsx("div",{className:"h-2 w-full bg-neutral-200 rounded",children:S.jsx("div",{className:"h-2 bg-black rounded transition-[width] duration-200",style:{width:`${Math.max(2,i)}%`}})}),S.jsxs("div",{className:"text-xs mt-1 text-neutral-600",children:[i,"%"]})]})}function fM(){const[i,e]=L.useState(null),[n,s]=L.useState(!0);return L.useEffect(()=>rb(Io,u=>{e(u),s(!1)}),[]),n?null:i?S.jsxs("div",{className:"mx-auto max-w-6xl p-6 space-y-10",children:[S.jsx(cS,{}),S.jsxs("header",{className:"flex items-center justify-between",children:[S.jsx("h1",{className:"text-2xl font-bold",children:"Admin"}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(Gt,{to:"/",className:"text-sm underline",children:"View Site"}),S.jsx("button",{className:"btn btn-ghost",onClick:()=>hp(Io),children:"Sign out"})]})]}),S.jsx(mM,{}),S.jsx(yM,{}),S.jsx(pM,{}),S.jsx(gM,{})]}):S.jsx(dM,{})}function dM(){const i=Mp(),[e,n]=L.useState({email:"",password:""}),[s,o]=L.useState("");async function u(f){f.preventDefault(),o("");try{await ox(Io,e.email,e.password),i("/admin",{replace:!0})}catch(m){o(m.message||"Login failed")}}return S.jsx("div",{className:"min-h-screen grid place-items-center p-6",children:S.jsxs("form",{onSubmit:u,className:"w-full max-w-sm bg-white p-6 rounded-2xl border shadow-soft space-y-3",children:[S.jsx("h2",{className:"text-lg font-semibold",children:"Admin Login"}),S.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"email",placeholder:"Email",value:e.email,onChange:f=>n(m=>({...m,email:f.target.value}))}),S.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"password",placeholder:"Password",value:e.password,onChange:f=>n(m=>({...m,password:f.target.value}))}),s&&S.jsx("p",{className:"text-sm text-red-600",children:s}),S.jsx("button",{className:"btn btn-primary w-full",children:"Sign In"})]})})}function mM(){const i=Kg(),[e,n]=L.useState(null),[s,o]=L.useState(null),[u,f]=L.useState(!1),[m,p]=L.useState(""),[g,E]=L.useState(""),[w,A]=L.useState(!1),[M,U]=L.useState(null);L.useEffect(()=>{p(i?.heroHeadline||""),E(i?.heroSub||"")},[i]);async function z(P){P.preventDefault(),A(!0);try{let q;if(e){const ne=`assets/hero/${Date.now()}_${e.name}`,Q=ds(ms,ne),ie=Nf(Q,e);await new Promise((se,he)=>{ie.on("state_changed",N=>{const R=Math.round(N.bytesTransferred/N.totalBytes*100);U(R)},he,se)}),q=await zu(ie.snapshot.ref)}else s&&(q=s.url);await PO(lr(Qt,"site","settings"),{...q?{heroImage:q}:{},heroHeadline:m,heroSub:g,updatedAt:ar()},{merge:!0}),n(null),o(null)}finally{A(!1),U(null)}}return S.jsxs("section",{className:"bg-white border rounded-2xl p-4 shadow-soft space-y-3",children:[S.jsx("h2",{className:"font-semibold",children:"Hero Content"}),i?.heroImage&&S.jsx("img",{src:i.heroImage,alt:"",className:"h-28 w-full object-cover rounded"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{type:"file",accept:"image/*",onChange:P=>n(P.target.files?.[0]||null)}),S.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>f(!0),children:"Choose from Library"})]}),s&&S.jsx("img",{src:s.url,alt:"",className:"h-20 rounded"}),S.jsx("input",{className:"border rounded-lg px-3 py-2 w-full",placeholder:"Headline",value:m,onChange:P=>p(P.target.value)}),S.jsx("input",{className:"border rounded-lg px-3 py-2 w-full",placeholder:"Subheadline",value:g,onChange:P=>E(P.target.value)}),S.jsx("button",{className:"btn btn-primary",onClick:z,disabled:w,children:w?M!=null?`Uploading ${M}%`:"Saving":"Save"}),S.jsx(Of,{value:M}),S.jsx(Df,{open:u,onClose:()=>f(!1),onSelect:o})]})}function pM(){const[i,e]=L.useState(null),[n,s]=L.useState(null),[o,u]=L.useState(!1),[f,m]=L.useState("general"),[p,g]=L.useState(!1),[E,w]=L.useState(null);async function A(M){if(M.preventDefault(),!(!i&&!n)){g(!0);try{let U,z,P,q;if(i){const ne=`gallery/${Date.now()}_${i.name}`,Q=ds(ms,ne),ie=Nf(Q,i);await new Promise((se,he)=>{ie.on("state_changed",N=>{const R=Math.round(N.bytesTransferred/N.totalBytes*100);w(R)},he,se)}),U=await zu(ie.snapshot.ref),z=ne,P=i.name.toLowerCase(),q=i.size}else U=n.url,z=n.path,P=n.name||"",q=n.size||0;await Pg(pr(Qt,"images"),{url:U,path:z,category:f,name:P,size:q,createdAt:ar(),source:i?"upload":"library"}),e(null),s(null)}finally{g(!1),w(null)}}}return S.jsxs("section",{className:"bg-white border rounded-2xl p-4 shadow-soft",children:[S.jsx("h2",{className:"font-semibold mb-3",children:"Upload to Gallery"}),S.jsxs("form",{className:"flex flex-wrap items-center gap-3",onSubmit:A,children:[S.jsx("input",{type:"file",accept:"image/*",onChange:M=>e(M.target.files?.[0]||null)}),S.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>u(!0),children:"Choose from Library"}),S.jsxs("select",{className:"border rounded-lg px-3 py-2",value:f,onChange:M=>m(M.target.value),children:[S.jsx("option",{value:"general",children:"General"}),S.jsx("option",{value:"nails",children:"Nails"}),S.jsx("option",{value:"designs",children:"Designs"})]}),S.jsx("button",{className:"btn btn-primary",disabled:!i&&!n||p,children:p?E!=null?`Uploading ${E}%`:"Adding":"Add"})]}),S.jsx(Of,{value:E}),n&&S.jsx("div",{className:"mt-3",children:S.jsx("img",{src:n.url,alt:"",className:"h-24 rounded"})}),S.jsx(Df,{open:o,onClose:()=>u(!1),onSelect:s})]})}function gM(){const[i,e]=L.useState([]),[n,s]=L.useState(null),[o,u]=L.useState(null);L.useEffect(()=>{const p=pa(pr(Qt,"images"),ur("createdAt","desc"));return fs(p,g=>e(g.docs.map(E=>({id:E.id,...E.data()}))))},[]);async function f(p){if(confirm("Delete this image?"))try{await Fg(ds(ms,p.path)).catch(()=>{}),await Fw(lr(Qt,"images",p.id))}catch(E){console.error(E),alert("Couldnt delete. Try again.")}}async function m(p,g){try{u(p.id),await ef(lr(Qt,"images",p.id),{category:g,updatedAt:ar()})}finally{u(null)}}return S.jsxs("section",{children:[S.jsx("h2",{className:"font-semibold mb-3",children:"Manage Gallery"}),S.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(p=>S.jsxs("div",{className:"bg-white border rounded-2xl overflow-hidden shadow-soft",children:[S.jsx("div",{className:"aspect-[4/3] bg-neutral-100",children:S.jsx("img",{src:p.url,alt:p.alt||"",loading:"lazy",className:"w-full h-full object-contain p-1"})}),S.jsxs("div",{className:"flex items-center justify-between p-3 text-sm gap-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("label",{className:"text-neutral-600",children:"Category:"}),S.jsxs("select",{className:"border rounded-md px-2 py-1",value:p.category||"general",onChange:g=>m(p,g.target.value),children:[S.jsx("option",{value:"general",children:"General"}),S.jsx("option",{value:"nails",children:"Nails"}),S.jsx("option",{value:"designs",children:"Designs"})]}),o===p.id&&S.jsx("span",{className:"text-neutral-500",children:"Saving"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{className:"btn btn-ghost",onClick:()=>s(p),children:"Edit"}),S.jsx("button",{className:"btn btn-ghost",onClick:()=>f(p),children:"Delete"})]})]})]},p.id))}),n&&S.jsx(EditImageModal,{image:n,onClose:()=>s(null)})]})}function yM(){const[i,e]=L.useState([]),[n,s]=L.useState(""),[o,u]=L.useState(""),[f,m]=L.useState(null),[p,g]=L.useState(null),[E,w]=L.useState(!1),[A,M]=L.useState(null),[U,z]=L.useState(!1);L.useEffect(()=>{const ie=pa(pr(Qt,"signatureLooks"),ur("order","asc"),ur("createdAt","asc"));return fs(ie,se=>e(se.docs.map(he=>({id:he.id,...he.data()}))))},[]);function P(){return i.length?Math.max(...i.map(ie=>ie.order??0))+1:1}async function q(ie){if(ie.preventDefault(),!n.trim())return alert("Title is required");if(!f&&!p)return alert("Pick an image");z(!0);try{let se,he,N,R,I;if(f){const O=`signature/${Date.now()}_${f.name}`,V=ds(ms,O),j=Nf(V,f);await new Promise((x,ht)=>{j.on("state_changed",We=>M(Math.round(We.bytesTransferred/We.totalBytes*100)),ht,x)}),se=await zu(j.snapshot.ref),he=O,N=f.name.toLowerCase(),R=f.size,I="upload"}else p&&(se=p.url,he=p.path||null,N=p.name||"",R=p.size||0,I="library");await Pg(pr(Qt,"signatureLooks"),{title:n.trim(),desc:o.trim(),imgUrl:se,path:he,name:N,size:R,source:I,order:P(),enabled:!0,createdAt:ar(),updatedAt:ar()}),s(""),u(""),m(null),g(null)}finally{z(!1),M(null)}}async function ne(ie,se){const he=i.findIndex(O=>O.id===ie);if(he<0)return;const N=he+se;if(N<0||N>=i.length)return;const R=i[he],I=i[N];await Promise.all([ef(lr(Qt,"signatureLooks",R.id),{order:I.order??0,updatedAt:ar()}),ef(lr(Qt,"signatureLooks",I.id),{order:R.order??0,updatedAt:ar()})])}async function Q(ie){if(confirm("Delete this card?"))try{await Fw(lr(Qt,"signatureLooks",ie.id)),ie.path&&await Fg(ds(ms,ie.path)).catch(()=>{})}catch(he){console.error(he),alert("Couldnt delete.")}}return S.jsxs("section",{className:"bg-white border rounded-2xl p-4 shadow-soft space-y-4",children:[S.jsx("h2",{className:"font-semibold",children:"Signature Looks"}),S.jsxs("form",{className:"grid md:grid-cols-3 gap-3 items-start",onSubmit:q,children:[S.jsxs("div",{className:"md:col-span-2 grid gap-3",children:[S.jsx("input",{className:"border rounded-lg px-3 py-2 w-full",placeholder:"Title (e.g., Swarovski/Diamonds)",value:n,onChange:ie=>s(ie.target.value)}),S.jsx("input",{className:"border rounded-lg px-3 py-2 w-full",placeholder:"Description",value:o,onChange:ie=>u(ie.target.value)}),S.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[S.jsx("input",{type:"file",accept:"image/*",onChange:ie=>m(ie.target.files?.[0]||null)}),S.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>w(!0),children:"Choose from Library"}),p&&S.jsx("img",{src:p.url,alt:"",className:"h-12 rounded"})]}),A!=null&&S.jsx(Of,{value:A})]}),S.jsx("div",{className:"md:pl-3",children:S.jsx("button",{className:"btn btn-primary w-full md:w-auto",disabled:U,children:U?A!=null?`Uploading ${A}%`:"Adding":"Add Card"})})]}),S.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((ie,se)=>S.jsx(_M,{look:ie,index:se,total:i.length,onMoveUp:()=>ne(ie.id,-1),onMoveDown:()=>ne(ie.id,1),onDelete:()=>Q(ie)},ie.id))}),S.jsx(Df,{open:E,onClose:()=>w(!1),onSelect:g})]})}function _M({look:i,index:e,total:n,onMoveUp:s,onMoveDown:o,onDelete:u}){const[f,m]=L.useState(i.title||""),[p,g]=L.useState(i.desc||""),[E,w]=L.useState(i.enabled!==!1),[A,M]=L.useState(null),[U,z]=L.useState(null),[P,q]=L.useState(!1),[ne,Q]=L.useState(null),[ie,se]=L.useState(!1),[he,N]=L.useState(!0);L.useEffect(()=>{m(i.title||""),g(i.desc||""),w(i.enabled!==!1),M(null),z(null),Q(null)},[i.id]);async function R(){se(!0);try{let I=i.imgUrl,O=i.path,V=i.name,j=i.size,x=i.source;if(A||U){if(A){const ht=`signature/${Date.now()}_${A.name}`,We=ds(ms,ht),X=Nf(We,A);await new Promise((le,me)=>{X.on("state_changed",Pe=>Q(Math.round(Pe.bytesTransferred/Pe.totalBytes*100)),me,le)}),I=await zu(X.snapshot.ref),O=ht,V=A.name.toLowerCase(),j=A.size,x="upload"}else U&&(I=U.url,O=U.path||null,V=U.name||V,j=U.size||j,x="library");he&&i.path&&i.path!==O&&await Fg(ds(ms,i.path)).catch(()=>{})}await ef(lr(Qt,"signatureLooks",i.id),{title:f.trim(),desc:p.trim(),imgUrl:I,path:O,name:V,size:j,source:x,enabled:E,updatedAt:ar()})}finally{se(!1),Q(null)}}return S.jsxs("div",{className:"bg-white border rounded-2xl overflow-hidden shadow-soft",children:[S.jsx("div",{className:"relative aspect-[16/9] bg-neutral-100",children:S.jsx("img",{src:A?URL.createObjectURL(A):U?.url||i.imgUrl,alt:"",className:"absolute inset-0 h-full w-full object-cover"})}),S.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[S.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:f,onChange:I=>m(I.target.value)}),S.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:p,onChange:I=>g(I.target.value)}),S.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[S.jsx("input",{type:"file",accept:"image/*",onChange:I=>M(I.target.files?.[0]||null)}),S.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>q(!0),children:"Choose from Library"}),(A||U)&&S.jsxs("label",{className:"flex items-center gap-2",children:[S.jsx("input",{type:"checkbox",checked:he,onChange:I=>N(I.target.checked)}),S.jsx("span",{children:"Delete old file"})]})]}),ne!=null&&S.jsx(Of,{value:ne}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{className:"btn btn-ghost",onClick:s,disabled:e===0,children:""}),S.jsx("button",{className:"btn btn-ghost",onClick:o,disabled:e===n-1,children:""})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("label",{className:"flex items-center gap-2",children:[S.jsx("input",{type:"checkbox",checked:E,onChange:I=>w(I.target.checked)}),S.jsx("span",{children:"Visible"})]}),S.jsx("button",{className:"btn btn-ghost",onClick:u,children:"Delete"}),S.jsx("button",{className:"btn btn-primary",onClick:R,disabled:ie,children:ie?"Saving":"Save"})]})]})]}),S.jsx(Df,{open:P,onClose:()=>q(!1),onSelect:z})]})}function vM(){return S.jsxs("main",{className:"mx-auto max-w-6xl px-4 py-14",children:[S.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold mb-8",children:["Services",""]}),S.jsxs("p",{className:"text-neutral-600 mb-10",children:["Full pricing menu coming soon. For quotes or availability,"," ",S.jsx(Gt,{to:"/book",className:"underline",children:"book an appointment"})," or"," ",S.jsx(Gt,{to:"/contact",className:"underline",children:"contact us"}),"."]}),S.jsx("section",{children:S.jsx(hS,{showViewAll:!1})})]})}function EM(){const[i,e]=L.useState([]),[n,s]=L.useState(null);return L.useEffect(()=>{const o=pa(pr(Qt,"images"),ur("createdAt","desc"));return fs(o,u=>e(u.docs.map(f=>({id:f.id,...f.data()}))))},[]),S.jsxs("section",{className:"mx-auto max-w-6xl px-4 py-10",children:[S.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Gallery"}),S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.map((o,u)=>S.jsx("button",{onClick:()=>s(u),className:`group block rounded-2xl\r
                       shadow-sm hover:shadow-xl hover:-translate-y-0.5\r
                       transition overflow-hidden`,children:S.jsx("div",{className:"aspect-[4/3] bg-transparent",children:S.jsx("img",{src:o.url,alt:"",loading:"lazy",className:`w-full h-full object-contain p-1\r
                           transition-transform duration-300 group-hover:scale-[1.02]`})})},o.id))}),n!=null&&S.jsx(TM,{images:i,index:n,onClose:()=>s(null)})]})}function TM({images:i,index:e,onClose:n}){const[s,o]=L.useState(e),u=L.useRef({x:0,y:0}),[f,m]=L.useState({x:0,y:0}),[p,g]=L.useState(0),[E,w]=L.useState(!1),A=60,M=70,U="cubic-bezier(.22,.61,.36,1)";L.useEffect(()=>{const Q=R=>{R.key==="Escape"&&n(),R.key==="ArrowRight"&&ne(1),R.key==="ArrowLeft"&&ne(-1)};window.addEventListener("keydown",Q);const ie=document.documentElement,se=ie.style.overflow,he=document.body.style.overflow,N=window.scrollY;return ie.style.overflow="hidden",document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${N}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%",()=>{window.removeEventListener("keydown",Q),ie.style.overflow=se,document.body.style.overflow=he;const R=Math.abs(parseInt(document.body.style.top||"0",10));document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",window.scrollTo(0,R)}},[n]);function z(Q){if(E)return;const ie=Q.touches?Q.touches[0]:Q;u.current={x:ie.clientX,y:ie.clientY},g(0),m({x:0,y:0})}function P(Q){if(E)return;const ie=Q.touches?Q.touches[0]:Q,se=ie.clientX-u.current.x,he=ie.clientY-u.current.y;Math.abs(se)>Math.abs(he)&&Q.preventDefault(),m({x:se,y:he})}function q(){if(E)return;const{x:Q,y:ie}=f;if(Math.abs(ie)>M&&Math.abs(ie)>Math.abs(Q)){g(180),n();return}if(Math.abs(Q)<=A){g(180),m({x:0,y:0});return}const se=Q<0?1:-1;ne(se)}function ne(Q){if(E)return;w(!0);const ie=(typeof window<"u"?window.innerWidth:1e3)*1.1;g(260),m({x:Q*ie,y:0}),setTimeout(()=>{g(0),o(se=>Q>0?(se+1)%i.length:(se-1+i.length)%i.length),m({x:-Q*ie,y:0}),requestAnimationFrame(()=>{g(260),m({x:0,y:0}),setTimeout(()=>w(!1),280)})},270)}return S.jsxs("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 z-[11000] bg-black/70 backdrop-blur-sm flex items-center justify-center",style:{touchAction:"none"},onTouchStart:z,onTouchMove:P,onTouchEnd:q,onMouseDown:z,onMouseMove:Q=>{Q.buttons===1&&P(Q)},onMouseUp:q,children:[S.jsx("button",{className:"absolute top-3 right-3 w-10 h-10 grid place-items-center rounded-full bg-black/70 hover:bg-black text-white",onClick:n,"aria-label":"Close",children:S.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:S.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),S.jsx("button",{className:"absolute left-2 md:left-4 top-1/2 -translate-y-1/2 w-10 h-10 md:w-12 md:h-12 grid place-items-center rounded-full bg-black/60 hover:bg-black text-white select-none",onClick:()=>ne(-1),"aria-label":"Previous",children:S.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:S.jsx("path",{d:"M15 6l-6 6 6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),S.jsx("img",{src:i[s].url,alt:"",className:"max-w-[92vw] max-h-[86vh] object-contain rounded-xl shadow-2xl select-none",draggable:!1,style:{transform:`translateX(${f.x}px)`,transition:`transform ${p}ms ${U}`}}),S.jsx("button",{className:"absolute right-2 md:right-4 top-1/2 -translate-y-1/2 w-10 h-10 md:w-12 md:h-12 grid place-items-center rounded-full bg-black/60 hover:bg-black text-white select-none",onClick:()=>ne(1),"aria-label":"Next",children:S.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:S.jsx("path",{d:"M9 6l6 6-6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}function bM(){return S.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blush-100 to-white",children:S.jsxs("main",{className:"mx-auto max-w-6xl px-4 py-14 space-y-6",children:[S.jsx("h1",{className:"text-3xl font-bold",children:"Book an Appointment"}),S.jsx("p",{className:"text-neutral-700",children:"Well embed your booking tool here (Calendly/GlossGenius/Peek, etc.). For now, this is a placeholder."}),S.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-white p-6 shadow-soft",children:S.jsx("div",{className:"text-neutral-600",children:"Booking widget coming soon."})})]})})}class qu{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const wM=()=>{if(!(typeof localStorage>"u"))return{get:i=>Promise.resolve(localStorage.getItem(i)),set:(i,e)=>Promise.resolve(localStorage.setItem(i,e)),remove:i=>Promise.resolve(localStorage.removeItem(i))}},Yt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:wM()},Yg=i=>i?typeof i=="string"?{publicKey:i}:i.toString()==="[object Object]"?i:{}:{},SM=(i,e="https://api.emailjs.com")=>{if(!i)return;const n=Yg(i);Yt.publicKey=n.publicKey,Yt.blockHeadless=n.blockHeadless,Yt.storageProvider=n.storageProvider,Yt.blockList=n.blockList,Yt.limitRate=n.limitRate,Yt.origin=n.origin||e},fS=async(i,e,n={})=>{const s=await fetch(Yt.origin+i,{method:"POST",headers:n,body:e}),o=await s.text(),u=new qu(s.status,o);if(s.ok)return u;throw u},dS=(i,e,n)=>{if(!i||typeof i!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},AM=i=>{if(i&&i.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},mS=i=>i.webdriver||!i.languages||i.languages.length===0,pS=()=>new qu(451,"Unavailable For Headless Browser"),RM=(i,e)=>{if(!Array.isArray(i))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},IM=i=>!i.list?.length||!i.watchVariable,CM=(i,e)=>i instanceof FormData?i.get(e):i[e],gS=(i,e)=>{if(IM(i))return!1;RM(i.list,i.watchVariable);const n=CM(e,i.watchVariable);return typeof n!="string"?!1:i.list.includes(n)},yS=()=>new qu(403,"Forbidden"),xM=(i,e)=>{if(typeof i!="number"||i<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},NM=async(i,e,n)=>{const s=Number(await n.get(i)||0);return e-Date.now()+s},_S=async(i,e,n)=>{if(!e.throttle||!n)return!1;xM(e.throttle,e.id);const s=e.id||i;return await NM(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},vS=()=>new qu(429,"Too Many Requests"),DM=async(i,e,n,s)=>{const o=Yg(s),u=o.publicKey||Yt.publicKey,f=o.blockHeadless||Yt.blockHeadless,m=o.storageProvider||Yt.storageProvider,p={...Yt.blockList,...o.blockList},g={...Yt.limitRate,...o.limitRate};return f&&mS(navigator)?Promise.reject(pS()):(dS(u,i,e),AM(n),n&&gS(p,n)?Promise.reject(yS()):await _S(location.pathname,g,m)?Promise.reject(vS()):fS("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:u,service_id:i,template_id:e,template_params:n}),{"Content-type":"application/json"}))},OM=i=>{if(!i||i.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},kM=i=>typeof i=="string"?document.querySelector(i):i,MM=async(i,e,n,s)=>{const o=Yg(s),u=o.publicKey||Yt.publicKey,f=o.blockHeadless||Yt.blockHeadless,m=Yt.storageProvider||o.storageProvider,p={...Yt.blockList,...o.blockList},g={...Yt.limitRate,...o.limitRate};if(f&&mS(navigator))return Promise.reject(pS());const E=kM(n);dS(u,i,e),OM(E);const w=new FormData(E);return gS(p,w)?Promise.reject(yS()):await _S(location.pathname,g,m)?Promise.reject(vS()):(w.append("lib_version","4.4.1"),w.append("service_id",i),w.append("template_id",e),w.append("user_id",u),fS("/api/v1.0/email/send-form",w))},PM={init:SM,send:DM,sendForm:MM,EmailJSResponseStatus:qu};function VM(){const i=Kg(),[e,n]=L.useState({name:"",email:"",phone:"",message:""}),[s,o]=L.useState(!1),[u,f]=L.useState(!1),[m,p]=L.useState(""),g=L.useRef(null),E=i?.phone||"",w=i?.email||"blessednpolished@gmail.com",A=i?.instagram||"reinakatrina84",M=i?.serviceArea||i?.city||"Buckeye, AZ  Sundance",U=i?.byApptOnly??!0;async function z(P){if(P.preventDefault(),p(""),!e.name.trim())return p("Please enter your name.");if(!e.email.trim()&&!e.phone.trim())return p("Add an email or phone.");if(e.email&&!/.+@.+\..+/.test(e.email))return p("That email looks off.");if(e.message.trim().length<5)return p("Add a short message.");if(!g.current?.value){o(!0);try{await Pg(pr(Qt,"contactMessages"),{...e,createdAt:ar(),source:"website"}),await PM.send("service_4qvud2c","template_7ron76e",{title:"Website Contact",name:e.name,email:e.email||"no-email@site",phone:e.phone||"n/a",message:e.message,time:new Date().toLocaleString()},"pfHzESbvoAzCi3NYH"),f(!0),n({name:"",email:"",phone:"",message:""})}catch(q){console.error(q),p("Couldnt send right now. Please try again.")}finally{o(!1)}}}return S.jsxs("section",{className:"mx-auto max-w-6xl px-4 py-10 md:py-16",children:[S.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-8",children:"Contact"}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"rounded-2xl bg-white ring-1 ring-black/5 shadow-soft p-6 space-y-5",children:[U&&S.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-black text-white text-xs px-3 py-1",children:"By appointment only"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm text-neutral-600",children:"Location"}),S.jsxs("div",{className:"text-lg font-medium",children:[M," ",S.jsx("span",{className:"text-neutral-500",children:" address shared after booking"})]})]}),E&&S.jsxs("div",{children:[S.jsx("div",{className:"text-sm text-neutral-600",children:"Phone"}),S.jsx("a",{className:"text-lg font-medium hover:underline",href:`tel:${E.replace(/[^\d+]/g,"")}`,children:E}),S.jsxs("div",{className:"mt-2 flex gap-2",children:[S.jsx("a",{className:"btn btn-ghost btn-sm",href:`sms:${E.replace(/[^\d+]/g,"")}`,children:"Text"}),S.jsx("a",{className:"btn btn-ghost btn-sm",href:`tel:${E.replace(/[^\d+]/g,"")}`,children:"Call"})]})]}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm text-neutral-600",children:"Email"}),S.jsx("a",{className:"text-lg font-medium hover:underline",href:`mailto:${w}`,children:w})]}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm text-neutral-600",children:"Instagram"}),S.jsxs("a",{className:"text-lg font-medium hover:underline",target:"_blank",rel:"noreferrer",href:`https://instagram.com/${A.replace(/^@/,"")}`,children:["@",A.replace(/^@/,"")]})]})]}),S.jsx("div",{className:"rounded-2xl bg-white ring-1 ring-black/5 shadow-soft p-6",children:u?S.jsxs("div",{className:"text-center py-10",children:[S.jsx("div",{className:"text-2xl mb-2",children:" Thanks!"}),S.jsx("p",{className:"text-neutral-700",children:"We got your message and will get back to you soon."}),S.jsx("button",{className:"btn btn-primary mt-6",onClick:()=>f(!1),children:"Send another"})]}):S.jsxs("form",{className:"space-y-4",onSubmit:z,children:[S.jsx("input",{ref:g,className:"hidden",tabIndex:-1,autoComplete:"off",placeholder:"Company"}),S.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm mb-1",children:"Name"}),S.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:e.name,onChange:P=>n(q=>({...q,name:P.target.value})),autoComplete:"name",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm mb-1",children:"Phone"}),S.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:e.phone,onChange:P=>n(q=>({...q,phone:P.target.value})),autoComplete:"tel",placeholder:"Optional"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm mb-1",children:"Email"}),S.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:e.email,onChange:P=>n(q=>({...q,email:P.target.value})),type:"email",autoComplete:"email",placeholder:"name@email.com"}),S.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Add email or phone (either one works)."})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm mb-1",children:"Message"}),S.jsx("textarea",{className:"w-full border rounded-lg px-3 py-2 min-h-[120px]",value:e.message,onChange:P=>n(q=>({...q,message:P.target.value})),required:!0})]}),m&&S.jsx("p",{className:"text-sm text-red-600",children:m}),S.jsx("button",{className:"btn btn-primary",disabled:s,children:s?"Sending":"Send Message"})]})})]})]})}eR.createRoot(document.getElementById("root")).render(S.jsx(YA.StrictMode,{children:S.jsx(g1,{children:S.jsxs(YR,{children:[S.jsxs(Yr,{element:S.jsx(oM,{}),children:[S.jsx(Yr,{index:!0,element:S.jsx(hM,{})}),S.jsx(Yr,{path:"services",element:S.jsx(vM,{})}),S.jsx(Yr,{path:"gallery",element:S.jsx(EM,{})}),S.jsx(Yr,{path:"book",element:S.jsx(bM,{})}),S.jsx(Yr,{path:"contact",element:S.jsx(VM,{})})]}),S.jsx(Yr,{path:"admin",element:S.jsx(fM,{})})]})})}));
