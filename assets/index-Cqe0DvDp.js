(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function T0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var zm={exports:{}},ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function hA(){if(pE)return ou;pE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return ou.Fragment=e,ou.jsx=t,ou.jsxs=t,ou}var gE;function fA(){return gE||(gE=1,zm.exports=hA()),zm.exports}var v=fA(),Bm={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function dA(){if(yE)return xe;yE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,B={};function U(O,se,ue){this.props=O,this.context=se,this.refs=B,this.updater=ue||M}U.prototype.isReactComponent={},U.prototype.setState=function(O,se){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,se,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function q(){}q.prototype=U.prototype;function Z(O,se,ue){this.props=O,this.context=se,this.refs=B,this.updater=ue||M}var X=Z.prototype=new q;X.constructor=Z,L(X,U.prototype),X.isPureReactComponent=!0;var W=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function N(O,se,ue,ae,_e,Ne){return ue=Ne.ref,{$$typeof:i,type:O,key:se,ref:ue!==void 0?ue:null,props:Ne}}function R(O,se){return N(O.type,se,void 0,void 0,void 0,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function k(O){var se={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return se[ue]})}var V=/\/+/g;function j(O,se){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):se.toString(36)}function C(){}function ot(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(se){O.status==="pending"&&(O.status="fulfilled",O.value=se)},function(se){O.status==="pending"&&(O.status="rejected",O.reason=se)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function me(O,se,ue,ae,_e){var Ne=typeof O;(Ne==="undefined"||Ne==="boolean")&&(O=null);var Se=!1;if(O===null)Se=!0;else switch(Ne){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(O.$$typeof){case i:case e:Se=!0;break;case E:return Se=O._init,me(Se(O._payload),se,ue,ae,_e)}}if(Se)return _e=_e(O),Se=ae===""?"."+j(O,0):ae,W(_e)?(ue="",Se!=null&&(ue=Se.replace(V,"$&/")+"/"),me(_e,se,ue,"",function(oi){return oi})):_e!=null&&(x(_e)&&(_e=R(_e,ue+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(V,"$&/")+"/")+Se)),se.push(_e)),1;Se=0;var Mt=ae===""?".":ae+":";if(W(O))for(var et=0;et<O.length;et++)ae=O[et],Ne=Mt+j(ae,et),Se+=me(ae,se,ue,Ne,_e);else if(et=A(O),typeof et=="function")for(O=et.call(O),et=0;!(ae=O.next()).done;)ae=ae.value,Ne=Mt+j(ae,et++),Se+=me(ae,se,ue,Ne,_e);else if(Ne==="object"){if(typeof O.then=="function")return me(ot(O),se,ue,ae,_e);throw se=String(O),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Y(O,se,ue){if(O==null)return O;var ae=[],_e=0;return me(O,ae,"","",function(Ne){return se.call(ue,Ne,_e++)}),ae}function le(O){if(O._status===-1){var se=O._result;se=se(),se.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=se)}if(O._status===1)return O._result.default;throw O._result}var pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ie(){}return xe.Children={map:Y,forEach:function(O,se,ue){Y(O,function(){se.apply(this,arguments)},ue)},count:function(O){var se=0;return Y(O,function(){se++}),se},toArray:function(O){return Y(O,function(se){return se})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},xe.Component=U,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=Z,xe.StrictMode=s,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,xe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return re.H.useMemoCache(O)}},xe.cache=function(O){return function(){return O.apply(null,arguments)}},xe.cloneElement=function(O,se,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=L({},O.props),_e=O.key,Ne=void 0;if(se!=null)for(Se in se.ref!==void 0&&(Ne=void 0),se.key!==void 0&&(_e=""+se.key),se)!ce.call(se,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&se.ref===void 0||(ae[Se]=se[Se]);var Se=arguments.length-2;if(Se===1)ae.children=ue;else if(1<Se){for(var Mt=Array(Se),et=0;et<Se;et++)Mt[et]=arguments[et+2];ae.children=Mt}return N(O.type,_e,void 0,void 0,Ne,ae)},xe.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},xe.createElement=function(O,se,ue){var ae,_e={},Ne=null;if(se!=null)for(ae in se.key!==void 0&&(Ne=""+se.key),se)ce.call(se,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(_e[ae]=se[ae]);var Se=arguments.length-2;if(Se===1)_e.children=ue;else if(1<Se){for(var Mt=Array(Se),et=0;et<Se;et++)Mt[et]=arguments[et+2];_e.children=Mt}if(O&&O.defaultProps)for(ae in Se=O.defaultProps,Se)_e[ae]===void 0&&(_e[ae]=Se[ae]);return N(O,Ne,void 0,void 0,null,_e)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(O){return{$$typeof:m,render:O}},xe.isValidElement=x,xe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:le}},xe.memo=function(O,se){return{$$typeof:g,type:O,compare:se===void 0?null:se}},xe.startTransition=function(O){var se=re.T,ue={};re.T=ue;try{var ae=O(),_e=re.S;_e!==null&&_e(ue,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ie,pe)}catch(Ne){pe(Ne)}finally{re.T=se}},xe.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},xe.use=function(O){return re.H.use(O)},xe.useActionState=function(O,se,ue){return re.H.useActionState(O,se,ue)},xe.useCallback=function(O,se){return re.H.useCallback(O,se)},xe.useContext=function(O){return re.H.useContext(O)},xe.useDebugValue=function(){},xe.useDeferredValue=function(O,se){return re.H.useDeferredValue(O,se)},xe.useEffect=function(O,se,ue){var ae=re.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(O,se)},xe.useId=function(){return re.H.useId()},xe.useImperativeHandle=function(O,se,ue){return re.H.useImperativeHandle(O,se,ue)},xe.useInsertionEffect=function(O,se){return re.H.useInsertionEffect(O,se)},xe.useLayoutEffect=function(O,se){return re.H.useLayoutEffect(O,se)},xe.useMemo=function(O,se){return re.H.useMemo(O,se)},xe.useOptimistic=function(O,se){return re.H.useOptimistic(O,se)},xe.useReducer=function(O,se,ue){return re.H.useReducer(O,se,ue)},xe.useRef=function(O){return re.H.useRef(O)},xe.useState=function(O){return re.H.useState(O)},xe.useSyncExternalStore=function(O,se,ue){return re.H.useSyncExternalStore(O,se,ue)},xe.useTransition=function(){return re.H.useTransition()},xe.version="19.1.1",xe}var _E;function Bp(){return _E||(_E=1,Bm.exports=dA()),Bm.exports}var D=Bp();const ss=T0(D);var qm={exports:{}},lu={},Hm={exports:{}},Fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function mA(){return vE||(vE=1,function(i){function e(Y,le){var pe=Y.length;Y.push(le);e:for(;0<pe;){var Ie=pe-1>>>1,O=Y[Ie];if(0<o(O,le))Y[Ie]=le,Y[pe]=O,pe=Ie;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var le=Y[0],pe=Y.pop();if(pe!==le){Y[0]=pe;e:for(var Ie=0,O=Y.length,se=O>>>1;Ie<se;){var ue=2*(Ie+1)-1,ae=Y[ue],_e=ue+1,Ne=Y[_e];if(0>o(ae,pe))_e<O&&0>o(Ne,ae)?(Y[Ie]=Ne,Y[_e]=pe,Ie=_e):(Y[Ie]=ae,Y[ue]=pe,Ie=ue);else if(_e<O&&0>o(Ne,pe))Y[Ie]=Ne,Y[_e]=pe,Ie=_e;else break e}}return le}function o(Y,le){var pe=Y.sortIndex-le.sortIndex;return pe!==0?pe:Y.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,w=null,A=3,M=!1,L=!1,B=!1,U=!1,q=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function W(Y){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=Y)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function re(Y){if(B=!1,W(Y),!L)if(t(p)!==null)L=!0,ce||(ce=!0,j());else{var le=t(g);le!==null&&me(re,le.startTime-Y)}}var ce=!1,N=-1,R=5,x=-1;function k(){return U?!0:!(i.unstable_now()-x<R)}function V(){if(U=!1,ce){var Y=i.unstable_now();x=Y;var le=!0;try{e:{L=!1,B&&(B=!1,Z(N),N=-1),M=!0;var pe=A;try{t:{for(W(Y),w=t(p);w!==null&&!(w.expirationTime>Y&&k());){var Ie=w.callback;if(typeof Ie=="function"){w.callback=null,A=w.priorityLevel;var O=Ie(w.expirationTime<=Y);if(Y=i.unstable_now(),typeof O=="function"){w.callback=O,W(Y),le=!0;break t}w===t(p)&&s(p),W(Y)}else s(p);w=t(p)}if(w!==null)le=!0;else{var se=t(g);se!==null&&me(re,se.startTime-Y),le=!1}}break e}finally{w=null,A=pe,M=!1}le=void 0}}finally{le?j():ce=!1}}}var j;if(typeof X=="function")j=function(){X(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ot=C.port2;C.port1.onmessage=V,j=function(){ot.postMessage(null)}}else j=function(){q(V,0)};function me(Y,le){N=q(function(){Y(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var le=3;break;default:le=A}var pe=A;A=le;try{return Y()}finally{A=pe}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pe=A;A=Y;try{return le()}finally{A=pe}},i.unstable_scheduleCallback=function(Y,le,pe){var Ie=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ie+pe:Ie):pe=Ie,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pe+O,Y={id:E++,callback:le,priorityLevel:Y,startTime:pe,expirationTime:O,sortIndex:-1},pe>Ie?(Y.sortIndex=pe,e(g,Y),t(p)===null&&Y===t(g)&&(B?(Z(N),N=-1):B=!0,me(re,pe-Ie))):(Y.sortIndex=O,e(p,Y),L||M||(L=!0,ce||(ce=!0,j()))),Y},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(Y){var le=A;return function(){var pe=A;A=le;try{return Y.apply(this,arguments)}finally{A=pe}}}}(Fm)),Fm}var EE;function pA(){return EE||(EE=1,Hm.exports=mA()),Hm.exports}var Gm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function gA(){if(TE)return Jt;TE=1;var i=Bp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Jt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.1.1",Jt}var bE;function b0(){if(bE)return Gm.exports;bE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gm.exports=gA(),Gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function yA(){if(wE)return lu;wE=1;var i=pA(),e=Bp(),t=b0();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,l=d;break}if(b===l){T=!0,l=f,a=d;break}b=b.sibling}if(!T){for(b=d.child;b;){if(b===a){T=!0,a=d,l=f;break}if(b===l){T=!0,l=d,a=f;break}b=b.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),X=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function ot(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case U:return"Profiler";case B:return"StrictMode";case re:return"Suspense";case ce:return"SuspenseList";case x:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case X:return(n.displayName||"Context")+".Provider";case Z:return(n._context.displayName||"Context")+".Consumer";case W:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return r=n.displayName||null,r!==null?r:ot(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return ot(n(r))}catch{}}return null}var me=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ie=[],O=-1;function se(n){return{current:n}}function ue(n){0>O||(n.current=Ie[O],Ie[O]=null,O--)}function ae(n,r){O++,Ie[O]=n.current,n.current=r}var _e=se(null),Ne=se(null),Se=se(null),Mt=se(null);function et(n,r){switch(ae(Se,r),ae(Ne,n),ae(_e,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Hv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Hv(r),n=Fv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(_e),ae(_e,n)}function oi(){ue(_e),ue(Ne),ue(Se)}function wr(n){n.memoizedState!==null&&ae(Mt,n);var r=_e.current,a=Fv(r,n.type);r!==a&&(ae(Ne,n),ae(_e,a))}function Bi(n){Ne.current===n&&(ue(_e),ue(Ne)),Mt.current===n&&(ue(Mt),nu._currentValue=pe)}var Ss=Object.prototype.hasOwnProperty,As=i.unstable_scheduleCallback,Rs=i.unstable_cancelCallback,Jo=i.unstable_shouldYield,Qu=i.unstable_requestPaint,Cn=i.unstable_now,zf=i.unstable_getCurrentPriorityLevel,el=i.unstable_ImmediatePriority,xa=i.unstable_UserBlockingPriority,xs=i.unstable_NormalPriority,Bf=i.unstable_LowPriority,Ia=i.unstable_IdlePriority,tl=i.log,Xu=i.unstable_setDisableYieldValue,mt=null,Ke=null;function vn(n){if(typeof tl=="function"&&Xu(n),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(mt,n)}catch{}}var Wt=Math.clz32?Math.clz32:Is,Wu=Math.log,qf=Math.LN2;function Is(n){return n>>>=0,n===0?32:31-(Wu(n)/qf|0)|0}var Cs=256,Ns=4194304;function Qn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ca(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Qn(l):(T&=b,T!==0?f=Qn(T):a||(a=b&~n,a!==0&&(f=Qn(a))))):(b=l&~d,b!==0?f=Qn(b):T!==0?f=Qn(T):a||(a=l&~n,a!==0&&(f=Qn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Ds(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function nl(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function il(){var n=Cs;return Cs<<=1,(Cs&4194048)===0&&(Cs=256),n}function rl(){var n=Ns;return Ns<<=1,(Ns&62914560)===0&&(Ns=4194304),n}function qi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Hi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function sl(n,r,a,l,f,d){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,I=n.expirationTimes,G=n.hiddenUpdates;for(a=T&~a;0<a;){var J=31-Wt(a),ne=1<<J;b[J]=0,I[J]=-1;var K=G[J];if(K!==null)for(G[J]=null,J=0;J<K.length;J++){var $=K[J];$!==null&&($.lane&=-536870913)}a&=~ne}l!==0&&li(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(T&~r))}function li(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Wt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function al(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Wt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function Sr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Na(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ar(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:uE(n.type))}function Zu(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var lt=Math.random().toString(36).slice(2),Ct="__reactFiber$"+lt,bt="__reactProps$"+lt,Nn="__reactContainer$"+lt,ol="__reactEvents$"+lt,Hf="__reactListeners$"+lt,Rr="__reactHandles$"+lt,Ju="__reactResources$"+lt,Os="__reactMarker$"+lt;function xr(n){delete n[Ct],delete n[bt],delete n[ol],delete n[Hf],delete n[Rr]}function Fi(n){var r=n[Ct];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Nn]||a[Ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Yv(n);n!==null;){if(a=n[Ct])return a;n=Yv(n)}return r}n=a,a=n.parentNode}return null}function ui(n){if(n=n[Ct]||n[Nn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ci(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function sn(n){var r=n[Ju];return r||(r=n[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function yt(n){n[Os]=!0}var ll=new Set,Da={};function Xn(n,r){Gi(n,r),Gi(n+"Capture",r)}function Gi(n,r){for(Da[n]=r,n=0;n<r.length;n++)ll.add(r[n])}var ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tc={},ks={};function nc(n){return Ss.call(ks,n)?!0:Ss.call(tc,n)?!1:ec.test(n)?ks[n]=!0:(tc[n]=!0,!1)}function Ir(n,r,a){if(nc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function hi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function qt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Ps,ic;function Ki(n){if(Ps===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ps=r&&r[1]||"",ic=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ps+n+ic}var Oa=!1;function ka(n,r){if(!n||Oa)return"";Oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch($){var K=$}Reflect.construct(n,[],ne)}else{try{ne.call()}catch($){K=$}n.call(ne.prototype)}}else{try{throw Error()}catch($){K=$}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],b=d[1];if(T&&b){var I=T.split(`
`),G=b.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===G.length)for(l=I.length-1,f=G.length-1;1<=l&&0<=f&&I[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==G[f]){var J=`
`+I[l].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=l&&0<=f);break}}}finally{Oa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ki(a):""}function ul(n){switch(n.tag){case 26:case 27:case 5:return Ki(n.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 15:return ka(n.type,!1);case 11:return ka(n.type.render,!1);case 1:return ka(n.type,!0);case 31:return Ki("Activity");default:return""}}function Pa(n){try{var r="";do r+=ul(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function cl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ff(n){var r=cl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ma(n){n._valueTracker||(n._valueTracker=Ff(n))}function hl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=cl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ms(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Gf=/[\n"\\]/g;function wt(n){return n.replace(Gf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function En(n,r,a,l,f,d,T,b){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+an(r)):n.value!==""+an(r)&&(n.value=""+an(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?Cr(n,T,an(r)):a!=null?Cr(n,T,an(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+an(b):n.removeAttribute("name")}function Vs(n,r,a,l,f,d,T,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Cr(n,r,a){r==="number"&&Ms(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function $i(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Qe(n,r,a){if(r!=null&&(r=""+an(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+an(a):""}function Us(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=an(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Dn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Ls.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function fl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&rc(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&rc(n,d,r[d])}function dl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$f=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(n){return $f.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Yi=null;function On(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qi=null,Xi=null;function ml(n){var r=ui(n);if(r&&(n=r.stateNode)){var a=n[bt]||null;e:switch(n=r.stateNode,r.type){case"input":if(En(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[bt]||null;if(!f)throw Error(s(90));En(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&hl(l)}break e;case"textarea":Qe(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&$i(n,!!a.multiple,r,!1)}}}var fi=!1;function sc(n,r,a){if(fi)return n(r,a);fi=!0;try{var l=n(r);return l}finally{if(fi=!1,(Qi!==null||Xi!==null)&&(Zc(),Qi&&(r=Qi,n=Xi,Xi=Qi=null,ml(r),n)))for(r=0;r<n.length;r++)ml(n[r])}}function js(n,r){var a=n.stateNode;if(a===null)return null;var l=a[bt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if(Wn)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){kn=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{kn=!1}var di=null,Nr=null,Wi=null;function pl(){if(Wi)return Wi;var n,r=Nr,a=r.length,l,f="value"in di?di.value:di.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var T=a-n;for(l=1;l<=T&&r[a-l]===f[d-l];l++);return Wi=f.slice(n,1<l?1-l:void 0)}function mi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function pi(){return!0}function gl(){return!1}function Vt(n){function r(a,l,f,d,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pi:gl,this.isPropagationStopped=gl,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Vt(He),Bs=E({},He,{view:0,detail:0}),ac=Vt(Bs),La,ja,gi,qs=E({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gi&&(gi&&n.type==="mousemove"?(La=n.screenX-gi.screenX,ja=n.screenY-gi.screenY):ja=La=0,gi=n),La)},movementY:function(n){return"movementY"in n?n.movementY:ja}}),Pn=Vt(qs),oc=E({},qs,{dataTransfer:0}),Yf=Vt(oc),Hs=E({},Bs,{relatedTarget:0}),za=Vt(Hs),yl=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ba=Vt(yl),lc=E({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qa=Vt(lc),Qf=E({},He,{data:0}),_l=Vt(Qf),Fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=cc[n])?!!r[n]:!1}function Gs(){return vl}var hc=E({},Bs,{key:function(n){if(n.key){var r=Fs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=mi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?uc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(n){return n.type==="keypress"?mi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ha=Vt(hc),fc=E({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),El=Vt(fc),Zi=E({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),dc=Vt(Zi),mc=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),pc=Vt(mc),gc=E({},qs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Fa=Vt(gc),on=E({},He,{newState:0,oldState:0}),yc=Vt(on),_c=[9,13,27,32],yi=Wn&&"CompositionEvent"in window,c=null;Wn&&"documentMode"in document&&(c=document.documentMode);var y=Wn&&"TextEvent"in window&&!c,_=Wn&&(!yi||c&&8<c&&11>=c),S=" ",H=!1;function Q(n,r){switch(n){case"keyup":return _c.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ue=!1;function Nt(n,r){switch(n){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(H=!0,S);case"textInput":return n=r.data,n===S&&H?null:n;default:return null}}function Le(n,r){if(Ue)return n==="compositionend"||!yi&&Q(n,r)?(n=pl(),Wi=Nr=di=null,Ue=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ut[n.type]:r==="textarea"}function Ji(n,r,a,l){Qi?Xi?Xi.push(l):Xi=[l]:Qi=l,r=rh(r,"onChange"),0<r.length&&(a=new Ua("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Ht=null,_i=null;function Tl(n){Lv(n,0)}function vc(n){var r=ci(n);if(hl(r))return n}function sy(n,r){if(n==="change")return r}var ay=!1;if(Wn){var Xf;if(Wn){var Wf="oninput"in document;if(!Wf){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),Wf=typeof oy.oninput=="function"}Xf=Wf}else Xf=!1;ay=Xf&&(!document.documentMode||9<document.documentMode)}function ly(){Ht&&(Ht.detachEvent("onpropertychange",uy),_i=Ht=null)}function uy(n){if(n.propertyName==="value"&&vc(_i)){var r=[];Ji(r,_i,n,On(n)),sc(Tl,r)}}function B1(n,r,a){n==="focusin"?(ly(),Ht=r,_i=a,Ht.attachEvent("onpropertychange",uy)):n==="focusout"&&ly()}function q1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return vc(_i)}function H1(n,r){if(n==="click")return vc(r)}function F1(n,r){if(n==="input"||n==="change")return vc(r)}function G1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Tn=typeof Object.is=="function"?Object.is:G1;function bl(n,r){if(Tn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ss.call(r,f)||!Tn(n[f],r[f]))return!1}return!0}function cy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hy(n,r){var a=cy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cy(a)}}function fy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?fy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function dy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ms(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ms(n.document)}return r}function Zf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var K1=Wn&&"documentMode"in document&&11>=document.documentMode,Ga=null,Jf=null,wl=null,ed=!1;function my(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ed||Ga==null||Ga!==Ms(l)||(l=Ga,"selectionStart"in l&&Zf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wl&&bl(wl,l)||(wl=l,l=rh(Jf,"onSelect"),0<l.length&&(r=new Ua("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ga)))}function Ks(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ka={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},td={},py={};Wn&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function $s(n){if(td[n])return td[n];if(!Ka[n])return n;var r=Ka[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in py)return td[n]=r[a];return n}var gy=$s("animationend"),yy=$s("animationiteration"),_y=$s("animationstart"),$1=$s("transitionrun"),Y1=$s("transitionstart"),Q1=$s("transitioncancel"),vy=$s("transitionend"),Ey=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function Zn(n,r){Ey.set(n,r),Xn(r,[n])}var Ty=new WeakMap;function Mn(n,r){if(typeof n=="object"&&n!==null){var a=Ty.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Pa(r)},Ty.set(n,r),r)}return{value:n,source:r,stack:Pa(r)}}var Vn=[],$a=0,id=0;function Ec(){for(var n=$a,r=id=$a=0;r<n;){var a=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var f=Vn[r];Vn[r++]=null;var d=Vn[r];if(Vn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}d!==0&&by(a,f,d)}}function Tc(n,r,a,l){Vn[$a++]=n,Vn[$a++]=r,Vn[$a++]=a,Vn[$a++]=l,id|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function rd(n,r,a,l){return Tc(n,r,a,l),bc(n)}function Ya(n,r){return Tc(n,null,null,r),bc(n)}function by(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-Wt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function bc(n){if(50<Yl)throw Yl=0,cm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Qa={};function X1(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(n,r,a,l){return new X1(n,r,a,l)}function sd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function er(n,r){var a=n.alternate;return a===null?(a=bn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function wy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function wc(n,r,a,l,f,d){var T=0;if(l=n,typeof n=="function")sd(n)&&(T=1);else if(typeof n=="string")T=ZS(n,a,_e.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case x:return n=bn(31,a,r,f),n.elementType=x,n.lanes=d,n;case L:return Ys(a.children,f,d,r);case B:T=8,f|=24;break;case U:return n=bn(12,a,r,f|2),n.elementType=U,n.lanes=d,n;case re:return n=bn(13,a,r,f),n.elementType=re,n.lanes=d,n;case ce:return n=bn(19,a,r,f),n.elementType=ce,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:case X:T=10;break e;case Z:T=9;break e;case W:T=11;break e;case N:T=14;break e;case R:T=16,l=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=bn(T,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Ys(n,r,a,l){return n=bn(7,n,l,r),n.lanes=a,n}function ad(n,r,a){return n=bn(6,n,null,r),n.lanes=a,n}function od(n,r,a){return r=bn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Xa=[],Wa=0,Sc=null,Ac=0,Un=[],Ln=0,Qs=null,tr=1,nr="";function Xs(n,r){Xa[Wa++]=Ac,Xa[Wa++]=Sc,Sc=n,Ac=r}function Sy(n,r,a){Un[Ln++]=tr,Un[Ln++]=nr,Un[Ln++]=Qs,Qs=n;var l=tr;n=nr;var f=32-Wt(l)-1;l&=~(1<<f),a+=1;var d=32-Wt(r)+f;if(30<d){var T=f-f%5;d=(l&(1<<T)-1).toString(32),l>>=T,f-=T,tr=1<<32-Wt(r)+f|a<<f|l,nr=d+n}else tr=1<<d|a<<f|l,nr=n}function ld(n){n.return!==null&&(Xs(n,1),Sy(n,1,0))}function ud(n){for(;n===Sc;)Sc=Xa[--Wa],Xa[Wa]=null,Ac=Xa[--Wa],Xa[Wa]=null;for(;n===Qs;)Qs=Un[--Ln],Un[Ln]=null,nr=Un[--Ln],Un[Ln]=null,tr=Un[--Ln],Un[Ln]=null}var ln=null,pt=null,qe=!1,Ws=null,vi=!1,cd=Error(s(519));function Zs(n){var r=Error(s(418,""));throw Rl(Mn(r,n)),cd}function Ay(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Ct]=n,r[bt]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<Xl.length;a++)ke(Xl[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Vs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ma(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Us(r,l.value,l.defaultValue,l.children),Ma(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||qv(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=sh),r=!0):r=!1,r||Zs(n)}function Ry(n){for(ln=n.return;ln;)switch(ln.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:ln=ln.return}}function Sl(n){if(n!==ln)return!1;if(!qe)return Ry(n),qe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Rm(n.type,n.memoizedProps)),a=!a),a&&pt&&Zs(n),Ry(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){pt=ei(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}pt=null}}else r===27?(r=pt,Kr(n.type)?(n=Nm,Nm=null,pt=n):pt=r):pt=ln?ei(n.stateNode.nextSibling):null;return!0}function Al(){pt=ln=null,qe=!1}function xy(){var n=Ws;return n!==null&&(mn===null?mn=n:mn.push.apply(mn,n),Ws=null),n}function Rl(n){Ws===null?Ws=[n]:Ws.push(n)}var hd=se(null),Js=null,ir=null;function Dr(n,r,a){ae(hd,r._currentValue),r._currentValue=a}function rr(n){n._currentValue=hd.current,ue(hd)}function fd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function dd(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var T=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var I=0;I<r.length;I++)if(b.context===r[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),fd(d.return,a,n),l||(T=null);break e}d=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,d=T.alternate,d!==null&&(d.lanes|=a),fd(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function xl(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=f.type;Tn(f.pendingProps.value,T.value)||(n!==null?n.push(b):n=[b])}}else if(f===Mt.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(nu):n=[nu])}f=f.return}n!==null&&dd(r,n,a,l),r.flags|=262144}function Rc(n){for(n=n.firstContext;n!==null;){if(!Tn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ea(n){Js=n,ir=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Zt(n){return Iy(Js,n)}function xc(n,r){return Js===null&&ea(n),Iy(n,r)}function Iy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ir===null){if(n===null)throw Error(s(308));ir=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ir=ir.next=r;return a}var W1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Z1=i.unstable_scheduleCallback,J1=i.unstable_NormalPriority,Ot={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new W1,data:new Map,refCount:0}}function Il(n){n.refCount--,n.refCount===0&&Z1(J1,function(){n.controller.abort()})}var Cl=null,pd=0,Za=0,Ja=null;function eS(n,r){if(Cl===null){var a=Cl=[];pd=0,Za=ym(),Ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pd++,r.then(Cy,Cy),r}function Cy(){if(--pd===0&&Cl!==null){Ja!==null&&(Ja.status="fulfilled");var n=Cl;Cl=null,Za=0,Ja=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function tS(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ny=Y.S;Y.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&eS(n,r),Ny!==null&&Ny(n,r)};var ta=se(null);function gd(){var n=ta.current;return n!==null?n:tt.pooledCache}function Ic(n,r){r===null?ae(ta,ta.current):ae(ta,r.pool)}function Dy(){var n=gd();return n===null?null:{parent:Ot._currentValue,pool:n}}var Nl=Error(s(460)),Oy=Error(s(474)),Cc=Error(s(542)),yd={then:function(){}};function ky(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Nc(){}function Py(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Nc,Nc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Vy(n),n;default:if(typeof r.status=="string")r.then(Nc,Nc);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Vy(n),n}throw Dl=r,Nl}}var Dl=null;function My(){if(Dl===null)throw Error(s(459));var n=Dl;return Dl=null,n}function Vy(n){if(n===Nl||n===Cc)throw Error(s(483))}var Or=!1;function _d(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function kr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Pr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=bc(n),by(n,null,a),r}return Tc(n,l,r,a),bc(n)}function Ol(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,al(n,a)}}function Ed(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=T:d=d.next=T,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Td=!1;function kl(){if(Td){var n=Ja;if(n!==null)throw n}}function Pl(n,r,a,l){Td=!1;var f=n.updateQueue;Or=!1;var d=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var I=b,G=I.next;I.next=null,T===null?d=G:T.next=G,T=I;var J=n.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==T&&(b===null?J.firstBaseUpdate=G:b.next=G,J.lastBaseUpdate=I))}if(d!==null){var ne=f.baseState;T=0,J=G=I=null,b=d;do{var K=b.lane&-536870913,$=K!==b.lane;if($?(je&K)===K:(l&K)===K){K!==0&&K===Za&&(Td=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var we=n,ve=b;K=r;var Ze=a;switch(ve.tag){case 1:if(we=ve.payload,typeof we=="function"){ne=we.call(Ze,ne,K);break e}ne=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,K=typeof we=="function"?we.call(Ze,ne,K):we,K==null)break e;ne=E({},ne,K);break e;case 2:Or=!0}}K=b.callback,K!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[K]:$.push(K))}else $={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(G=J=$,I=ne):J=J.next=$,T|=K;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;$=b,b=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);J===null&&(I=ne),f.baseState=I,f.firstBaseUpdate=G,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),qr|=T,n.lanes=T,n.memoizedState=ne}}function Uy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Ly(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Uy(a[n],r)}var eo=se(null),Dc=se(0);function jy(n,r){n=hr,ae(Dc,n),ae(eo,r),hr=n|r.baseLanes}function bd(){ae(Dc,hr),ae(eo,eo.current)}function wd(){hr=Dc.current,ue(eo),ue(Dc)}var Mr=0,Ce=null,Xe=null,St=null,Oc=!1,to=!1,na=!1,kc=0,Ml=0,no=null,nS=0;function _t(){throw Error(s(321))}function Sd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Tn(n[a],r[a]))return!1;return!0}function Ad(n,r,a,l,f,d){return Mr=d,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=n===null||n.memoizedState===null?b_:w_,na=!1,d=a(l,f),na=!1,to&&(d=By(r,a,l,f)),zy(n),d}function zy(n){Y.H=jc;var r=Xe!==null&&Xe.next!==null;if(Mr=0,St=Xe=Ce=null,Oc=!1,Ml=0,no=null,r)throw Error(s(300));n===null||Lt||(n=n.dependencies,n!==null&&Rc(n)&&(Lt=!0))}function By(n,r,a,l){Ce=n;var f=0;do{if(to&&(no=null),Ml=0,to=!1,25<=f)throw Error(s(301));if(f+=1,St=Xe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=uS,d=r(a,l)}while(to);return d}function iS(){var n=Y.H,r=n.useState()[0];return r=typeof r.then=="function"?Vl(r):r,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ce.flags|=1024),r}function Rd(){var n=kc!==0;return kc=0,n}function xd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Id(n){if(Oc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Oc=!1}Mr=0,St=Xe=Ce=null,to=!1,Ml=kc=0,no=null}function fn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ce.memoizedState=St=n:St=St.next=n,St}function At(){if(Xe===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var r=St===null?Ce.memoizedState:St.next;if(r!==null)St=r,Xe=n;else{if(n===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},St===null?Ce.memoizedState=St=n:St=St.next=n}return St}function Cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(n){var r=Ml;return Ml+=1,no===null&&(no=[]),n=Py(no,n,r),r=Ce,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?b_:w_),n}function Pc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Vl(n);if(n.$$typeof===X)return Zt(n)}throw Error(s(438,String(n)))}function Nd(n){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Cd(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=k;return r.index++,a}function sr(n,r){return typeof r=="function"?r(n):r}function Mc(n){var r=At();return Dd(r,Xe,n)}function Dd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var T=f.next;f.next=d.next,d.next=T}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var b=T=null,I=null,G=r,J=!1;do{var ne=G.lane&-536870913;if(ne!==G.lane?(je&ne)===ne:(Mr&ne)===ne){var K=G.revertLane;if(K===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ne===Za&&(J=!0);else if((Mr&K)===K){G=G.next,K===Za&&(J=!0);continue}else ne={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(b=I=ne,T=d):I=I.next=ne,Ce.lanes|=K,qr|=K;ne=G.action,na&&a(d,ne),d=G.hasEagerState?G.eagerState:a(d,ne)}else K={lane:ne,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(b=I=K,T=d):I=I.next=K,Ce.lanes|=ne,qr|=ne;G=G.next}while(G!==null&&G!==r);if(I===null?T=d:I.next=b,!Tn(d,n.memoizedState)&&(Lt=!0,J&&(a=Ja,a!==null)))throw a;n.memoizedState=d,n.baseState=T,n.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Od(n){var r=At(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do d=n(d,T.action),T=T.next;while(T!==f);Tn(d,r.memoizedState)||(Lt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function qy(n,r,a){var l=Ce,f=At(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!Tn((Xe||f).memoizedState,a);T&&(f.memoizedState=a,Lt=!0),f=f.queue;var b=Gy.bind(null,l,f,n);if(Ul(2048,8,b,[n]),f.getSnapshot!==r||T||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,io(9,Vc(),Fy.bind(null,l,f,a,r),null),tt===null)throw Error(s(349));d||(Mr&124)!==0||Hy(l,r,a)}return a}function Hy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=Cd(),Ce.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Fy(n,r,a,l){r.value=a,r.getSnapshot=l,Ky(r)&&$y(n)}function Gy(n,r,a){return a(function(){Ky(r)&&$y(n)})}function Ky(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Tn(n,a)}catch{return!0}}function $y(n){var r=Ya(n,2);r!==null&&xn(r,n,2)}function kd(n){var r=fn();if(typeof n=="function"){var a=n;if(n=a(),na){vn(!0);try{a()}finally{vn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:n},r}function Yy(n,r,a,l){return n.baseState=a,Dd(n,Xe,typeof l=="function"?l:sr)}function rS(n,r,a,l,f){if(Lc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Qy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Qy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=Y.T,T={};Y.T=T;try{var b=a(f,l),I=Y.S;I!==null&&I(T,b),Xy(n,r,b)}catch(G){Pd(n,r,G)}finally{Y.T=d}}else try{d=a(f,l),Xy(n,r,d)}catch(G){Pd(n,r,G)}}function Xy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wy(n,r,l)},function(l){return Pd(n,r,l)}):Wy(n,r,a)}function Wy(n,r,a){r.status="fulfilled",r.value=a,Zy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Qy(n,a)))}function Pd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Zy(r),r=r.next;while(r!==l)}n.action=null}function Zy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Jy(n,r){return r}function e_(n,r){if(qe){var a=tt.formState;if(a!==null){e:{var l=Ce;if(qe){if(pt){t:{for(var f=pt,d=vi;f.nodeType!==8;){if(!d){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){pt=ei(f.nextSibling),l=f.data==="F!";break e}}Zs(l)}l=!1}l&&(r=a[0])}}return a=fn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jy,lastRenderedState:r},a.queue=l,a=v_.bind(null,Ce,l),l.dispatch=a,l=kd(!1),d=jd.bind(null,Ce,!1,l.queue),l=fn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=rS.bind(null,Ce,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function t_(n){var r=At();return n_(r,Xe,n)}function n_(n,r,a){if(r=Dd(n,r,Jy)[0],n=Mc(sr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Vl(r)}catch(T){throw T===Nl?Cc:T}else l=r;r=At();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ce.flags|=2048,io(9,Vc(),sS.bind(null,f,a),null)),[l,d,n]}function sS(n,r){n.action=r}function i_(n){var r=At(),a=Xe;if(a!==null)return n_(r,a,n);At(),r=r.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function io(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=Cd(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Vc(){return{destroy:void 0,resource:void 0}}function r_(){return At().memoizedState}function Uc(n,r,a,l){var f=fn();l=l===void 0?null:l,Ce.flags|=n,f.memoizedState=io(1|r,Vc(),a,l)}function Ul(n,r,a,l){var f=At();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&Sd(l,Xe.memoizedState.deps)?f.memoizedState=io(r,d,a,l):(Ce.flags|=n,f.memoizedState=io(1|r,d,a,l))}function s_(n,r){Uc(8390656,8,n,r)}function a_(n,r){Ul(2048,8,n,r)}function o_(n,r){return Ul(4,2,n,r)}function l_(n,r){return Ul(4,4,n,r)}function u_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function c_(n,r,a){a=a!=null?a.concat([n]):null,Ul(4,4,u_.bind(null,r,n),a)}function Md(){}function h_(n,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Sd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function f_(n,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Sd(r,l[1]))return l[0];if(l=n(),na){vn(!0);try{n()}finally{vn(!1)}}return a.memoizedState=[l,r],l}function Vd(n,r,a){return a===void 0||(Mr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=pv(),Ce.lanes|=n,qr|=n,a)}function d_(n,r,a,l){return Tn(a,r)?a:eo.current!==null?(n=Vd(n,a,l),Tn(n,r)||(Lt=!0),n):(Mr&42)===0?(Lt=!0,n.memoizedState=a):(n=pv(),Ce.lanes|=n,qr|=n,r)}function m_(n,r,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var T=Y.T,b={};Y.T=b,jd(n,!1,r,a);try{var I=f(),G=Y.S;if(G!==null&&G(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=tS(I,l);Ll(n,r,J,Rn(n))}else Ll(n,r,l,Rn(n))}catch(ne){Ll(n,r,{then:function(){},status:"rejected",reason:ne},Rn())}finally{le.p=d,Y.T=T}}function aS(){}function Ud(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=p_(n).queue;m_(n,f,r,pe,a===null?aS:function(){return g_(n),a(l)})}function p_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function g_(n){var r=p_(n).next.queue;Ll(n,r,{},Rn())}function Ld(){return Zt(nu)}function y_(){return At().memoizedState}function __(){return At().memoizedState}function oS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Rn();n=kr(a);var l=Pr(r,n,a);l!==null&&(xn(l,r,a),Ol(l,r,a)),r={cache:md()},n.payload=r;return}r=r.return}}function lS(n,r,a){var l=Rn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lc(n)?E_(r,a):(a=rd(n,r,a,l),a!==null&&(xn(a,n,l),T_(a,r,l)))}function v_(n,r,a){var l=Rn();Ll(n,r,a,l)}function Ll(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lc(n))E_(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var T=r.lastRenderedState,b=d(T,a);if(f.hasEagerState=!0,f.eagerState=b,Tn(b,T))return Tc(n,r,f,0),tt===null&&Ec(),!1}catch{}finally{}if(a=rd(n,r,f,l),a!==null)return xn(a,n,l),T_(a,r,l),!0}return!1}function jd(n,r,a,l){if(l={lane:2,revertLane:ym(),action:l,hasEagerState:!1,eagerState:null,next:null},Lc(n)){if(r)throw Error(s(479))}else r=rd(n,a,l,2),r!==null&&xn(r,n,2)}function Lc(n){var r=n.alternate;return n===Ce||r!==null&&r===Ce}function E_(n,r){to=Oc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function T_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,al(n,a)}}var jc={readContext:Zt,use:Pc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},b_={readContext:Zt,use:Pc,useCallback:function(n,r){return fn().memoizedState=[n,r===void 0?null:r],n},useContext:Zt,useEffect:s_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Uc(4194308,4,u_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Uc(4194308,4,n,r)},useInsertionEffect:function(n,r){Uc(4,2,n,r)},useMemo:function(n,r){var a=fn();r=r===void 0?null:r;var l=n();if(na){vn(!0);try{n()}finally{vn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=fn();if(a!==void 0){var f=a(r);if(na){vn(!0);try{a(r)}finally{vn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=lS.bind(null,Ce,n),[l.memoizedState,n]},useRef:function(n){var r=fn();return n={current:n},r.memoizedState=n},useState:function(n){n=kd(n);var r=n.queue,a=v_.bind(null,Ce,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Md,useDeferredValue:function(n,r){var a=fn();return Vd(a,n,r)},useTransition:function(){var n=kd(!1);return n=m_.bind(null,Ce,n.queue,!0,!1),fn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ce,f=fn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(je&124)!==0||Hy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,s_(Gy.bind(null,l,d,n),[n]),l.flags|=2048,io(9,Vc(),Fy.bind(null,l,d,a,r),null),a},useId:function(){var n=fn(),r=tt.identifierPrefix;if(qe){var a=nr,l=tr;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=kc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=nS++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Ld,useFormState:e_,useActionState:e_,useOptimistic:function(n){var r=fn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=jd.bind(null,Ce,!0,a),a.dispatch=r,[n,r]},useMemoCache:Nd,useCacheRefresh:function(){return fn().memoizedState=oS.bind(null,Ce)}},w_={readContext:Zt,use:Pc,useCallback:h_,useContext:Zt,useEffect:a_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Mc,useRef:r_,useState:function(){return Mc(sr)},useDebugValue:Md,useDeferredValue:function(n,r){var a=At();return d_(a,Xe.memoizedState,n,r)},useTransition:function(){var n=Mc(sr)[0],r=At().memoizedState;return[typeof n=="boolean"?n:Vl(n),r]},useSyncExternalStore:qy,useId:y_,useHostTransitionStatus:Ld,useFormState:t_,useActionState:t_,useOptimistic:function(n,r){var a=At();return Yy(a,Xe,n,r)},useMemoCache:Nd,useCacheRefresh:__},uS={readContext:Zt,use:Pc,useCallback:h_,useContext:Zt,useEffect:a_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Od,useRef:r_,useState:function(){return Od(sr)},useDebugValue:Md,useDeferredValue:function(n,r){var a=At();return Xe===null?Vd(a,n,r):d_(a,Xe.memoizedState,n,r)},useTransition:function(){var n=Od(sr)[0],r=At().memoizedState;return[typeof n=="boolean"?n:Vl(n),r]},useSyncExternalStore:qy,useId:y_,useHostTransitionStatus:Ld,useFormState:i_,useActionState:i_,useOptimistic:function(n,r){var a=At();return Xe!==null?Yy(a,Xe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:__},ro=null,jl=0;function zc(n){var r=jl;return jl+=1,ro===null&&(ro=[]),Py(ro,n,r)}function zl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Bc(n,r){throw r.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function S_(n){var r=n._init;return r(n._payload)}function A_(n){function r(z,P){if(n){var F=z.deletions;F===null?(z.deletions=[P],z.flags|=16):F.push(P)}}function a(z,P){if(!n)return null;for(;P!==null;)r(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=er(z,P),z.index=0,z.sibling=null,z}function d(z,P,F){return z.index=F,n?(F=z.alternate,F!==null?(F=F.index,F<P?(z.flags|=67108866,P):F):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function T(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function b(z,P,F,ee){return P===null||P.tag!==6?(P=ad(F,z.mode,ee),P.return=z,P):(P=f(P,F),P.return=z,P)}function I(z,P,F,ee){var de=F.type;return de===L?J(z,P,F.props.children,ee,F.key):P!==null&&(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&S_(de)===P.type)?(P=f(P,F.props),zl(P,F),P.return=z,P):(P=wc(F.type,F.key,F.props,null,z.mode,ee),zl(P,F),P.return=z,P)}function G(z,P,F,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=od(F,z.mode,ee),P.return=z,P):(P=f(P,F.children||[]),P.return=z,P)}function J(z,P,F,ee,de){return P===null||P.tag!==7?(P=Ys(F,z.mode,ee,de),P.return=z,P):(P=f(P,F),P.return=z,P)}function ne(z,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=ad(""+P,z.mode,F),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return F=wc(P.type,P.key,P.props,null,z.mode,F),zl(F,P),F.return=z,F;case M:return P=od(P,z.mode,F),P.return=z,P;case R:var ee=P._init;return P=ee(P._payload),ne(z,P,F)}if(me(P)||j(P))return P=Ys(P,z.mode,F,null),P.return=z,P;if(typeof P.then=="function")return ne(z,zc(P),F);if(P.$$typeof===X)return ne(z,xc(z,P),F);Bc(z,P)}return null}function K(z,P,F,ee){var de=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return de!==null?null:b(z,P,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return F.key===de?I(z,P,F,ee):null;case M:return F.key===de?G(z,P,F,ee):null;case R:return de=F._init,F=de(F._payload),K(z,P,F,ee)}if(me(F)||j(F))return de!==null?null:J(z,P,F,ee,null);if(typeof F.then=="function")return K(z,P,zc(F),ee);if(F.$$typeof===X)return K(z,P,xc(z,F),ee);Bc(z,F)}return null}function $(z,P,F,ee,de){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(F)||null,b(P,z,""+ee,de);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case A:return z=z.get(ee.key===null?F:ee.key)||null,I(P,z,ee,de);case M:return z=z.get(ee.key===null?F:ee.key)||null,G(P,z,ee,de);case R:var De=ee._init;return ee=De(ee._payload),$(z,P,F,ee,de)}if(me(ee)||j(ee))return z=z.get(F)||null,J(P,z,ee,de,null);if(typeof ee.then=="function")return $(z,P,F,zc(ee),de);if(ee.$$typeof===X)return $(z,P,F,xc(P,ee),de);Bc(P,ee)}return null}function we(z,P,F,ee){for(var de=null,De=null,ge=P,Ee=P=0,zt=null;ge!==null&&Ee<F.length;Ee++){ge.index>Ee?(zt=ge,ge=null):zt=ge.sibling;var Be=K(z,ge,F[Ee],ee);if(Be===null){ge===null&&(ge=zt);break}n&&ge&&Be.alternate===null&&r(z,ge),P=d(Be,P,Ee),De===null?de=Be:De.sibling=Be,De=Be,ge=zt}if(Ee===F.length)return a(z,ge),qe&&Xs(z,Ee),de;if(ge===null){for(;Ee<F.length;Ee++)ge=ne(z,F[Ee],ee),ge!==null&&(P=d(ge,P,Ee),De===null?de=ge:De.sibling=ge,De=ge);return qe&&Xs(z,Ee),de}for(ge=l(ge);Ee<F.length;Ee++)zt=$(ge,z,Ee,F[Ee],ee),zt!==null&&(n&&zt.alternate!==null&&ge.delete(zt.key===null?Ee:zt.key),P=d(zt,P,Ee),De===null?de=zt:De.sibling=zt,De=zt);return n&&ge.forEach(function(Wr){return r(z,Wr)}),qe&&Xs(z,Ee),de}function ve(z,P,F,ee){if(F==null)throw Error(s(151));for(var de=null,De=null,ge=P,Ee=P=0,zt=null,Be=F.next();ge!==null&&!Be.done;Ee++,Be=F.next()){ge.index>Ee?(zt=ge,ge=null):zt=ge.sibling;var Wr=K(z,ge,Be.value,ee);if(Wr===null){ge===null&&(ge=zt);break}n&&ge&&Wr.alternate===null&&r(z,ge),P=d(Wr,P,Ee),De===null?de=Wr:De.sibling=Wr,De=Wr,ge=zt}if(Be.done)return a(z,ge),qe&&Xs(z,Ee),de;if(ge===null){for(;!Be.done;Ee++,Be=F.next())Be=ne(z,Be.value,ee),Be!==null&&(P=d(Be,P,Ee),De===null?de=Be:De.sibling=Be,De=Be);return qe&&Xs(z,Ee),de}for(ge=l(ge);!Be.done;Ee++,Be=F.next())Be=$(ge,z,Ee,Be.value,ee),Be!==null&&(n&&Be.alternate!==null&&ge.delete(Be.key===null?Ee:Be.key),P=d(Be,P,Ee),De===null?de=Be:De.sibling=Be,De=Be);return n&&ge.forEach(function(cA){return r(z,cA)}),qe&&Xs(z,Ee),de}function Ze(z,P,F,ee){if(typeof F=="object"&&F!==null&&F.type===L&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case A:e:{for(var de=F.key;P!==null;){if(P.key===de){if(de=F.type,de===L){if(P.tag===7){a(z,P.sibling),ee=f(P,F.props.children),ee.return=z,z=ee;break e}}else if(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&S_(de)===P.type){a(z,P.sibling),ee=f(P,F.props),zl(ee,F),ee.return=z,z=ee;break e}a(z,P);break}else r(z,P);P=P.sibling}F.type===L?(ee=Ys(F.props.children,z.mode,ee,F.key),ee.return=z,z=ee):(ee=wc(F.type,F.key,F.props,null,z.mode,ee),zl(ee,F),ee.return=z,z=ee)}return T(z);case M:e:{for(de=F.key;P!==null;){if(P.key===de)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){a(z,P.sibling),ee=f(P,F.children||[]),ee.return=z,z=ee;break e}else{a(z,P);break}else r(z,P);P=P.sibling}ee=od(F,z.mode,ee),ee.return=z,z=ee}return T(z);case R:return de=F._init,F=de(F._payload),Ze(z,P,F,ee)}if(me(F))return we(z,P,F,ee);if(j(F)){if(de=j(F),typeof de!="function")throw Error(s(150));return F=de.call(F),ve(z,P,F,ee)}if(typeof F.then=="function")return Ze(z,P,zc(F),ee);if(F.$$typeof===X)return Ze(z,P,xc(z,F),ee);Bc(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(a(z,P.sibling),ee=f(P,F),ee.return=z,z=ee):(a(z,P),ee=ad(F,z.mode,ee),ee.return=z,z=ee),T(z)):a(z,P)}return function(z,P,F,ee){try{jl=0;var de=Ze(z,P,F,ee);return ro=null,de}catch(ge){if(ge===Nl||ge===Cc)throw ge;var De=bn(29,ge,null,z.mode);return De.lanes=ee,De.return=z,De}finally{}}}var so=A_(!0),R_=A_(!1),jn=se(null),Ei=null;function Vr(n){var r=n.alternate;ae(kt,kt.current&1),ae(jn,n),Ei===null&&(r===null||eo.current!==null||r.memoizedState!==null)&&(Ei=n)}function x_(n){if(n.tag===22){if(ae(kt,kt.current),ae(jn,n),Ei===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ei=n)}}else Ur()}function Ur(){ae(kt,kt.current),ae(jn,jn.current)}function ar(n){ue(jn),Ei===n&&(Ei=null),ue(kt)}var kt=se(0);function qc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Cm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function zd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Bd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Rn(),f=kr(l);f.payload=r,a!=null&&(f.callback=a),r=Pr(n,f,l),r!==null&&(xn(r,n,l),Ol(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Rn(),f=kr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Pr(n,f,l),r!==null&&(xn(r,n,l),Ol(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Rn(),l=kr(a);l.tag=2,r!=null&&(l.callback=r),r=Pr(n,l,a),r!==null&&(xn(r,n,a),Ol(r,n,a))}};function I_(n,r,a,l,f,d,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,T):r.prototype&&r.prototype.isPureReactComponent?!bl(a,l)||!bl(f,d):!0}function C_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Bd.enqueueReplaceState(r,r.state,null)}function ia(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Hc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function N_(n){Hc(n)}function D_(n){console.error(n)}function O_(n){Hc(n)}function Fc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function k_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qd(n,r,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Fc(n,r)},a}function P_(n){return n=kr(n),n.tag=3,n}function M_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){k_(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){k_(r,a,l),typeof f!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function cS(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&xl(r,a,f,!0),a=jn.current,a!==null){switch(a.tag){case 13:return Ei===null?fm():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===yd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),mm(n,l,f)),!1;case 22:return a.flags|=65536,l===yd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),mm(n,l,f)),!1}throw Error(s(435,a.tag))}return mm(n,l,f),fm(),!1}if(qe)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==cd&&(n=Error(s(422),{cause:l}),Rl(Mn(n,a)))):(l!==cd&&(r=Error(s(423),{cause:l}),Rl(Mn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Mn(l,a),f=qd(n.stateNode,l,f),Ed(n,f),gt!==4&&(gt=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),$l===null?$l=[d]:$l.push(d),gt!==4&&(gt=2),r===null)return!0;l=Mn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=qd(a.stateNode,l,n),Ed(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=P_(f),M_(f,n,a,l),Ed(a,f),!1}a=a.return}while(a!==null);return!1}var V_=Error(s(461)),Lt=!1;function Ft(n,r,a,l){r.child=n===null?R_(r,null,a,l):so(r,n.child,a,l)}function U_(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return ea(r),l=Ad(n,r,a,T,d,f),b=Rd(),n!==null&&!Lt?(xd(n,r,f),or(n,r,f)):(qe&&b&&ld(r),r.flags|=1,Ft(n,r,l,f),r.child)}function L_(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!sd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,j_(n,r,d,l,f)):(n=wc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Xd(n,f)){var T=d.memoizedProps;if(a=a.compare,a=a!==null?a:bl,a(T,l)&&n.ref===r.ref)return or(n,r,f)}return r.flags|=1,n=er(d,l),n.ref=r.ref,n.return=r,r.child=n}function j_(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(bl(d,l)&&n.ref===r.ref)if(Lt=!1,r.pendingProps=l=d,Xd(n,f))(n.flags&131072)!==0&&(Lt=!0);else return r.lanes=n.lanes,or(n,r,f)}return Hd(n,r,a,l,f)}function z_(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return B_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ic(r,d!==null?d.cachePool:null),d!==null?jy(r,d):bd(),x_(r);else return r.lanes=r.childLanes=536870912,B_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ic(r,d.cachePool),jy(r,d),Ur(),r.memoizedState=null):(n!==null&&Ic(r,null),bd(),Ur());return Ft(n,r,f,a),r.child}function B_(n,r,a,l){var f=gd();return f=f===null?null:{parent:Ot._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Ic(r,null),bd(),x_(r),n!==null&&xl(n,r,l,!0),null}function Gc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Hd(n,r,a,l,f){return ea(r),a=Ad(n,r,a,l,void 0,f),l=Rd(),n!==null&&!Lt?(xd(n,r,f),or(n,r,f)):(qe&&l&&ld(r),r.flags|=1,Ft(n,r,a,f),r.child)}function q_(n,r,a,l,f,d){return ea(r),r.updateQueue=null,a=By(r,l,a,f),zy(n),l=Rd(),n!==null&&!Lt?(xd(n,r,d),or(n,r,d)):(qe&&l&&ld(r),r.flags|=1,Ft(n,r,a,d),r.child)}function H_(n,r,a,l,f){if(ea(r),r.stateNode===null){var d=Qa,T=a.contextType;typeof T=="object"&&T!==null&&(d=Zt(T)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},_d(r),T=a.contextType,d.context=typeof T=="object"&&T!==null?Zt(T):Qa,d.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(zd(r,a,T,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&Bd.enqueueReplaceState(d,d.state,null),Pl(r,l,d,f),kl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,I=ia(a,b);d.props=I;var G=d.context,J=a.contextType;T=Qa,typeof J=="object"&&J!==null&&(T=Zt(J));var ne=a.getDerivedStateFromProps;J=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||G!==T)&&C_(r,d,l,T),Or=!1;var K=r.memoizedState;d.state=K,Pl(r,l,d,f),kl(),G=r.memoizedState,b||K!==G||Or?(typeof ne=="function"&&(zd(r,a,ne,l),G=r.memoizedState),(I=Or||I_(r,a,I,l,K,G,T))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=T,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,vd(n,r),T=r.memoizedProps,J=ia(a,T),d.props=J,ne=r.pendingProps,K=d.context,G=a.contextType,I=Qa,typeof G=="object"&&G!==null&&(I=Zt(G)),b=a.getDerivedStateFromProps,(G=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==ne||K!==I)&&C_(r,d,l,I),Or=!1,K=r.memoizedState,d.state=K,Pl(r,l,d,f),kl();var $=r.memoizedState;T!==ne||K!==$||Or||n!==null&&n.dependencies!==null&&Rc(n.dependencies)?(typeof b=="function"&&(zd(r,a,b,l),$=r.memoizedState),(J=Or||I_(r,a,J,l,K,$,I)||n!==null&&n.dependencies!==null&&Rc(n.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=I,l=J):(typeof d.componentDidUpdate!="function"||T===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Gc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=so(r,n.child,null,f),r.child=so(r,null,a,f)):Ft(n,r,a,f),r.memoizedState=d.state,n=r.child):n=or(n,r,f),n}function F_(n,r,a,l){return Al(),r.flags|=256,Ft(n,r,a,l),r.child}var Fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gd(n){return{baseLanes:n,cachePool:Dy()}}function Kd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=zn),n}function G_(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,T;if((T=d)||(T=n!==null&&n.memoizedState===null?!1:(kt.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(qe){if(f?Vr(r):Ur(),qe){var b=pt,I;if(I=b){e:{for(I=b,b=vi;I.nodeType!==8;){if(!b){b=null;break e}if(I=ei(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:Qs!==null?{id:tr,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},I=bn(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,ln=r,pt=null,I=!0):I=!1}I||Zs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Cm(b)?r.lanes=32:r.lanes=536870912,null;ar(r)}return b=l.children,l=l.fallback,f?(Ur(),f=r.mode,b=Kc({mode:"hidden",children:b},f),l=Ys(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=Gd(a),f.childLanes=Kd(n,T,a),r.memoizedState=Fd,l):(Vr(r),$d(r,b))}if(I=n.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(d)r.flags&256?(Vr(r),r.flags&=-257,r=Yd(n,r,a)):r.memoizedState!==null?(Ur(),r.child=n.child,r.flags|=128,r=null):(Ur(),f=l.fallback,b=r.mode,l=Kc({mode:"visible",children:l.children},b),f=Ys(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,so(r,n.child,null,a),l=r.child,l.memoizedState=Gd(a),l.childLanes=Kd(n,T,a),r.memoizedState=Fd,r=f);else if(Vr(r),Cm(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var G=T.dgst;T=G,l=Error(s(419)),l.stack="",l.digest=T,Rl({value:l,source:null,stack:null}),r=Yd(n,r,a)}else if(Lt||xl(n,r,a,!1),T=(a&n.childLanes)!==0,Lt||T){if(T=tt,T!==null&&(l=a&-a,l=(l&42)!==0?1:Sr(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ya(n,l),xn(T,n,l),V_;b.data==="$?"||fm(),r=Yd(n,r,a)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,pt=ei(b.nextSibling),ln=r,qe=!0,Ws=null,vi=!1,n!==null&&(Un[Ln++]=tr,Un[Ln++]=nr,Un[Ln++]=Qs,tr=n.id,nr=n.overflow,Qs=r),r=$d(r,l.children),r.flags|=4096);return r}return f?(Ur(),f=l.fallback,b=r.mode,I=n.child,G=I.sibling,l=er(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,G!==null?f=er(G,f):(f=Ys(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=n.child.memoizedState,b===null?b=Gd(a):(I=b.cachePool,I!==null?(G=Ot._currentValue,I=I.parent!==G?{parent:G,pool:G}:I):I=Dy(),b={baseLanes:b.baseLanes|a,cachePool:I}),f.memoizedState=b,f.childLanes=Kd(n,T,a),r.memoizedState=Fd,l):(Vr(r),a=n.child,n=a.sibling,a=er(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=a,r.memoizedState=null,a)}function $d(n,r){return r=Kc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Kc(n,r){return n=bn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Yd(n,r,a){return so(r,n.child,null,a),n=$d(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function K_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),fd(n.return,r,a)}function Qd(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function $_(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Ft(n,r,l.children,a),l=kt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&K_(n,a,r);else if(n.tag===19)K_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ae(kt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&qc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Qd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&qc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Qd(r,!0,a,null,d);break;case"together":Qd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function or(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),qr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(xl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=er(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=er(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Xd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Rc(n)))}function hS(n,r,a){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),Dr(r,Ot,n.memoizedState.cache),Al();break;case 27:case 5:wr(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:Dr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?G_(n,r,a):(Vr(r),n=or(n,r,a),n!==null?n.sibling:null);Vr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(xl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return $_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(kt,kt.current),l)break;return null;case 22:case 23:return r.lanes=0,z_(n,r,a);case 24:Dr(r,Ot,n.memoizedState.cache)}return or(n,r,a)}function Y_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Lt=!0;else{if(!Xd(n,a)&&(r.flags&128)===0)return Lt=!1,hS(n,r,a);Lt=(n.flags&131072)!==0}else Lt=!1,qe&&(r.flags&1048576)!==0&&Sy(r,Ac,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")sd(l)?(n=ia(l,n),r.tag=1,r=H_(null,r,l,n,a)):(r.tag=0,r=Hd(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===W){r.tag=11,r=U_(null,r,l,n,a);break e}else if(f===N){r.tag=14,r=L_(null,r,l,n,a);break e}}throw r=ot(l)||l,Error(s(306,r,""))}}return r;case 0:return Hd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ia(l,r.pendingProps),H_(n,r,l,f,a);case 3:e:{if(et(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,vd(n,r),Pl(r,l,null,a);var T=r.memoizedState;if(l=T.cache,Dr(r,Ot,l),l!==d.cache&&dd(r,[Ot],a,!0),kl(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=F_(n,r,l,a);break e}else if(l!==f){f=Mn(Error(s(424)),r),Rl(f),r=F_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(pt=ei(n.firstChild),ln=r,qe=!0,Ws=null,vi=!0,a=R_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Al(),l===f){r=or(n,r,a);break e}Ft(n,r,l,a)}r=r.child}return r;case 26:return Gc(n,r),n===null?(a=Zv(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,n=r.pendingProps,l=ah(Se.current).createElement(a),l[Ct]=r,l[bt]=n,Kt(l,a,n),yt(l),r.stateNode=l):r.memoizedState=Zv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return wr(r),n===null&&qe&&(l=r.stateNode=Qv(r.type,r.pendingProps,Se.current),ln=r,vi=!0,f=pt,Kr(r.type)?(Nm=f,pt=ei(l.firstChild)):pt=f),Ft(n,r,r.pendingProps.children,a),Gc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&qe&&((f=l=pt)&&(l=jS(l,r.type,r.pendingProps,vi),l!==null?(r.stateNode=l,ln=r,pt=ei(l.firstChild),vi=!1,f=!0):f=!1),f||Zs(r)),wr(r),f=r.type,d=r.pendingProps,T=n!==null?n.memoizedProps:null,l=d.children,Rm(f,d)?l=null:T!==null&&Rm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Ad(n,r,iS,null,null,a),nu._currentValue=f),Gc(n,r),Ft(n,r,l,a),r.child;case 6:return n===null&&qe&&((n=a=pt)&&(a=zS(a,r.pendingProps,vi),a!==null?(r.stateNode=a,ln=r,pt=null,n=!0):n=!1),n||Zs(r)),null;case 13:return G_(n,r,a);case 4:return et(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=so(r,null,l,a):Ft(n,r,l,a),r.child;case 11:return U_(n,r,r.type,r.pendingProps,a);case 7:return Ft(n,r,r.pendingProps,a),r.child;case 8:return Ft(n,r,r.pendingProps.children,a),r.child;case 12:return Ft(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Dr(r,r.type,l.value),Ft(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ea(r),f=Zt(f),l=l(f),r.flags|=1,Ft(n,r,l,a),r.child;case 14:return L_(n,r,r.type,r.pendingProps,a);case 15:return j_(n,r,r.type,r.pendingProps,a);case 19:return $_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Kc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=er(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return z_(n,r,a);case 24:return ea(r),l=Zt(Ot),n===null?(f=gd(),f===null&&(f=tt,d=md(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},_d(r),Dr(r,Ot,f)):((n.lanes&a)!==0&&(vd(n,r),Pl(r,null,null,a),kl()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Dr(r,Ot,l)):(l=d.cache,Dr(r,Ot,l),l!==f.cache&&dd(r,[Ot],a,!0))),Ft(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function lr(n){n.flags|=4}function Q_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!iE(r)){if(r=jn.current,r!==null&&((je&4194048)===je?Ei!==null:(je&62914560)!==je&&(je&536870912)===0||r!==Ei))throw Dl=yd,Oy;n.flags|=8192}}function $c(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?rl():536870912,n.lanes|=r,uo|=r)}function Bl(n,r){if(!qe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ct(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function fS(n,r,a){var l=r.pendingProps;switch(ud(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),rr(Ot),oi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Sl(r)?lr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xy())),ct(r),null;case 26:return a=r.memoizedState,n===null?(lr(r),a!==null?(ct(r),Q_(r,a)):(ct(r),r.flags&=-16777217)):a?a!==n.memoizedState?(lr(r),ct(r),Q_(r,a)):(ct(r),r.flags&=-16777217):(n.memoizedProps!==l&&lr(r),ct(r),r.flags&=-16777217),null;case 27:Bi(r),a=Se.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}n=_e.current,Sl(r)?Ay(r):(n=Qv(f,l,a),r.stateNode=n,lr(r))}return ct(r),null;case 5:if(Bi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(n=_e.current,Sl(r))Ay(r);else{switch(f=ah(Se.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Ct]=r,n[bt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Kt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&lr(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&lr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Se.current,Sl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=ln,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ct]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qv(n.nodeValue,a)),n||Zs(r)}else n=ah(n).createTextNode(l),n[Ct]=r,r.stateNode=n}return ct(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Sl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ct]=r}else Al(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),f=!1}else f=xy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ar(r),r):(ar(r),null)}if(ar(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),$c(r,r.updateQueue),ct(r),null;case 4:return oi(),n===null&&Tm(r.stateNode.containerInfo),ct(r),null;case 10:return rr(r.type),ct(r),null;case 19:if(ue(kt),f=r.memoizedState,f===null)return ct(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)Bl(f,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=qc(n),d!==null){for(r.flags|=128,Bl(f,!1),n=d.updateQueue,r.updateQueue=n,$c(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)wy(a,n),a=a.sibling;return ae(kt,kt.current&1|2),r.child}n=n.sibling}f.tail!==null&&Cn()>Xc&&(r.flags|=128,l=!0,Bl(f,!1),r.lanes=4194304)}else{if(!l)if(n=qc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,$c(r,n),Bl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!qe)return ct(r),null}else 2*Cn()-f.renderingStartTime>Xc&&a!==536870912&&(r.flags|=128,l=!0,Bl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Cn(),r.sibling=null,n=kt.current,ae(kt,l?n&1|2:n&1),r):(ct(r),null);case 22:case 23:return ar(r),wd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&$c(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ue(ta),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),rr(Ot),ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function dS(n,r){switch(ud(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return rr(Ot),oi(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Bi(r),null;case 13:if(ar(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Al()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ue(kt),null;case 4:return oi(),null;case 10:return rr(r.type),null;case 22:case 23:return ar(r),wd(),n!==null&&ue(ta),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return rr(Ot),null;case 25:return null;default:return null}}function X_(n,r){switch(ud(r),r.tag){case 3:rr(Ot),oi();break;case 26:case 27:case 5:Bi(r);break;case 4:oi();break;case 13:ar(r);break;case 19:ue(kt);break;case 10:rr(r.type);break;case 22:case 23:ar(r),wd(),n!==null&&ue(ta);break;case 24:rr(Ot)}}function ql(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,T=a.inst;l=d(),T.destroy=l}a=a.next}while(a!==f)}}catch(b){Je(r,r.return,b)}}function Lr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=r;var I=a,G=b;try{G()}catch(J){Je(f,I,J)}}}l=l.next}while(l!==d)}}catch(J){Je(r,r.return,J)}}function W_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Ly(r,a)}catch(l){Je(n,n.return,l)}}}function Z_(n,r,a){a.props=ia(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Je(n,r,l)}}function Hl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Je(n,r,f)}}function Ti(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(n,r,f)}else a.current=null}function J_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(n,n.return,f)}}function Wd(n,r,a){try{var l=n.stateNode;PS(l,n.type,a,r),l[bt]=r}catch(f){Je(n,n.return,f)}}function ev(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Kr(n.type)||n.tag===4}function Zd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ev(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Kr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=sh));else if(l!==4&&(l===27&&Kr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Jd(n,r,a),n=n.sibling;n!==null;)Jd(n,r,a),n=n.sibling}function Yc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Kr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Yc(n,r,a),n=n.sibling;n!==null;)Yc(n,r,a),n=n.sibling}function tv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Kt(r,l,a),r[Ct]=n,r[bt]=a}catch(d){Je(n,n.return,d)}}var ur=!1,vt=!1,em=!1,nv=typeof WeakSet=="function"?WeakSet:Set,jt=null;function mS(n,r){if(n=n.containerInfo,Sm=fh,n=dy(n),Zf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var T=0,b=-1,I=-1,G=0,J=0,ne=n,K=null;t:for(;;){for(var $;ne!==a||f!==0&&ne.nodeType!==3||(b=T+f),ne!==d||l!==0&&ne.nodeType!==3||(I=T+l),ne.nodeType===3&&(T+=ne.nodeValue.length),($=ne.firstChild)!==null;)K=ne,ne=$;for(;;){if(ne===n)break t;if(K===a&&++G===f&&(b=T),K===d&&++J===l&&(I=T),($=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=$}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Am={focusedElem:n,selectionRange:a},fh=!1,jt=r;jt!==null;)if(r=jt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,jt=n;else for(;jt!==null;){switch(r=jt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=ia(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Je(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Im(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Im(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,jt=n;break}jt=r.return}}function iv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:jr(n,a),l&4&&ql(5,a);break;case 1:if(jr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){Je(a,a.return,T)}else{var f=ia(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(a,a.return,T)}}l&64&&W_(a),l&512&&Hl(a,a.return);break;case 3:if(jr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ly(n,r)}catch(T){Je(a,a.return,T)}}break;case 27:r===null&&l&4&&tv(a);case 26:case 5:jr(n,a),r===null&&l&4&&J_(a),l&512&&Hl(a,a.return);break;case 12:jr(n,a);break;case 13:jr(n,a),l&4&&av(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=wS.bind(null,a),BS(n,a))));break;case 22:if(l=a.memoizedState!==null||ur,!l){r=r!==null&&r.memoizedState!==null||vt,f=ur;var d=vt;ur=l,(vt=r)&&!d?zr(n,a,(a.subtreeFlags&8772)!==0):jr(n,a),ur=f,vt=d}break;case 30:break;default:jr(n,a)}}function rv(n){var r=n.alternate;r!==null&&(n.alternate=null,rv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&xr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ut=null,dn=!1;function cr(n,r,a){for(a=a.child;a!==null;)sv(n,r,a),a=a.sibling}function sv(n,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(mt,a)}catch{}switch(a.tag){case 26:vt||Ti(a,r),cr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||Ti(a,r);var l=ut,f=dn;Kr(a.type)&&(ut=a.stateNode,dn=!1),cr(n,r,a),Zl(a.stateNode),ut=l,dn=f;break;case 5:vt||Ti(a,r);case 6:if(l=ut,f=dn,ut=null,cr(n,r,a),ut=l,dn=f,ut!==null)if(dn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Je(a,r,d)}else try{ut.removeChild(a.stateNode)}catch(d){Je(a,r,d)}break;case 18:ut!==null&&(dn?(n=ut,$v(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),au(n)):$v(ut,a.stateNode));break;case 4:l=ut,f=dn,ut=a.stateNode.containerInfo,dn=!0,cr(n,r,a),ut=l,dn=f;break;case 0:case 11:case 14:case 15:vt||Lr(2,a,r),vt||Lr(4,a,r),cr(n,r,a);break;case 1:vt||(Ti(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Z_(a,r,l)),cr(n,r,a);break;case 21:cr(n,r,a);break;case 22:vt=(l=vt)||a.memoizedState!==null,cr(n,r,a),vt=l;break;default:cr(n,r,a)}}function av(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{au(n)}catch(a){Je(r,r.return,a)}}function pS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new nv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new nv),r;default:throw Error(s(435,n.tag))}}function tm(n,r){var a=pS(n);r.forEach(function(l){var f=SS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function wn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,T=r,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Kr(b.type)){ut=b.stateNode,dn=!1;break e}break;case 5:ut=b.stateNode,dn=!1;break e;case 3:case 4:ut=b.stateNode.containerInfo,dn=!0;break e}b=b.return}if(ut===null)throw Error(s(160));sv(d,T,f),ut=null,dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)ov(r,n),r=r.sibling}var Jn=null;function ov(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:wn(r,n),Sn(n),l&4&&(Lr(3,n,n.return),ql(3,n),Lr(5,n,n.return));break;case 1:wn(r,n),Sn(n),l&512&&(vt||a===null||Ti(a,a.return)),l&64&&ur&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Jn;if(wn(r,n),Sn(n),l&512&&(vt||a===null||Ti(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Os]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,l,a),d[Ct]=n,yt(d),l=d;break e;case"link":var T=tE("link","href",f).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(d=T[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;case"meta":if(T=tE("meta","content",f).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(d=T[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ct]=n,yt(d),l=d}n.stateNode=l}else nE(f,n.type,n.stateNode);else n.stateNode=eE(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?nE(f,n.type,n.stateNode):eE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Wd(n,n.memoizedProps,a.memoizedProps)}break;case 27:wn(r,n),Sn(n),l&512&&(vt||a===null||Ti(a,a.return)),a!==null&&l&4&&Wd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(wn(r,n),Sn(n),l&512&&(vt||a===null||Ti(a,a.return)),n.flags&32){f=n.stateNode;try{Dn(f,"")}catch($){Je(n,n.return,$)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Wd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(em=!0);break;case 6:if(wn(r,n),Sn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch($){Je(n,n.return,$)}}break;case 3:if(uh=null,f=Jn,Jn=oh(r.containerInfo),wn(r,n),Jn=f,Sn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{au(r.containerInfo)}catch($){Je(n,n.return,$)}em&&(em=!1,lv(n));break;case 4:l=Jn,Jn=oh(n.stateNode.containerInfo),wn(r,n),Sn(n),Jn=l;break;case 12:wn(r,n),Sn(n);break;case 13:wn(r,n),Sn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(om=Cn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,tm(n,l)));break;case 22:f=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,G=ur,J=vt;if(ur=G||f,vt=J||I,wn(r,n),vt=J,ur=G,Sn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||I||ur||vt||ra(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,f)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=I.stateNode;var ne=I.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch($){Je(I,I.return,$)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch($){Je(I,I.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,tm(n,a))));break;case 19:wn(r,n),Sn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,tm(n,l)));break;case 30:break;case 21:break;default:wn(r,n),Sn(n)}}function Sn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(ev(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Zd(n);Yc(n,d,f);break;case 5:var T=a.stateNode;a.flags&32&&(Dn(T,""),a.flags&=-33);var b=Zd(n);Yc(n,b,T);break;case 3:case 4:var I=a.stateNode.containerInfo,G=Zd(n);Jd(n,G,I);break;default:throw Error(s(161))}}catch(J){Je(n,n.return,J)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function lv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;lv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function jr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)iv(n,r.alternate,r),r=r.sibling}function ra(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Lr(4,r,r.return),ra(r);break;case 1:Ti(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Z_(r,r.return,a),ra(r);break;case 27:Zl(r.stateNode);case 26:case 5:Ti(r,r.return),ra(r);break;case 22:r.memoizedState===null&&ra(r);break;case 30:ra(r);break;default:ra(r)}n=n.sibling}}function zr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,T=d.flags;switch(d.tag){case 0:case 11:case 15:zr(f,d,a),ql(4,d);break;case 1:if(zr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Je(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Uy(I[f],b)}catch(G){Je(l,l.return,G)}}a&&T&64&&W_(d),Hl(d,d.return);break;case 27:tv(d);case 26:case 5:zr(f,d,a),a&&l===null&&T&4&&J_(d),Hl(d,d.return);break;case 12:zr(f,d,a);break;case 13:zr(f,d,a),a&&T&4&&av(f,d);break;case 22:d.memoizedState===null&&zr(f,d,a),Hl(d,d.return);break;case 30:break;default:zr(f,d,a)}r=r.sibling}}function nm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Il(a))}function im(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Il(n))}function bi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)uv(n,r,a,l),r=r.sibling}function uv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:bi(n,r,a,l),f&2048&&ql(9,r);break;case 1:bi(n,r,a,l);break;case 3:bi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Il(n)));break;case 12:if(f&2048){bi(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,T=d.id,b=d.onPostCommit;typeof b=="function"&&b(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Je(r,r.return,I)}}else bi(n,r,a,l);break;case 13:bi(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,T=r.alternate,r.memoizedState!==null?d._visibility&2?bi(n,r,a,l):Fl(n,r):d._visibility&2?bi(n,r,a,l):(d._visibility|=2,ao(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&nm(T,r);break;case 24:bi(n,r,a,l),f&2048&&im(r.alternate,r);break;default:bi(n,r,a,l)}}function ao(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,T=r,b=a,I=l,G=T.flags;switch(T.tag){case 0:case 11:case 15:ao(d,T,b,I,f),ql(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?ao(d,T,b,I,f):Fl(d,T):(J._visibility|=2,ao(d,T,b,I,f)),f&&G&2048&&nm(T.alternate,T);break;case 24:ao(d,T,b,I,f),f&&G&2048&&im(T.alternate,T);break;default:ao(d,T,b,I,f)}r=r.sibling}}function Fl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Fl(a,l),f&2048&&nm(l.alternate,l);break;case 24:Fl(a,l),f&2048&&im(l.alternate,l);break;default:Fl(a,l)}r=r.sibling}}var Gl=8192;function oo(n){if(n.subtreeFlags&Gl)for(n=n.child;n!==null;)cv(n),n=n.sibling}function cv(n){switch(n.tag){case 26:oo(n),n.flags&Gl&&n.memoizedState!==null&&eA(Jn,n.memoizedState,n.memoizedProps);break;case 5:oo(n);break;case 3:case 4:var r=Jn;Jn=oh(n.stateNode.containerInfo),oo(n),Jn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Gl,Gl=16777216,oo(n),Gl=r):oo(n));break;default:oo(n)}}function hv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Kl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];jt=l,dv(l,n)}hv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fv(n),n=n.sibling}function fv(n){switch(n.tag){case 0:case 11:case 15:Kl(n),n.flags&2048&&Lr(9,n,n.return);break;case 3:Kl(n);break;case 12:Kl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Qc(n)):Kl(n);break;default:Kl(n)}}function Qc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];jt=l,dv(l,n)}hv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Lr(8,r,r.return),Qc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Qc(r));break;default:Qc(r)}n=n.sibling}}function dv(n,r){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Lr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=n;jt!==null;){l=jt;var f=l.sibling,d=l.return;if(rv(l),l===a){jt=null;break e}if(f!==null){f.return=d,jt=f;break e}jt=d}}}var gS={getCacheForType:function(n){var r=Zt(Ot),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},yS=typeof WeakMap=="function"?WeakMap:Map,$e=0,tt=null,Oe=null,je=0,Ye=0,An=null,Br=!1,lo=!1,rm=!1,hr=0,gt=0,qr=0,sa=0,sm=0,zn=0,uo=0,$l=null,mn=null,am=!1,om=0,Xc=1/0,Wc=null,Hr=null,Gt=0,Fr=null,co=null,ho=0,lm=0,um=null,mv=null,Yl=0,cm=null;function Rn(){if(($e&2)!==0&&je!==0)return je&-je;if(Y.T!==null){var n=Za;return n!==0?n:ym()}return Ar()}function pv(){zn===0&&(zn=(je&536870912)===0||qe?il():536870912);var n=jn.current;return n!==null&&(n.flags|=32),zn}function xn(n,r,a){(n===tt&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&(fo(n,0),Gr(n,je,zn,!1)),Hi(n,a),(($e&2)===0||n!==tt)&&(n===tt&&(($e&2)===0&&(sa|=a),gt===4&&Gr(n,je,zn,!1)),wi(n))}function gv(n,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Ds(n,r),f=l?ES(n,r):dm(n,r,!0),d=l;do{if(f===0){lo&&!l&&Gr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!_S(a)){f=dm(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var b=n;f=$l;var I=b.current.memoizedState.isDehydrated;if(I&&(fo(b,T).flags|=256),T=dm(b,T,!1),T!==2){if(rm&&!I){b.errorRecoveryDisabledLanes|=d,sa|=d,f=4;break e}d=mn,mn=f,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}f=T}if(d=!1,f!==2)continue}}if(f===1){fo(n,0),Gr(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Gr(l,r,zn,!Br);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=om+300-Cn(),10<f)){if(Gr(l,r,zn,!Br),Ca(l,0,!0)!==0)break e;l.timeoutHandle=Gv(yv.bind(null,l,a,mn,Wc,am,r,zn,sa,uo,Br,d,2,-0,0),f);break e}yv(l,a,mn,Wc,am,r,zn,sa,uo,Br,d,0,-0,0)}}break}while(!0);wi(n)}function yv(n,r,a,l,f,d,T,b,I,G,J,ne,K,$){if(n.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(tu={stylesheets:null,count:0,unsuspend:JS},cv(r),ne=tA(),ne!==null)){n.cancelPendingCommit=ne(Sv.bind(null,n,r,d,a,l,f,T,b,I,J,1,K,$)),Gr(n,d,T,!G);return}Sv(n,r,d,a,l,f,T,b,I)}function _S(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Tn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gr(n,r,a,l){r&=~sm,r&=~sa,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-Wt(f),T=1<<d;l[d]=-1,f&=~T}a!==0&&li(n,a,r)}function Zc(){return($e&6)===0?(Ql(0),!1):!0}function hm(){if(Oe!==null){if(Ye===0)var n=Oe.return;else n=Oe,ir=Js=null,Id(n),ro=null,jl=0,n=Oe;for(;n!==null;)X_(n.alternate,n),n=n.return;Oe=null}}function fo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,VS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),hm(),tt=n,Oe=a=er(n.current,null),je=r,Ye=0,An=null,Br=!1,lo=Ds(n,r),rm=!1,uo=zn=sm=sa=qr=gt=0,mn=$l=null,am=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Wt(l),d=1<<f;r|=n[f],l&=~d}return hr=r,Ec(),a}function _v(n,r){Ce=null,Y.H=jc,r===Nl||r===Cc?(r=My(),Ye=3):r===Oy?(r=My(),Ye=4):Ye=r===V_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Oe===null&&(gt=1,Fc(n,Mn(r,n.current)))}function vv(){var n=Y.H;return Y.H=jc,n===null?jc:n}function Ev(){var n=Y.A;return Y.A=gS,n}function fm(){gt=4,Br||(je&4194048)!==je&&jn.current!==null||(lo=!0),(qr&134217727)===0&&(sa&134217727)===0||tt===null||Gr(tt,je,zn,!1)}function dm(n,r,a){var l=$e;$e|=2;var f=vv(),d=Ev();(tt!==n||je!==r)&&(Wc=null,fo(n,r)),r=!1;var T=gt;e:do try{if(Ye!==0&&Oe!==null){var b=Oe,I=An;switch(Ye){case 8:hm(),T=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(r=!0);var G=Ye;if(Ye=0,An=null,mo(n,b,I,G),a&&lo){T=0;break e}break;default:G=Ye,Ye=0,An=null,mo(n,b,I,G)}}vS(),T=gt;break}catch(J){_v(n,J)}while(!0);return r&&n.shellSuspendCounter++,ir=Js=null,$e=l,Y.H=f,Y.A=d,Oe===null&&(tt=null,je=0,Ec()),T}function vS(){for(;Oe!==null;)Tv(Oe)}function ES(n,r){var a=$e;$e|=2;var l=vv(),f=Ev();tt!==n||je!==r?(Wc=null,Xc=Cn()+500,fo(n,r)):lo=Ds(n,r);e:do try{if(Ye!==0&&Oe!==null){r=Oe;var d=An;t:switch(Ye){case 1:Ye=0,An=null,mo(n,r,d,1);break;case 2:case 9:if(ky(d)){Ye=0,An=null,bv(r);break}r=function(){Ye!==2&&Ye!==9||tt!==n||(Ye=7),wi(n)},d.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:ky(d)?(Ye=0,An=null,bv(r)):(Ye=0,An=null,mo(n,r,d,7));break;case 5:var T=null;switch(Oe.tag){case 26:T=Oe.memoizedState;case 5:case 27:var b=Oe;if(!T||iE(T)){Ye=0,An=null;var I=b.sibling;if(I!==null)Oe=I;else{var G=b.return;G!==null?(Oe=G,Jc(G)):Oe=null}break t}}Ye=0,An=null,mo(n,r,d,5);break;case 6:Ye=0,An=null,mo(n,r,d,6);break;case 8:hm(),gt=6;break e;default:throw Error(s(462))}}TS();break}catch(J){_v(n,J)}while(!0);return ir=Js=null,Y.H=l,Y.A=f,$e=a,Oe!==null?0:(tt=null,je=0,Ec(),gt)}function TS(){for(;Oe!==null&&!Jo();)Tv(Oe)}function Tv(n){var r=Y_(n.alternate,n,hr);n.memoizedProps=n.pendingProps,r===null?Jc(n):Oe=r}function bv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=q_(a,r,r.pendingProps,r.type,void 0,je);break;case 11:r=q_(a,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:Id(r);default:X_(a,r),r=Oe=wy(r,hr),r=Y_(a,r,hr)}n.memoizedProps=n.pendingProps,r===null?Jc(n):Oe=r}function mo(n,r,a,l){ir=Js=null,Id(r),ro=null,jl=0;var f=r.return;try{if(cS(n,f,r,a,je)){gt=1,Fc(n,Mn(a,n.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;gt=1,Fc(n,Mn(a,n.current)),Oe=null;return}r.flags&32768?(qe||l===1?n=!0:lo||(je&536870912)!==0?n=!1:(Br=n=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),wv(r,n)):Jc(r)}function Jc(n){var r=n;do{if((r.flags&32768)!==0){wv(r,Br);return}n=r.return;var a=fS(r.alternate,r,hr);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=n}while(r!==null);gt===0&&(gt=5)}function wv(n,r){do{var a=dS(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);gt=6,Oe=null}function Sv(n,r,a,l,f,d,T,b,I){n.cancelPendingCommit=null;do eh();while(Gt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=id,sl(n,a,d,T,b,I),n===tt&&(Oe=tt=null,je=0),co=r,Fr=n,ho=a,lm=d,um=f,mv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,AS(xs,function(){return Cv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=le.p,le.p=2,T=$e,$e|=4;try{mS(n,r,a)}finally{$e=T,le.p=f,Y.T=l}}Gt=1,Av(),Rv(),xv()}}function Av(){if(Gt===1){Gt=0;var n=Fr,r=co,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var f=$e;$e|=4;try{ov(r,n);var d=Am,T=dy(n.containerInfo),b=d.focusedElem,I=d.selectionRange;if(T!==b&&b&&b.ownerDocument&&fy(b.ownerDocument.documentElement,b)){if(I!==null&&Zf(b)){var G=I.start,J=I.end;if(J===void 0&&(J=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(J,b.value.length);else{var ne=b.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var $=K.getSelection(),we=b.textContent.length,ve=Math.min(I.start,we),Ze=I.end===void 0?ve:Math.min(I.end,we);!$.extend&&ve>Ze&&(T=Ze,Ze=ve,ve=T);var z=hy(b,ve),P=hy(b,Ze);if(z&&P&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==P.node||$.focusOffset!==P.offset)){var F=ne.createRange();F.setStart(z.node,z.offset),$.removeAllRanges(),ve>Ze?($.addRange(F),$.extend(P.node,P.offset)):(F.setEnd(P.node,P.offset),$.addRange(F))}}}}for(ne=[],$=b;$=$.parentNode;)$.nodeType===1&&ne.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ne.length;b++){var ee=ne[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}fh=!!Sm,Am=Sm=null}finally{$e=f,le.p=l,Y.T=a}}n.current=r,Gt=2}}function Rv(){if(Gt===2){Gt=0;var n=Fr,r=co,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var f=$e;$e|=4;try{iv(n,r.alternate,r)}finally{$e=f,le.p=l,Y.T=a}}Gt=3}}function xv(){if(Gt===4||Gt===3){Gt=0,Qu();var n=Fr,r=co,a=ho,l=mv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,co=Fr=null,Iv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Hr=null),Na(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(mt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,f=le.p,le.p=2,Y.T=null;try{for(var d=n.onRecoverableError,T=0;T<l.length;T++){var b=l[T];d(b.value,{componentStack:b.stack})}}finally{Y.T=r,le.p=f}}(ho&3)!==0&&eh(),wi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===cm?Yl++:(Yl=0,cm=n):Yl=0,Ql(0)}}function Iv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Il(r)))}function eh(n){return Av(),Rv(),xv(),Cv()}function Cv(){if(Gt!==5)return!1;var n=Fr,r=lm;lm=0;var a=Na(ho),l=Y.T,f=le.p;try{le.p=32>a?32:a,Y.T=null,a=um,um=null;var d=Fr,T=ho;if(Gt=0,co=Fr=null,ho=0,($e&6)!==0)throw Error(s(331));var b=$e;if($e|=4,fv(d.current),uv(d,d.current,T,a),$e=b,Ql(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(mt,d)}catch{}return!0}finally{le.p=f,Y.T=l,Iv(n,r)}}function Nv(n,r,a){r=Mn(a,r),r=qd(n.stateNode,r,2),n=Pr(n,r,2),n!==null&&(Hi(n,2),wi(n))}function Je(n,r,a){if(n.tag===3)Nv(n,n,a);else for(;r!==null;){if(r.tag===3){Nv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hr===null||!Hr.has(l))){n=Mn(a,n),a=P_(2),l=Pr(r,a,2),l!==null&&(M_(a,l,r,n),Hi(l,2),wi(l));break}}r=r.return}}function mm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new yS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(rm=!0,f.add(a),n=bS.bind(null,n,r,a),r.then(n,n))}function bS(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(je&a)===a&&(gt===4||gt===3&&(je&62914560)===je&&300>Cn()-om?($e&2)===0&&fo(n,0):sm|=a,uo===je&&(uo=0)),wi(n)}function Dv(n,r){r===0&&(r=rl()),n=Ya(n,r),n!==null&&(Hi(n,r),wi(n))}function wS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Dv(n,a)}function SS(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Dv(n,a)}function AS(n,r){return As(n,r)}var th=null,po=null,pm=!1,nh=!1,gm=!1,aa=0;function wi(n){n!==po&&n.next===null&&(po===null?th=po=n:po=po.next=n),nh=!0,pm||(pm=!0,xS())}function Ql(n,r){if(!gm&&nh){gm=!0;do for(var a=!1,l=th;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var T=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Wt(42|n)+1)-1,d&=f&~(T&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Mv(l,d))}else d=je,d=Ca(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ds(l,d)||(a=!0,Mv(l,d));l=l.next}while(a);gm=!1}}function RS(){Ov()}function Ov(){nh=pm=!1;var n=0;aa!==0&&(MS()&&(n=aa),aa=0);for(var r=Cn(),a=null,l=th;l!==null;){var f=l.next,d=kv(l,r);d===0?(l.next=null,a===null?th=f:a.next=f,f===null&&(po=a)):(a=l,(n!==0||(d&3)!==0)&&(nh=!0)),l=f}Ql(n)}function kv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var T=31-Wt(d),b=1<<T,I=f[T];I===-1?((b&a)===0||(b&l)!==0)&&(f[T]=nl(b,r)):I<=r&&(n.expiredLanes|=b),d&=~b}if(r=tt,a=je,a=Ca(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Rs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ds(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Rs(l),Na(a)){case 2:case 8:a=xa;break;case 32:a=xs;break;case 268435456:a=Ia;break;default:a=xs}return l=Pv.bind(null,n),a=As(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Rs(l),n.callbackPriority=2,n.callbackNode=null,2}function Pv(n,r){if(Gt!==0&&Gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(eh()&&n.callbackNode!==a)return null;var l=je;return l=Ca(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(gv(n,l,r),kv(n,Cn()),n.callbackNode!=null&&n.callbackNode===a?Pv.bind(null,n):null)}function Mv(n,r){if(eh())return null;gv(n,r,!0)}function xS(){US(function(){($e&6)!==0?As(el,RS):Ov()})}function ym(){return aa===0&&(aa=il()),aa}function Vv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Va(""+n)}function Uv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function IS(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Vv((f[bt]||null).action),T=l.submitter;T&&(r=(r=T[bt]||null)?Vv(r.formAction):T.getAttribute("formAction"),r!==null&&(d=r,T=null));var b=new Ua("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(aa!==0){var I=T?Uv(f,T):new FormData(f);Ud(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=T?Uv(f,T):new FormData(f),Ud(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var _m=0;_m<nd.length;_m++){var vm=nd[_m],CS=vm.toLowerCase(),NS=vm[0].toUpperCase()+vm.slice(1);Zn(CS,"on"+NS)}Zn(gy,"onAnimationEnd"),Zn(yy,"onAnimationIteration"),Zn(_y,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn($1,"onTransitionRun"),Zn(Y1,"onTransitionStart"),Zn(Q1,"onTransitionCancel"),Zn(vy,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function Lv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var T=l.length-1;0<=T;T--){var b=l[T],I=b.instance,G=b.currentTarget;if(b=b.listener,I!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=G;try{d(f)}catch(J){Hc(J)}f.currentTarget=null,d=I}else for(T=0;T<l.length;T++){if(b=l[T],I=b.instance,G=b.currentTarget,b=b.listener,I!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=G;try{d(f)}catch(J){Hc(J)}f.currentTarget=null,d=I}}}}function ke(n,r){var a=r[ol];a===void 0&&(a=r[ol]=new Set);var l=n+"__bubble";a.has(l)||(jv(r,n,2,!1),a.add(l))}function Em(n,r,a){var l=0;r&&(l|=4),jv(a,n,l,r)}var ih="_reactListening"+Math.random().toString(36).slice(2);function Tm(n){if(!n[ih]){n[ih]=!0,ll.forEach(function(a){a!=="selectionchange"&&(DS.has(a)||Em(a,!1,n),Em(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[ih]||(r[ih]=!0,Em("selectionchange",!1,r))}}function jv(n,r,a,l){switch(uE(r)){case 2:var f=rA;break;case 8:f=sA;break;default:f=Mm}a=f.bind(null,r,a,n),f=void 0,!kn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function bm(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===f)break;if(T===4)for(T=l.return;T!==null;){var I=T.tag;if((I===3||I===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;b!==null;){if(T=Fi(b),T===null)return;if(I=T.tag,I===5||I===6||I===26||I===27){l=d=T;continue e}b=b.parentNode}}l=l.return}sc(function(){var G=d,J=On(a),ne=[];e:{var K=Ey.get(n);if(K!==void 0){var $=Ua,we=n;switch(n){case"keypress":if(mi(a)===0)break e;case"keydown":case"keyup":$=Ha;break;case"focusin":we="focus",$=za;break;case"focusout":we="blur",$=za;break;case"beforeblur":case"afterblur":$=za;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=dc;break;case gy:case yy:case _y:$=Ba;break;case vy:$=pc;break;case"scroll":case"scrollend":$=ac;break;case"wheel":$=Fa;break;case"copy":case"cut":case"paste":$=qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=El;break;case"toggle":case"beforetoggle":$=yc}var ve=(r&4)!==0,Ze=!ve&&(n==="scroll"||n==="scrollend"),z=ve?K!==null?K+"Capture":null:K;ve=[];for(var P=G,F;P!==null;){var ee=P;if(F=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||F===null||z===null||(ee=js(P,z),ee!=null&&ve.push(Wl(P,ee,F))),Ze)break;P=P.return}0<ve.length&&(K=new $(K,we,null,a,J),ne.push({event:K,listeners:ve}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",K&&a!==Yi&&(we=a.relatedTarget||a.fromElement)&&(Fi(we)||we[Nn]))break e;if(($||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,$?(we=a.relatedTarget||a.toElement,$=G,we=we?Fi(we):null,we!==null&&(Ze=u(we),ve=we.tag,we!==Ze||ve!==5&&ve!==27&&ve!==6)&&(we=null)):($=null,we=G),$!==we)){if(ve=Pn,ee="onMouseLeave",z="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(ve=El,ee="onPointerLeave",z="onPointerEnter",P="pointer"),Ze=$==null?K:ci($),F=we==null?K:ci(we),K=new ve(ee,P+"leave",$,a,J),K.target=Ze,K.relatedTarget=F,ee=null,Fi(J)===G&&(ve=new ve(z,P+"enter",we,a,J),ve.target=F,ve.relatedTarget=Ze,ee=ve),Ze=ee,$&&we)t:{for(ve=$,z=we,P=0,F=ve;F;F=go(F))P++;for(F=0,ee=z;ee;ee=go(ee))F++;for(;0<P-F;)ve=go(ve),P--;for(;0<F-P;)z=go(z),F--;for(;P--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=go(ve),z=go(z)}ve=null}else ve=null;$!==null&&zv(ne,K,$,ve,!1),we!==null&&Ze!==null&&zv(ne,Ze,we,ve,!0)}}e:{if(K=G?ci(G):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var de=sy;else if(Dt(K))if(ay)de=F1;else{de=q1;var De=B1}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&dl(G.elementType)&&(de=sy):de=H1;if(de&&(de=de(n,G))){Ji(ne,de,a,J);break e}De&&De(n,K,G),n==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Cr(K,"number",K.value)}switch(De=G?ci(G):window,n){case"focusin":(Dt(De)||De.contentEditable==="true")&&(Ga=De,Jf=G,wl=null);break;case"focusout":wl=Jf=Ga=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,my(ne,a,J);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":my(ne,a,J)}var ge;if(yi)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ue?Q(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&a.locale!=="ko"&&(Ue||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ue&&(ge=pl()):(di=J,Nr="value"in di?di.value:di.textContent,Ue=!0)),De=rh(G,Ee),0<De.length&&(Ee=new _l(Ee,n,null,a,J),ne.push({event:Ee,listeners:De}),ge?Ee.data=ge:(ge=oe(a),ge!==null&&(Ee.data=ge)))),(ge=y?Nt(n,a):Le(n,a))&&(Ee=rh(G,"onBeforeInput"),0<Ee.length&&(De=new _l("onBeforeInput","beforeinput",null,a,J),ne.push({event:De,listeners:Ee}),De.data=ge)),IS(ne,n,G,a,J)}Lv(ne,r)})}function Wl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function rh(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=js(n,a),f!=null&&l.unshift(Wl(n,f,d)),f=js(n,r),f!=null&&l.push(Wl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function go(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function zv(n,r,a,l,f){for(var d=r._reactName,T=[];a!==null&&a!==l;){var b=a,I=b.alternate,G=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||G===null||(I=G,f?(G=js(a,d),G!=null&&T.unshift(Wl(a,G,I))):f||(G=js(a,d),G!=null&&T.push(Wl(a,G,I)))),a=a.return}T.length!==0&&n.push({event:r,listeners:T})}var OS=/\r\n?/g,kS=/\u0000|\uFFFD/g;function Bv(n){return(typeof n=="string"?n:""+n).replace(OS,`
`).replace(kS,"")}function qv(n,r){return r=Bv(r),Bv(n)===r}function sh(){}function We(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Dn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Dn(n,""+l);break;case"className":hi(n,"class",l);break;case"tabIndex":hi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(n,a,l);break;case"style":fl(n,l,d);break;case"data":if(r!=="object"){hi(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Va(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(n,r,"name",f.name,f,null),We(n,r,"formEncType",f.formEncType,f,null),We(n,r,"formMethod",f.formMethod,f,null),We(n,r,"formTarget",f.formTarget,f,null)):(We(n,r,"encType",f.encType,f,null),We(n,r,"method",f.method,f,null),We(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Va(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=sh);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Va(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ke("beforetoggle",n),ke("toggle",n),Ir(n,"popover",l);break;case"xlinkActuate":qt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ir(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Kf.get(a)||a,Ir(n,a,l))}}function wm(n,r,a,l,f,d){switch(a){case"style":fl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Dn(n,l):(typeof l=="number"||typeof l=="bigint")&&Dn(n,""+l);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"onClick":l!=null&&(n.onclick=sh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ir(n,a,l)}}}function Kt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var T=a[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,d,T,a,null)}}f&&We(n,r,"srcSet",a.srcSet,a,null),l&&We(n,r,"src",a.src,a,null);return;case"input":ke("invalid",n);var b=d=T=f=null,I=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":T=J;break;case"checked":I=J;break;case"defaultChecked":G=J;break;case"value":d=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:We(n,r,l,J,a,null)}}Vs(n,d,b,I,G,T,f,!1),Ma(n);return;case"select":ke("invalid",n),l=T=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:We(n,r,f,b,a,null)}r=d,a=T,n.multiple=!!l,r!=null?$i(n,!!l,r,!1):a!=null&&$i(n,!!l,a,!0);return;case"textarea":ke("invalid",n),d=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(n,r,T,b,a,null)}Us(n,l,f,d),Ma(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,r,I,l,a,null)}return;case"dialog":ke("beforetoggle",n),ke("toggle",n),ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(l=0;l<Xl.length;l++)ke(Xl[l],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,G,l,a,null)}return;default:if(dl(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&wm(n,r,J,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&We(n,r,b,l,a,null))}function PS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,T=null,b=null,I=null,G=null,J=null;for($ in a){var ne=a[$];if(a.hasOwnProperty($)&&ne!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=ne;default:l.hasOwnProperty($)||We(n,r,$,null,l,ne)}}for(var K in l){var $=l[K];if(ne=a[K],l.hasOwnProperty(K)&&($!=null||ne!=null))switch(K){case"type":d=$;break;case"name":f=$;break;case"checked":G=$;break;case"defaultChecked":J=$;break;case"value":T=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==ne&&We(n,r,K,$,l,ne)}}En(n,T,b,I,G,J,d,f);return;case"select":$=T=b=K=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":$=I;default:l.hasOwnProperty(d)||We(n,r,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":T=d;default:d!==I&&We(n,r,f,d,l,I)}r=b,a=T,l=$,K!=null?$i(n,!!a,K,!1):!!l!=!!a&&(r!=null?$i(n,!!a,r,!0):$i(n,!!a,a?[]:"",!1));return;case"textarea":$=K=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(n,r,b,null,l,f)}for(T in l)if(f=l[T],d=a[T],l.hasOwnProperty(T)&&(f!=null||d!=null))switch(T){case"value":K=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(n,r,T,f,l,d)}Qe(n,K,$);return;case"option":for(var we in a)if(K=a[we],a.hasOwnProperty(we)&&K!=null&&!l.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:We(n,r,we,null,l,K)}for(I in l)if(K=l[I],$=a[I],l.hasOwnProperty(I)&&K!==$&&(K!=null||$!=null))switch(I){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:We(n,r,I,K,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)K=a[ve],a.hasOwnProperty(ve)&&K!=null&&!l.hasOwnProperty(ve)&&We(n,r,ve,null,l,K);for(G in l)if(K=l[G],$=a[G],l.hasOwnProperty(G)&&K!==$&&(K!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:We(n,r,G,K,l,$)}return;default:if(dl(r)){for(var Ze in a)K=a[Ze],a.hasOwnProperty(Ze)&&K!==void 0&&!l.hasOwnProperty(Ze)&&wm(n,r,Ze,void 0,l,K);for(J in l)K=l[J],$=a[J],!l.hasOwnProperty(J)||K===$||K===void 0&&$===void 0||wm(n,r,J,K,l,$);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&We(n,r,z,null,l,K);for(ne in l)K=l[ne],$=a[ne],!l.hasOwnProperty(ne)||K===$||K==null&&$==null||We(n,r,ne,K,l,$)}var Sm=null,Am=null;function ah(n){return n.nodeType===9?n:n.ownerDocument}function Hv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Rm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xm=null;function MS(){var n=window.event;return n&&n.type==="popstate"?n===xm?!1:(xm=n,!0):(xm=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,US=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(n){return Kv.resolve(null).then(n).catch(LS)}:Gv;function LS(n){setTimeout(function(){throw n})}function Kr(n){return n==="head"}function $v(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var T=n.ownerDocument;if(a&1&&Zl(T.documentElement),a&2&&Zl(T.body),a&4)for(a=T.head,Zl(a),T=a.firstChild;T;){var b=T.nextSibling,I=T.nodeName;T[Os]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(f===0){n.removeChild(d),au(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);au(r)}function Im(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Im(a),xr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function jS(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Os])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ei(n.nextSibling),n===null)break}return null}function zS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ei(n.nextSibling),n===null))return null;return n}function Cm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function BS(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ei(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Nm=null;function Yv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Qv(n,r,a){switch(r=ah(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Zl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);xr(n)}var Bn=new Map,Xv=new Set;function oh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var fr=le.d;le.d={f:qS,r:HS,D:FS,C:GS,L:KS,m:$S,X:QS,S:YS,M:XS};function qS(){var n=fr.f(),r=Zc();return n||r}function HS(n){var r=ui(n);r!==null&&r.tag===5&&r.type==="form"?g_(r):fr.r(n)}var yo=typeof document>"u"?null:document;function Wv(n,r,a){var l=yo;if(l&&typeof r=="string"&&r){var f=wt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Xv.has(f)||(Xv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Kt(r,"link",n),yt(r),l.head.appendChild(r)))}}function FS(n){fr.D(n),Wv("dns-prefetch",n,null)}function GS(n,r){fr.C(n,r),Wv("preconnect",n,r)}function KS(n,r,a){fr.L(n,r,a);var l=yo;if(l&&n&&r){var f='link[rel="preload"][as="'+wt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+wt(a.imageSizes)+'"]')):f+='[href="'+wt(n)+'"]';var d=f;switch(r){case"style":d=_o(n);break;case"script":d=vo(n)}Bn.has(d)||(n=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Bn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Jl(d))||r==="script"&&l.querySelector(eu(d))||(r=l.createElement("link"),Kt(r,"link",n),yt(r),l.head.appendChild(r)))}}function $S(n,r){fr.m(n,r);var a=yo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+wt(l)+'"][href="'+wt(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=vo(n)}if(!Bn.has(d)&&(n=E({rel:"modulepreload",href:n},r),Bn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(eu(d)))return}l=a.createElement("link"),Kt(l,"link",n),yt(l),a.head.appendChild(l)}}}function YS(n,r,a){fr.S(n,r,a);var l=yo;if(l&&n){var f=sn(l).hoistableStyles,d=_o(n);r=r||"default";var T=f.get(d);if(!T){var b={loading:0,preload:null};if(T=l.querySelector(Jl(d)))b.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Bn.get(d))&&Dm(n,a);var I=T=l.createElement("link");yt(I),Kt(I,"link",n),I._p=new Promise(function(G,J){I.onload=G,I.onerror=J}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,lh(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(d,T)}}}function QS(n,r){fr.X(n,r);var a=yo;if(a&&n){var l=sn(a).hoistableScripts,f=vo(n),d=l.get(f);d||(d=a.querySelector(eu(f)),d||(n=E({src:n,async:!0},r),(r=Bn.get(f))&&Om(n,r),d=a.createElement("script"),yt(d),Kt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function XS(n,r){fr.M(n,r);var a=yo;if(a&&n){var l=sn(a).hoistableScripts,f=vo(n),d=l.get(f);d||(d=a.querySelector(eu(f)),d||(n=E({src:n,async:!0,type:"module"},r),(r=Bn.get(f))&&Om(n,r),d=a.createElement("script"),yt(d),Kt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Zv(n,r,a,l){var f=(f=Se.current)?oh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=_o(a.href),a=sn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=_o(a.href);var d=sn(f).hoistableStyles,T=d.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,T),(d=f.querySelector(Jl(n)))&&!d._p&&(T.instance=d,T.state.loading=5),Bn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(n,a),d||WS(f,n,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=vo(a),a=sn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function _o(n){return'href="'+wt(n)+'"'}function Jl(n){return'link[rel="stylesheet"]['+n+"]"}function Jv(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function WS(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Kt(r,"link",a),yt(r),n.head.appendChild(r))}function vo(n){return'[src="'+wt(n)+'"]'}function eu(n){return"script[async]"+n}function eE(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+wt(a.href)+'"]');if(l)return r.instance=l,yt(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),yt(l),Kt(l,"style",f),lh(l,a.precedence,n),r.instance=l;case"stylesheet":f=_o(a.href);var d=n.querySelector(Jl(f));if(d)return r.state.loading|=4,r.instance=d,yt(d),d;l=Jv(a),(f=Bn.get(f))&&Dm(l,f),d=(n.ownerDocument||n).createElement("link"),yt(d);var T=d;return T._p=new Promise(function(b,I){T.onload=b,T.onerror=I}),Kt(d,"link",l),r.state.loading|=4,lh(d,a.precedence,n),r.instance=d;case"script":return d=vo(a.src),(f=n.querySelector(eu(d)))?(r.instance=f,yt(f),f):(l=a,(f=Bn.get(d))&&(l=E({},a),Om(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),yt(f),Kt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,lh(l,a.precedence,n));return r.instance}function lh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Dm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Om(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var uh=null;function tE(n,r,a){if(uh===null){var l=new Map,f=uh=new Map;f.set(a,l)}else f=uh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Os]||d[Ct]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(r)||"";T=n+T;var b=l.get(T);b?b.push(d):l.set(T,[d])}}return l}function nE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function ZS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function iE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var tu=null;function JS(){}function eA(n,r,a){if(tu===null)throw Error(s(475));var l=tu;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=_o(a.href),d=n.querySelector(Jl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=ch.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,yt(d);return}d=n.ownerDocument||n,a=Jv(a),(f=Bn.get(f))&&Dm(a,f),d=d.createElement("link"),yt(d);var T=d;T._p=new Promise(function(b,I){T.onload=b,T.onerror=I}),Kt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=ch.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function tA(){if(tu===null)throw Error(s(475));var n=tu;return n.stylesheets&&n.count===0&&km(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&km(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function ch(){if(this.count--,this.count===0){if(this.stylesheets)km(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hh=null;function km(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hh=new Map,r.forEach(nA,n),hh=null,ch.call(n))}function nA(n,r){if(!(r.state.loading&4)){var a=hh.get(n);if(a)var l=a.get(null);else{a=new Map,hh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var T=f[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),d=a.get(T)||l,d===l&&a.set(null,f),a.set(T,f),this.count++,l=ch.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var nu={$$typeof:X,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function iA(n,r,a,l,f,d,T,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.hiddenUpdates=qi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function rE(n,r,a,l,f,d,T,b,I,G,J,ne){return n=new iA(n,r,a,T,b,I,G,ne),r=1,d===!0&&(r|=24),d=bn(3,null,null,r),n.current=d,d.stateNode=n,r=md(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},_d(d),n}function sE(n){return n?(n=Qa,n):Qa}function aE(n,r,a,l,f,d){f=sE(f),l.context===null?l.context=f:l.pendingContext=f,l=kr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Pr(n,l,r),a!==null&&(xn(a,n,r),Ol(a,n,r))}function oE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Pm(n,r){oE(n,r),(n=n.alternate)&&oE(n,r)}function lE(n){if(n.tag===13){var r=Ya(n,67108864);r!==null&&xn(r,n,67108864),Pm(n,67108864)}}var fh=!0;function rA(n,r,a,l){var f=Y.T;Y.T=null;var d=le.p;try{le.p=2,Mm(n,r,a,l)}finally{le.p=d,Y.T=f}}function sA(n,r,a,l){var f=Y.T;Y.T=null;var d=le.p;try{le.p=8,Mm(n,r,a,l)}finally{le.p=d,Y.T=f}}function Mm(n,r,a,l){if(fh){var f=Vm(l);if(f===null)bm(n,r,l,dh,a),cE(n,l);else if(oA(f,n,r,a,l))l.stopPropagation();else if(cE(n,l),r&4&&-1<aA.indexOf(n)){for(;f!==null;){var d=ui(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=Qn(d.pendingLanes);if(T!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var I=1<<31-Wt(T);b.entanglements[1]|=I,T&=~I}wi(d),($e&6)===0&&(Xc=Cn()+500,Ql(0))}}break;case 13:b=Ya(d,2),b!==null&&xn(b,d,2),Zc(),Pm(d,2)}if(d=Vm(l),d===null&&bm(n,r,l,dh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else bm(n,r,l,null,a)}}function Vm(n){return n=On(n),Um(n)}var dh=null;function Um(n){if(dh=null,n=Fi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return dh=n,null}function uE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zf()){case el:return 2;case xa:return 8;case xs:case Bf:return 32;case Ia:return 268435456;default:return 32}default:return 32}}var Lm=!1,$r=null,Yr=null,Qr=null,iu=new Map,ru=new Map,Xr=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cE(n,r){switch(n){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":iu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(r.pointerId)}}function su(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ui(r),r!==null&&lE(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function oA(n,r,a,l,f){switch(r){case"focusin":return $r=su($r,n,r,a,l,f),!0;case"dragenter":return Yr=su(Yr,n,r,a,l,f),!0;case"mouseover":return Qr=su(Qr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return iu.set(d,su(iu.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,ru.set(d,su(ru.get(d)||null,n,r,a,l,f)),!0}return!1}function hE(n){var r=Fi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Zu(n.priority,function(){if(a.tag===13){var l=Rn();l=Sr(l);var f=Ya(a,l);f!==null&&xn(f,a,l),Pm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Vm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Yi=l,a.target.dispatchEvent(l),Yi=null}else return r=ui(a),r!==null&&lE(r),n.blockedOn=a,!1;r.shift()}return!0}function fE(n,r,a){mh(n)&&a.delete(r)}function lA(){Lm=!1,$r!==null&&mh($r)&&($r=null),Yr!==null&&mh(Yr)&&(Yr=null),Qr!==null&&mh(Qr)&&(Qr=null),iu.forEach(fE),ru.forEach(fE)}function ph(n,r){n.blockedOn===r&&(n.blockedOn=null,Lm||(Lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,lA)))}var gh=null;function dE(n){gh!==n&&(gh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gh===n&&(gh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(Um(l||a)===null)continue;break}var d=ui(a);d!==null&&(n.splice(r,3),r-=3,Ud(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function au(n){function r(I){return ph(I,n)}$r!==null&&ph($r,n),Yr!==null&&ph(Yr,n),Qr!==null&&ph(Qr,n),iu.forEach(r),ru.forEach(r);for(var a=0;a<Xr.length;a++){var l=Xr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)hE(a),a.blockedOn===null&&Xr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],T=f[bt]||null;if(typeof d=="function")T||dE(a);else if(T){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,T=d[bt]||null)b=T.formAction;else if(Um(f)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),dE(a)}}}function jm(n){this._internalRoot=n}yh.prototype.render=jm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Rn();aE(a,l,n,r,null,null)},yh.prototype.unmount=jm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;aE(n.current,2,null,n,null,null),Zc(),r[Nn]=null}};function yh(n){this._internalRoot=n}yh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ar();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Xr.length&&r!==0&&r<Xr[a].priority;a++);Xr.splice(a,0,n),a===0&&hE(n)}};var mE=e.version;if(mE!=="19.1.1")throw Error(s(527,mE,"19.1.1"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var uA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{mt=_h.inject(uA),Ke=_h}catch{}}return lu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=N_,d=D_,T=O_,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=rE(n,1,!1,null,null,a,l,f,d,T,b,null),n[Nn]=r.current,Tm(n),new jm(r)},lu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=N_,T=D_,b=O_,I=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),r=rE(n,1,!0,r,a??null,l,f,d,T,b,I,G),r.context=sE(null),a=r.current,l=Rn(),l=Sr(l),f=kr(l),f.callback=null,Pr(a,f,l),a=l,r.current.lanes=a,Hi(r,a),wi(r),n[Nn]=r.current,Tm(n),new yh(r)},lu.version="19.1.1",lu}var SE;function _A(){if(SE)return qm.exports;SE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),qm.exports=yA(),qm.exports}var vA=_A();const EA=T0(vA);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var AE="popstate";function TA(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=Ea(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),cp("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Su(u))}function s(o,u){Kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return wA(e,t,s,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Kn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bA(){return Math.random().toString(36).substring(2,10)}function RE(i,e){return{usr:i.state,key:i.key,idx:e}}function cp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ea(e):e,state:t,key:e&&e.key||s||bA()}}function Su({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Ea(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function wA(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function w(){m="POP";let U=E(),q=U==null?null:U-g;g=U,p&&p({action:m,location:B.location,delta:q})}function A(U,q){m="PUSH";let Z=cp(B.location,U,q);t&&t(Z,U),g=E()+1;let X=RE(Z,g),W=B.createHref(Z);try{h.pushState(X,"",W)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(W)}u&&p&&p({action:m,location:B.location,delta:1})}function M(U,q){m="REPLACE";let Z=cp(B.location,U,q);t&&t(Z,U),g=E();let X=RE(Z,g),W=B.createHref(Z);h.replaceState(X,"",W),u&&p&&p({action:m,location:B.location,delta:0})}function L(U){return SA(U)}let B={get action(){return m},get location(){return i(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(AE,w),p=U,()=>{o.removeEventListener(AE,w),p=null}},createHref(U){return e(o,U)},createURL:L,encodeLocation(U){let q=L(U);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:M,go(U){return h.go(U)}};return B}function SA(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ht(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Su(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function w0(i,e,t="/"){return AA(i,e,t,!1)}function AA(i,e,t,s){let o=typeof e=="string"?Ea(e):e,u=yr(o.pathname||"/",t);if(u==null)return null;let h=S0(i);RA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=UA(u);m=MA(h[p],g,s)}return m}function S0(i,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ht(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=gr([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),S0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:kA(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of A0(u.path))o(u,h,m)}),e}function A0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=A0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function RA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:PA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var xA=/^:[\w-]+$/,IA=3,CA=2,NA=1,DA=10,OA=-2,xE=i=>i==="*";function kA(i,e){let t=i.split("/"),s=t.length;return t.some(xE)&&(s+=OA),e&&(s+=CA),t.filter(o=>!xE(o)).reduce((o,u)=>o+(xA.test(u)?IA:u===""?NA:DA),s)}function PA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function MA(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=zh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&t&&!s[s.length-1].route.index&&(w=zh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:gr([u,w.pathname]),pathnameBase:BA(gr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=gr([u,w.pathnameBase]))}return h}function zh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=VA(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let L=m[A]||"";h=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const M=m[A];return w&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function VA(i,e=!1,t=!0){Kn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function UA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function yr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function LA(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Ea(i):i;return{pathname:t?t.startsWith("/")?t:jA(t,e):e,search:qA(s),hash:HA(o)}}function jA(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Km(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zA(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function R0(i){let e=zA(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function x0(i,e,t,s=!1){let o;typeof i=="string"?o=Ea(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),Km("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Km("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Km("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let w=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=LA(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var gr=i=>i.join("/").replace(/\/\/+/g,"/"),BA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),qA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,HA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function FA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var I0=["POST","PUT","PATCH","DELETE"];new Set(I0);var GA=["GET",...I0];new Set(GA);var Ho=D.createContext(null);Ho.displayName="DataRouter";var cf=D.createContext(null);cf.displayName="DataRouterState";D.createContext(!1);var C0=D.createContext({isTransitioning:!1});C0.displayName="ViewTransition";var KA=D.createContext(new Map);KA.displayName="Fetchers";var $A=D.createContext(null);$A.displayName="Await";var ji=D.createContext(null);ji.displayName="Navigation";var Pu=D.createContext(null);Pu.displayName="Location";var si=D.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var qp=D.createContext(null);qp.displayName="RouteError";function YA(i,{relative:e}={}){ht(Mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=D.useContext(ji),{hash:o,pathname:u,search:h}=Vu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:gr([t,u])),s.createHref({pathname:m,search:h,hash:o})}function Mu(){return D.useContext(Pu)!=null}function ai(){return ht(Mu(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Pu).location}var N0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D0(i){D.useContext(ji).static||D.useLayoutEffect(i)}function hf(){let{isDataRoute:i}=D.useContext(si);return i?cR():QA()}function QA(){ht(Mu(),"useNavigate() may be used only in the context of a <Router> component.");let i=D.useContext(Ho),{basename:e,navigator:t}=D.useContext(ji),{matches:s}=D.useContext(si),{pathname:o}=ai(),u=JSON.stringify(R0(s)),h=D.useRef(!1);return D0(()=>{h.current=!0}),D.useCallback((p,g={})=>{if(Kn(h.current,N0),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=x0(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:gr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}var XA=D.createContext(null);function WA(i){let e=D.useContext(si).outlet;return e&&D.createElement(XA.Provider,{value:i},e)}function ZA(){let{matches:i}=D.useContext(si),e=i[i.length-1];return e?e.params:{}}function Vu(i,{relative:e}={}){let{matches:t}=D.useContext(si),{pathname:s}=ai(),o=JSON.stringify(R0(t));return D.useMemo(()=>x0(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function JA(i,e){return O0(i,e)}function O0(i,e,t,s){ht(Mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=D.useContext(ji),{matches:u}=D.useContext(si),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",E=h&&h.route;{let q=E&&E.path||"";k0(p,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let w=ai(),A;if(e){let q=typeof e=="string"?Ea(e):e;ht(g==="/"||q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${q.pathname}" was given in the \`location\` prop.`),A=q}else A=w;let M=A.pathname||"/",L=M;if(g!=="/"){let q=g.replace(/^\//,"").split("/");L="/"+M.replace(/^\//,"").split("/").slice(q.length).join("/")}let B=w0(i,{pathname:L});Kn(E||B!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Kn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=rR(B&&B.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:gr([g,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?g:gr([g,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),u,t,s);return e&&U?D.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},U):U}function eR(){let i=uR(),e=FA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:u},"ErrorBoundary")," or"," ",D.createElement("code",{style:u},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:o},t):null,h)}var tR=D.createElement(eR,null),nR=class extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?D.createElement(si.Provider,{value:this.props.routeContext},D.createElement(qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iR({routeContext:i,match:e,children:t}){let s=D.useContext(Ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(si.Provider,{value:i},t)}function rR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);ht(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=t,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||A){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,A=!1,M=null,L=null;t&&(w=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||tR,h&&(m<0&&E===0?(k0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,L=null):m===E&&(A=!0,L=g.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,E+1)),U=()=>{let q;return w?q=M:A?q=L:g.route.Component?q=D.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=p,D.createElement(iR,{match:g,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?D.createElement(nR,{location:t.location,revalidation:t.revalidation,component:M,error:w,children:U(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):U()},null)}function Hp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sR(i){let e=D.useContext(Ho);return ht(e,Hp(i)),e}function aR(i){let e=D.useContext(cf);return ht(e,Hp(i)),e}function oR(i){let e=D.useContext(si);return ht(e,Hp(i)),e}function Fp(i){let e=oR(i),t=e.matches[e.matches.length-1];return ht(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function lR(){return Fp("useRouteId")}function uR(){let i=D.useContext(qp),e=aR("useRouteError"),t=Fp("useRouteError");return i!==void 0?i:e.errors?.[t]}function cR(){let{router:i}=sR("useNavigate"),e=Fp("useNavigate"),t=D.useRef(!1);return D0(()=>{t.current=!0}),D.useCallback(async(o,u={})=>{Kn(t.current,N0),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var IE={};function k0(i,e,t){!e&&!IE[i]&&(IE[i]=!0,Kn(!1,t))}D.memo(hR);function hR({routes:i,future:e,state:t}){return O0(i,void 0,t,e)}function fR(i){return WA(i.context)}function ti(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ht(!Mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Ea(t));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:A="default"}=t,M=D.useMemo(()=>{let L=yr(p,h);return L==null?null:{location:{pathname:L,search:g,hash:E,state:w,key:A},navigationType:s}},[h,p,g,E,w,A,s]);return Kn(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:D.createElement(ji.Provider,{value:m},D.createElement(Pu.Provider,{children:e,value:M}))}function mR({children:i,location:e}){return JA(hp(i),e)}function hp(i,e=[]){let t=[];return D.Children.forEach(i,(s,o)=>{if(!D.isValidElement(s))return;let u=[...e,o];if(s.type===D.Fragment){t.push.apply(t,hp(s.props.children,u));return}ht(s.type===ti,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=hp(s.props.children,u)),t.push(h)}),t}var Ih="get",Ch="application/x-www-form-urlencoded";function ff(i){return i!=null&&typeof i.tagName=="string"}function pR(i){return ff(i)&&i.tagName.toLowerCase()==="button"}function gR(i){return ff(i)&&i.tagName.toLowerCase()==="form"}function yR(i){return ff(i)&&i.tagName.toLowerCase()==="input"}function _R(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function vR(i,e){return i.button===0&&(!e||e==="_self")&&!_R(i)}function fp(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,t)=>{let s=i[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function ER(i,e){let t=fp(i);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(u=>{t.append(o,u)})}),t}var vh=null;function TR(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var bR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(i){return i!=null&&!bR.has(i)?(Kn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ch}"`),null):i}function wR(i,e){let t,s,o,u,h;if(gR(i)){let m=i.getAttribute("action");s=m?yr(m,e):null,t=i.getAttribute("method")||Ih,o=$m(i.getAttribute("enctype"))||Ch,u=new FormData(i)}else if(pR(i)||yR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?yr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Ih,o=$m(i.getAttribute("formenctype"))||$m(m.getAttribute("enctype"))||Ch,u=new FormData(m,i),!TR()){let{name:g,type:E,value:w}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(ff(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ih,s=null,o=Ch,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function SR(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&yr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function AR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function xR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await AR(u,t);return h.links?h.links():[]}return[]}));return DR(s.flat(1).filter(RR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function CE(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function IR(i,e,{includeHydrateFallback:t}={}){return CR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function CR(i){return[...new Set(i)]}function NR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function DR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(NR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function P0(){let i=D.useContext(Ho);return Gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function OR(){let i=D.useContext(cf);return Gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Kp=D.createContext(void 0);Kp.displayName="FrameworkContext";function M0(){let i=D.useContext(Kp);return Gp(i,"You must render this element inside a <HydratedRouter> element"),i}function kR(i,e){let t=D.useContext(Kp),[s,o]=D.useState(!1),[u,h]=D.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,A=D.useRef(null);D.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=q=>{q.forEach(Z=>{h(Z.isIntersecting)})},U=new IntersectionObserver(B,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[i]),D.useEffect(()=>{if(s){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[s]);let M=()=>{o(!0)},L=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,A,{}]:[u,A,{onFocus:uu(m,M),onBlur:uu(p,L),onMouseEnter:uu(g,M),onMouseLeave:uu(E,L),onTouchStart:uu(w,M)}]:[!1,A,{}]}function uu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function PR({page:i,...e}){let{router:t}=P0(),s=D.useMemo(()=>w0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?D.createElement(VR,{page:i,matches:s,...e}):null}function MR(i){let{manifest:e,routeModules:t}=M0(),[s,o]=D.useState([]);return D.useEffect(()=>{let u=!1;return xR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function VR({page:i,matches:e,...t}){let s=ai(),{manifest:o,routeModules:u}=M0(),{basename:h}=P0(),{loaderData:m,matches:p}=OR(),g=D.useMemo(()=>CE(i,e,p,o,s,"data"),[i,e,p,o,s]),E=D.useMemo(()=>CE(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=D.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let L=new Set,B=!1;if(e.forEach(q=>{let Z=o.routes[q.route.id];!Z||!Z.hasLoader||(!g.some(X=>X.route.id===q.route.id)&&q.route.id in m&&u[q.route.id]?.shouldRevalidate||Z.hasClientLoader?B=!0:L.add(q.route.id))}),L.size===0)return[];let U=SR(i,h,"data");return B&&L.size>0&&U.searchParams.set("_routes",e.filter(q=>L.has(q.route.id)).map(q=>q.route.id).join(",")),[U.pathname+U.search]},[h,m,s,o,g,e,i,u]),A=D.useMemo(()=>IR(E,o),[E,o]),M=MR(E);return D.createElement(D.Fragment,null,w.map(L=>D.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),A.map(L=>D.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),M.map(({key:L,link:B})=>D.createElement("link",{key:L,nonce:t.nonce,...B})))}function UR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var V0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V0&&(window.__reactRouterVersion="7.8.0")}catch{}function LR({basename:i,children:e,window:t}){let s=D.useRef();s.current==null&&(s.current=TA({window:t,v5Compat:!0}));let o=s.current,[u,h]=D.useState({action:o.action,location:o.location}),m=D.useCallback(p=>{D.startTransition(()=>h(p))},[h]);return D.useLayoutEffect(()=>o.listen(m),[o,m]),D.createElement(dR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var U0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fe=D.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...A},M){let{basename:L}=D.useContext(ji),B=typeof g=="string"&&U0.test(g),U,q=!1;if(typeof g=="string"&&B&&(U=g,V0))try{let x=new URL(window.location.href),k=g.startsWith("//")?new URL(x.protocol+g):new URL(g),V=yr(k.pathname,L);k.origin===x.origin&&V!=null?g=V+k.search+k.hash:q=!0}catch{Kn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=YA(g,{relative:o}),[X,W,re]=kR(s,A),ce=qR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function N(x){e&&e(x),x.defaultPrevented||ce(x)}let R=D.createElement("a",{...A,...re,href:U||Z,onClick:q||u?e:N,ref:UR(M,W),target:p,"data-discover":!B&&t==="render"?"true":void 0});return X&&!B?D.createElement(D.Fragment,null,R,D.createElement(PR,{page:Z})):R});Fe.displayName="Link";var jR=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let w=Vu(h,{relative:g.relative}),A=ai(),M=D.useContext(cf),{navigator:L,basename:B}=D.useContext(ji),U=M!=null&&YR(w)&&m===!0,q=L.encodeLocation?L.encodeLocation(w).pathname:w.pathname,Z=A.pathname,X=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),X=X?X.toLowerCase():null,q=q.toLowerCase()),X&&B&&(X=yr(X,B)||X);const W=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let re=Z===q||!o&&Z.startsWith(q)&&Z.charAt(W)==="/",ce=X!=null&&(X===q||!o&&X.startsWith(q)&&X.charAt(q.length)==="/"),N={isActive:re,isPending:ce,isTransitioning:U},R=re?e:void 0,x;typeof s=="function"?x=s(N):x=[s,re?"active":null,ce?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(N):u;return D.createElement(Fe,{...g,"aria-current":R,className:x,ref:E,style:k,to:h,viewTransition:m},typeof p=="function"?p(N):p)});jR.displayName="NavLink";var zR=D.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=Ih,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...A},M)=>{let L=KR(),B=$R(m,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&U0.test(m),Z=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let W=X.nativeEvent.submitter,re=W?.getAttribute("formmethod")||h;L(W||X.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return D.createElement("form",{ref:M,method:U,action:B,onSubmit:s?p:Z,...A,"data-discover":!q&&i==="render"?"true":void 0})});zR.displayName="Form";function BR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L0(i){let e=D.useContext(Ho);return ht(e,BR(i)),e}function qR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=hf(),p=ai(),g=Vu(i,{relative:u});return D.useCallback(E=>{if(vR(E,e)){E.preventDefault();let w=t!==void 0?t:Su(p)===Su(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,i,o,u,h])}function HR(i){Kn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(fp(i)),t=D.useRef(!1),s=ai(),o=D.useMemo(()=>ER(s.search,t.current?null:e.current),[s.search]),u=hf(),h=D.useCallback((m,p)=>{const g=fp(typeof m=="function"?m(new URLSearchParams(o)):m);t.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var FR=0,GR=()=>`__${String(++FR)}__`;function KR(){let{router:i}=L0("useSubmit"),{basename:e}=D.useContext(ji),t=lR();return D.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=wR(s,e);if(o.navigate===!1){let E=o.fetcherKey||GR();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function $R(i,{relative:e}={}){let{basename:t}=D.useContext(ji),s=D.useContext(si);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Vu(i||".",{relative:e})},h=ai();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:gr([t,u.pathname])),Su(u)}function YR(i,{relative:e}={}){let t=D.useContext(C0);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=L0("useViewTransitionState"),o=Vu(i,{relative:e});if(!t.isTransitioning)return!1;let u=yr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=yr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return zh(o.pathname,h)!=null||zh(o.pathname,u)!=null}var QR=b0();const XR=()=>{};var NE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},WR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(A=64)),s.push(t[E],t[w],t[A],t[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(j0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):WR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const w=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new ZR;const A=u<<2|m>>4;if(s.push(A),g!==64){const M=m<<4&240|g>>2;if(s.push(M),w!==64){const L=g<<6&192|w;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ZR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JR=function(i){const e=j0(i);return z0.encodeByteArray(e,!0)},Bh=function(i){return JR(i).replace(/\./g,"")},B0=function(i){try{return z0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=()=>ex().__FIREBASE_DEFAULTS__,nx=()=>{if(typeof process>"u"||typeof NE>"u")return;const i=NE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ix=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&B0(i[1]);return e&&JSON.parse(e)},df=()=>{try{return XR()||tx()||nx()||ix()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},q0=i=>df()?.emulatorHosts?.[i],H0=i=>{const e=q0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},F0=()=>df()?.config,G0=i=>df()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $p(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Bh(JSON.stringify(t)),Bh(JSON.stringify(h)),""].join(".")}const yu={};function sx(){const i={prod:[],emulator:[]};for(const e of Object.keys(yu))yu[e]?i.emulator.push(e):i.prod.push(e);return i}function ax(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let DE=!1;function Yp(i,e){if(typeof window>"u"||typeof document>"u"||!_s(window.location.host)||yu[i]===e||yu[i]||DE)return;yu[i]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=sx().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{DE=!0,h()},A}function E(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=ax(s),M=t("text"),L=document.getElementById(M)||document.createElement("span"),B=t("learnmore"),U=document.getElementById(B)||document.createElement("a"),q=t("preprendIcon"),Z=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const X=A.element;m(X),E(U,B);const W=g();p(Z,q),X.append(Z,L,U,W),document.body.appendChild(X)}u?(L.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ox(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function lx(){const i=df()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ux(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cx(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function hx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fx(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function dx(){return!lx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mx(){try{return typeof indexedDB=="object"}catch{return!1}}function px(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="FirebaseError";class zi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=gx,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?yx(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new zi(o,m,s)}}function yx(i,e){return i.replace(_x,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const _x=/\{\$([^}]+)}/g;function vx(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function _r(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(OE(u)&&OE(h)){if(!_r(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function OE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function fu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function Ex(i,e){const t=new Tx(i,e);return t.subscribe.bind(t)}class Tx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");bx(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Ym),o.error===void 0&&(o.error=Ym),o.complete===void 0&&(o.complete=Ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bx(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(i){return i&&i._delegate?i._delegate:i}class hs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new rx;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ax(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Sx(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sx(i){return i===oa?void 0:i}function Ax(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const xx={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Ix=Pe.INFO,Cx={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Nx=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=Cx[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qp{constructor(e){this.name=e,this._logLevel=Ix,this._logHandler=Nx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Dx=(i,e)=>e.some(t=>i instanceof t);let kE,PE;function Ox(){return kE||(kE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kx(){return PE||(PE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $0=new WeakMap,dp=new WeakMap,Y0=new WeakMap,Qm=new WeakMap,Xp=new WeakMap;function Px(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(as(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&$0.set(t,i)}).catch(()=>{}),Xp.set(e,i),e}function Mx(i){if(dp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});dp.set(i,e)}let mp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return dp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Y0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return as(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Vx(i){mp=i(mp)}function Ux(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Xm(this),e,...t);return Y0.set(s,e.sort?e.sort():[e]),as(s)}:kx().includes(i)?function(...e){return i.apply(Xm(this),e),as($0.get(this))}:function(...e){return as(i.apply(Xm(this),e))}}function Lx(i){return typeof i=="function"?Ux(i):(i instanceof IDBTransaction&&Mx(i),Dx(i,Ox())?new Proxy(i,mp):i)}function as(i){if(i instanceof IDBRequest)return Px(i);if(Qm.has(i))return Qm.get(i);const e=Lx(i);return e!==i&&(Qm.set(i,e),Xp.set(e,i)),e}const Xm=i=>Xp.get(i);function jx(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=as(h);return s&&h.addEventListener("upgradeneeded",p=>{s(as(h.result),p.oldVersion,p.newVersion,as(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const zx=["get","getKey","getAll","getAllKeys","count"],Bx=["put","add","delete","clear"],Wm=new Map;function ME(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Bx.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||zx.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Wm.set(e,u),u}Vx(i=>({...i,get:(e,t,s)=>ME(e,t)||i.get(e,t,s),has:(e,t)=>!!ME(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Hx(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Hx(i){return i.getComponent()?.type==="VERSION"}const pp="@firebase/app",VE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new Qp("@firebase/app"),Fx="@firebase/app-compat",Gx="@firebase/analytics-compat",Kx="@firebase/analytics",$x="@firebase/app-check-compat",Yx="@firebase/app-check",Qx="@firebase/auth",Xx="@firebase/auth-compat",Wx="@firebase/database",Zx="@firebase/data-connect",Jx="@firebase/database-compat",e2="@firebase/functions",t2="@firebase/functions-compat",n2="@firebase/installations",i2="@firebase/installations-compat",r2="@firebase/messaging",s2="@firebase/messaging-compat",a2="@firebase/performance",o2="@firebase/performance-compat",l2="@firebase/remote-config",u2="@firebase/remote-config-compat",c2="@firebase/storage",h2="@firebase/storage-compat",f2="@firebase/firestore",d2="@firebase/ai",m2="@firebase/firestore-compat",p2="firebase",g2="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",y2={[pp]:"fire-core",[Fx]:"fire-core-compat",[Kx]:"fire-analytics",[Gx]:"fire-analytics-compat",[Yx]:"fire-app-check",[$x]:"fire-app-check-compat",[Qx]:"fire-auth",[Xx]:"fire-auth-compat",[Wx]:"fire-rtdb",[Zx]:"fire-data-connect",[Jx]:"fire-rtdb-compat",[e2]:"fire-fn",[t2]:"fire-fn-compat",[n2]:"fire-iid",[i2]:"fire-iid-compat",[r2]:"fire-fcm",[s2]:"fire-fcm-compat",[a2]:"fire-perf",[o2]:"fire-perf-compat",[l2]:"fire-rc",[u2]:"fire-rc-compat",[c2]:"fire-gcs",[h2]:"fire-gcs-compat",[f2]:"fire-fst",[m2]:"fire-fst-compat",[d2]:"fire-vertex","fire-js":"fire-js",[p2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,_2=new Map,yp=new Map;function UE(i,e){try{i.container.addComponent(e)}catch(t){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function da(i){const e=i.name;if(yp.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,i);for(const t of qh.values())UE(t,i);for(const t of _2.values())UE(t,i);return!0}function mf(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function qn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new Uu("app","Firebase",v2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=g2;function Q0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:gp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(t||(t=F0()),!t)throw os.create("no-options");const u=qh.get(o);if(u){if(_r(t,u.options)&&_r(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const h=new Rx(o);for(const p of yp.values())h.addComponent(p);const m=new E2(t,s,h);return qh.set(o,m),m}function Wp(i=gp){const e=qh.get(i);if(!e&&i===gp&&F0())return Q0();if(!e)throw os.create("no-app",{appName:i});return e}function Ri(i,e,t){let s=y2[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(h.join(" "));return}da(new hs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="firebase-heartbeat-database",b2=1,Au="firebase-heartbeat-store";let Zm=null;function X0(){return Zm||(Zm=jx(T2,b2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Au)}catch(t){console.warn(t)}}}}).catch(i=>{throw os.create("idb-open",{originalErrorMessage:i.message})})),Zm}async function w2(i){try{const t=(await X0()).transaction(Au),s=await t.objectStore(Au).get(W0(i));return await t.done,s}catch(e){if(e instanceof zi)vr.warn(e.message);else{const t=os.create("idb-get",{originalErrorMessage:e?.message});vr.warn(t.message)}}}async function LE(i,e){try{const s=(await X0()).transaction(Au,"readwrite");await s.objectStore(Au).put(e,W0(i)),await s.done}catch(t){if(t instanceof zi)vr.warn(t.message);else{const s=os.create("idb-set",{originalErrorMessage:t?.message});vr.warn(s.message)}}}function W0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=1024,A2=30;class R2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new I2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>A2){const o=C2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jE(),{heartbeatsToSend:t,unsentEntries:s}=x2(this._heartbeatsCache.heartbeats),o=Bh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vr.warn(e),""}}}function jE(){return new Date().toISOString().substring(0,10)}function x2(i,e=S2){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),zE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),zE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class I2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mx()?px().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await w2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return LE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return LE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zE(i){return Bh(JSON.stringify({version:2,heartbeats:i})).length}function C2(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(i){da(new hs("platform-logger",e=>new qx(e),"PRIVATE")),da(new hs("heartbeat",e=>new R2(e),"PRIVATE")),Ri(pp,VE,i),Ri(pp,VE,"esm2020"),Ri("fire-js","")}N2("");var D2="firebase",O2="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(D2,O2,"app");function Z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k2=Z0,J0=new Uu("auth","Firebase",Z0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Qp("@firebase/auth");function P2(i,...e){Hh.logLevel<=Pe.WARN&&Hh.warn(`Auth (${Ta}): ${i}`,...e)}function Nh(i,...e){Hh.logLevel<=Pe.ERROR&&Hh.error(`Auth (${Ta}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(i,...e){throw Zp(i,...e)}function xi(i,...e){return Zp(i,...e)}function eb(i,e,t){const s={...k2(),[e]:t};return new Uu("auth","Firebase",s).create(e,{appName:i.name})}function ls(i){return eb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return J0.create(i,...e)}function Te(i,e,...t){if(!i)throw Zp(e,...t)}function mr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Nh(e),new Error(e)}function Er(i,e){i||mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(){return typeof self<"u"&&self.location?.href||""}function M2(){return BE()==="http:"||BE()==="https:"}function BE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M2()||cx()||"connection"in navigator)?navigator.onLine:!0}function U2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t){this.shortDelay=e,this.longDelay=t,Er(t>e,"Short delay should be less than long delay!"),this.isMobile=ox()||hx()}get(){return V2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i,e){Er(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z2=new ju(3e4,6e4);function ba(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function vs(i,e,t,s,o={}){return nb(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Lu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return ux()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&_s(i.emulatorConfig.host)&&(g.credentials="include"),tb.fetch()(await ib(i,i.config.apiHost,t,m),g)})}async function nb(i,e,t){i._canInitEmulator=!1;const s={...L2,...e};try{const o=new q2(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Eh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Eh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Eh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw eb(i,E,g);ii(i,E)}}catch(o){if(o instanceof zi)throw o;ii(i,"network-request-failed",{message:String(o)})}}async function pf(i,e,t,s,o={}){const u=await vs(i,e,t,s,o);return"mfaPendingCredential"in u&&ii(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function ib(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?Jp(i.config,o):`${i.config.apiScheme}://${o}`;return j2.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function B2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class q2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(xi(this.auth,"network-request-failed")),z2.get())})}}function Eh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=xi(i,e,s);return o.customData._tokenResponse=t,o}function qE(i){return i!==void 0&&i.enterprise!==void 0}class H2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return B2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F2(i,e){return vs(i,"GET","/v2/recaptchaConfig",ba(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(i,e){return vs(i,"POST","/v1/accounts:delete",e)}async function Fh(i,e){return vs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function K2(i,e=!1){const t=rt(i),s=await t.getIdToken(e),o=eg(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:_u(Jm(o.auth_time)),issuedAtTime:_u(Jm(o.iat)),expirationTime:_u(Jm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Jm(i){return Number(i)*1e3}function eg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{const o=B0(t);return o?JSON.parse(o):(Nh("Failed to decode base64 JWT payload"),null)}catch(o){return Nh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function HE(i){const e=eg(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof zi&&$2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function $2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(i){const e=i.auth,t=await i.getIdToken(),s=await Ru(i,Fh(e,{idToken:t}));Te(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?rb(o.providerUserInfo):[],h=X2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function Q2(i){const e=rt(i);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function X2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function rb(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(i,e){const t=await nb(i,{},async()=>{const s=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await ib(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&_s(i.emulatorConfig.host)&&(p.credentials="include"),tb.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Z2(i,e){return vs(i,"POST","/v2/accounts:revokeToken",ba(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=HE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await W2(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new Ro;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ru(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return K2(this,e)}reload(){return Q2(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await Ru(this,G2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:M,providerData:L,stsTokenManager:B}=t;Te(w&&B,e,"internal-error");const U=Ro.fromJSON(this.name,B);Te(typeof w=="string",e,"internal-error"),Zr(s,e.name),Zr(o,e.name),Te(typeof A=="boolean",e,"internal-error"),Te(typeof M=="boolean",e,"internal-error"),Zr(u,e.name),Zr(h,e.name),Zr(m,e.name),Zr(p,e.name),Zr(g,e.name),Zr(E,e.name);const q=new ni({uid:w,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:E});return L&&Array.isArray(L)&&(q.providerData=L.map(Z=>({...Z}))),p&&(q._redirectEventId=p),q}static async _fromIdTokenResponse(e,t,s=!1){const o=new Ro;o.updateFromServerResponse(t);const u=new ni({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Gh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?rb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Ro;m.updateFromIdToken(s);const p=new ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;function pr(i){Er(i instanceof Function,"Expected a class definition");let e=FE.get(i);return e?(Er(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,FE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sb.type="NONE";const GE=sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(i,e,t){return`firebase:${i}:${e}:${t}`}class xo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Dh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fh(this.auth,{idToken:e}).catch(()=>{});return t?ni._fromGetAccountInfoResponse(this.auth,t,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new xo(pr(GE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||pr(GE);const h=Dh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(h);if(E){let w;if(typeof E=="string"){const A=await Fh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await ni._fromGetAccountInfoResponse(e,A,E)}else w=ni._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new xo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new xo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ub(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ab(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hb(e))return"Blackberry";if(fb(e))return"Webos";if(ob(e))return"Safari";if((e.includes("chrome/")||lb(e))&&!e.includes("edge/"))return"Chrome";if(cb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function ab(i=rn()){return/firefox\//i.test(i)}function ob(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lb(i=rn()){return/crios\//i.test(i)}function ub(i=rn()){return/iemobile/i.test(i)}function cb(i=rn()){return/android/i.test(i)}function hb(i=rn()){return/blackberry/i.test(i)}function fb(i=rn()){return/webos/i.test(i)}function tg(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function J2(i=rn()){return tg(i)&&!!window.navigator?.standalone}function eI(){return fx()&&document.documentMode===10}function db(i=rn()){return tg(i)||cb(i)||fb(i)||hb(i)||/windows phone/i.test(i)||ub(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(i,e=[]){let t;switch(i){case"Browser":t=KE(rn());break;case"Worker":t=`${KE(rn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ta}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(i,e={}){return vs(i,"GET","/v2/passwordPolicy",ba(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=6;class rI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??iI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fh(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(ls(this));const t=e?rt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nI(this),t=new rI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Z2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[pr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&P2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fo(i){return rt(i)}class $E{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ex(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aI(i){gf=i}function pb(i){return gf.loadJS(i)}function oI(){return gf.recaptchaEnterpriseScript}function lI(){return gf.gapiScript}function uI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class cI{constructor(){this.enterprise=new hI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class hI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const fI="recaptcha-enterprise",gb="NO_RECAPTCHA";class dI{constructor(e){this.type=fI,this.auth=Fo(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{F2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new H2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;qE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(gb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&qE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=oI();p.length!==0&&(p+=m),pb(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function YE(i,e,t,s=!1,o=!1){const u=new dI(i);let h;if(o)h=gb;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function QE(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await YE(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await YE(i,e,t,t==="getOobCode");return s(i,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(i,e){const t=mf(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(_r(u,e??{}))return o;ii(o,"already-initialized")}return t.initialize({options:e})}function pI(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(pr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function gI(i,e,t){const s=Fo(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=yb(e),{host:h,port:m}=yI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(_r(g,s.config.emulator)&&_r(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,_s(h)?($p(`${u}//${h}${p}`),Yp("Auth",!0)):_I()}function yb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function yI(i){const e=yb(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:XE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:XE(h)}}}function XE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function _I(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,t){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}async function vI(i,e){return vs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(i,e){return pf(i,"POST","/v1/accounts:signInWithPassword",ba(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(i,e){return pf(i,"POST","/v1/accounts:signInWithEmailLink",ba(i,e))}async function bI(i,e){return pf(i,"POST","/v1/accounts:signInWithEmailLink",ba(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends ng{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new xu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new xu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return QE(e,t,"signInWithPassword",EI);case"emailLink":return TI(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return QE(e,s,"signUpPassword",vI);case"emailLink":return bI(e,{idToken:t,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i,e){return pf(i,"POST","/v1/accounts:signInWithIdp",ba(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="http://localhost";class ma extends ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ii("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new ma(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Io(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Io(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Io(e,t)}buildRequest(){const e={requestUri:wI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AI(i){const e=hu(fu(i)).link,t=e?hu(fu(e)).deep_link_id:null,s=hu(fu(i)).deep_link_id;return(s?hu(fu(s)).link:null)||s||t||e||i}class ig{constructor(e){const t=hu(fu(e)),s=t.apiKey??null,o=t.oobCode??null,u=SI(t.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=AI(e);try{return new ig(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,t){return xu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ig.parseLink(t);return Te(s,"argument-error"),xu._fromEmailAndCode(e,s.code,s.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends _b{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends zu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ma._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return es.credential(t,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends zu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends zu{constructor(){super("twitter.com")}static credential(e,t){return ma._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ns.credential(t,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ni._fromIdTokenResponse(e,s,o),h=WE(s);return new Oo({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=WE(s);return new Oo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function WE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends zi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Kh(e,t,s,o)}}function vb(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(i,u,e,s):u})}async function RI(i,e,t=!1){const s=await Ru(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Oo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(i,e,t=!1){const{auth:s}=i;if(qn(s.app))return Promise.reject(ls(s));const o="reauthenticate";try{const u=await Ru(i,vb(s,o,e,i),t);Te(u.idToken,s,"internal-error");const h=eg(u.idToken);Te(h,s,"internal-error");const{sub:m}=h;return Te(i.uid===m,s,"user-mismatch"),Oo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ii(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(i,e,t=!1){if(qn(i.app))return Promise.reject(ls(i));const s="signIn",o=await vb(i,s,e),u=await Oo._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function II(i,e){return Eb(Fo(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(i){const e=Fo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function NI(i,e,t){return qn(i.app)?Promise.reject(ls(i)):II(rt(i),Go.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&CI(i),s})}function DI(i,e,t,s){return rt(i).onIdTokenChanged(e,t,s)}function OI(i,e,t){return rt(i).beforeAuthStateChanged(e,t)}function Tb(i,e,t,s){return rt(i).onAuthStateChanged(e,t,s)}function Ep(i){return rt(i).signOut()}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1e3,PI=10;class wb extends bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=db(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);eI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,PI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},kI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wb.type="LOCAL";const MI=wb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Sb.type="SESSION";const Ab=Sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new yf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await VI(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=rg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function LI(i){Ii().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function jI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zI(){return navigator?.serviceWorker?.controller||null}function BI(){return Rb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firebaseLocalStorageDb",qI=1,Yh="firebaseLocalStorage",Ib="fbase_key";class Bu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _f(i,e){return i.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function HI(){const i=indexedDB.deleteDatabase(xb);return new Bu(i).toPromise()}function Tp(){const i=indexedDB.open(xb,qI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Yh,{keyPath:Ib})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Yh)?e(s):(s.close(),await HI(),e(await Tp()))})})}async function ZE(i,e,t){const s=_f(i,!0).put({[Ib]:e,value:t});return new Bu(s).toPromise()}async function FI(i,e){const t=_f(i,!1).get(e),s=await new Bu(t).toPromise();return s===void 0?null:s.value}function JE(i,e){const t=_f(i,!0).delete(e);return new Bu(t).toPromise()}const GI=800,KI=3;class Cb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>KI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yf._getInstance(BI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jI(),!this.activeServiceWorker)return;this.sender=new UI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await ZE(e,$h,"1"),await JE(e,$h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>ZE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>FI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>JE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=_f(o,!1).getAll();return new Bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cb.type="LOCAL";const $I=Cb;new ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(i,e){return e?pr(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Io(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function QI(i){return Eb(i.auth,new sg(i),i.bypassAuthState)}function XI(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),xI(t,new sg(i),i.bypassAuthState)}async function WI(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),RI(t,new sg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QI;case"linkViaPopup":case"linkViaRedirect":return WI;case"reauthViaPopup":case"reauthViaRedirect":return XI;default:ii(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new ju(2e3,1e4);class Ao extends Nb{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZI.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="pendingRedirect",Oh=new Map;class eC extends Nb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Oh.get(this.auth._key());if(!e){try{const s=await tC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Oh.set(this.auth._key(),e)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tC(i,e){const t=rC(e),s=iC(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function nC(i,e){Oh.set(i._key(),e)}function iC(i){return pr(i._redirectPersistence)}function rC(i){return Dh(JI,i.config.apiKey,i.name)}async function sC(i,e,t=!1){if(qn(i.app))return Promise.reject(ls(i));const s=Fo(i),o=YI(s,e),h=await new eC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=600*1e3;class oC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Db(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(xi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aC&&this.cachedEventUids.clear(),this.cachedEventUids.has(eT(e))}saveEventToCache(e){this.cachedEventUids.add(eT(e)),this.lastProcessedEventTime=Date.now()}}function eT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Db({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function lC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Db(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(i,e={}){return vs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hC=/^https?/;async function fC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await uC(i);for(const t of e)try{if(dC(t))return}catch{}ii(i,"unauthorized-domain")}function dC(i){const e=_p(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!hC.test(t))return!1;if(cC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new ju(3e4,6e4);function tT(){const i=Ii().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function pC(i){return new Promise((e,t)=>{function s(){tT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tT(),t(xi(i,"network-request-failed"))},timeout:mC.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=uI("iframefcb");return Ii()[o]=()=>{gapi.load?s():t(xi(i,"network-request-failed"))},pb(`${lI()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw kh=null,e})}let kh=null;function gC(i){return kh=kh||pC(i),kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new ju(5e3,15e3),_C="__/auth/iframe",vC="emulator/auth/iframe",EC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bC(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Jp(e,vC):`https://${i.config.authDomain}/${_C}`,s={apiKey:e.apiKey,appName:i.name,v:Ta},o=TC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Lu(s).slice(1)}`}async function wC(i){const e=await gC(i),t=Ii().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:bC(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=xi(i,"network-request-failed"),m=Ii().setTimeout(()=>{u(h)},yC.get());function p(){Ii().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AC=500,RC=600,xC="_blank",IC="http://localhost";class nT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CC(i,e,t,s=AC,o=RC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...SC,width:s.toString(),height:o.toString(),top:u,left:h},g=rn().toLowerCase();t&&(m=lb(g)?xC:t),ab(g)&&(e=e||IC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[M,L])=>`${A}${M}=${L},`,"");if(J2(g)&&m!=="_self")return NC(e||"",m),new nT(null);const w=window.open(e||"",m,E);Te(w,i,"popup-blocked");try{w.focus()}catch{}return new nT(w)}function NC(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="__/auth/handler",OC="emulator/auth/handler",kC=encodeURIComponent("fac");async function iT(i,e,t,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Ta,eventId:o};if(e instanceof _b){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",vx(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))h[E]=w}if(e instanceof zu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${kC}=${encodeURIComponent(p)}`:"";return`${PC(i)}?${Lu(m).slice(1)}${g}`}function PC({config:i}){return i.emulator?Jp(i,OC):`https://${i.authDomain}/${DC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class MC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ab,this._completeRedirectFn=sC,this._overrideRedirectResult=nC}async _openPopup(e,t,s,o){Er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await iT(e,t,s,_p(),o);return CC(e,u,rg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await iT(e,t,s,_p(),o);return LI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await wC(e),s=new oC(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ep,{type:ep},o=>{const u=o?.[0]?.[ep];u!==void 0&&t(!!u),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return db()||ob()||tg()}}const VC=MC;var rT="@firebase/auth",sT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jC(i){da(new hs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mb(i)},g=new sI(s,o,u,p);return pI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),da(new hs("auth-internal",e=>{const t=Fo(e.getProvider("auth").getImmediate());return(s=>new UC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(rT,sT,LC(i)),Ri(rT,sT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=300,BC=G0("authIdTokenMaxAge")||zC;let aT=null;const qC=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>BC)return;const o=t?.token;aT!==o&&(aT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HC(i=Wp()){const e=mf(i,"auth");if(e.isInitialized())return e.getImmediate();const t=mI(i,{popupRedirectResolver:VC,persistence:[$I,MI,Ab]}),s=G0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=qC(u.toString());OI(t,h,()=>h(t.currentUser)),DI(t,m=>h(m))}}const o=q0("auth");return o&&gI(t,`http://${o}`),t}function FC(){return document.getElementsByTagName("head")?.[0]??document}aI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=xi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",FC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jC("Browser");var oT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,Ob;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function x(){}x.prototype=R.prototype,N.D=R.prototype,N.prototype=new x,N.prototype.constructor=N,N.C=function(k,V,j){for(var C=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)C[ot-2]=arguments[ot];return R.prototype[V].apply(k,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,x){x||(x=0);var k=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)k[V]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(V=0;16>V;++V)k[V]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=N.g[0],x=N.g[1],V=N.g[2];var j=N.g[3],C=R+(j^x&(V^j))+k[0]+3614090360&4294967295;R=x+(C<<7&4294967295|C>>>25),C=j+(V^R&(x^V))+k[1]+3905402710&4294967295,j=R+(C<<12&4294967295|C>>>20),C=V+(x^j&(R^x))+k[2]+606105819&4294967295,V=j+(C<<17&4294967295|C>>>15),C=x+(R^V&(j^R))+k[3]+3250441966&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(j^x&(V^j))+k[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=j+(V^R&(x^V))+k[5]+1200080426&4294967295,j=R+(C<<12&4294967295|C>>>20),C=V+(x^j&(R^x))+k[6]+2821735955&4294967295,V=j+(C<<17&4294967295|C>>>15),C=x+(R^V&(j^R))+k[7]+4249261313&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(j^x&(V^j))+k[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=j+(V^R&(x^V))+k[9]+2336552879&4294967295,j=R+(C<<12&4294967295|C>>>20),C=V+(x^j&(R^x))+k[10]+4294925233&4294967295,V=j+(C<<17&4294967295|C>>>15),C=x+(R^V&(j^R))+k[11]+2304563134&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(j^x&(V^j))+k[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=j+(V^R&(x^V))+k[13]+4254626195&4294967295,j=R+(C<<12&4294967295|C>>>20),C=V+(x^j&(R^x))+k[14]+2792965006&4294967295,V=j+(C<<17&4294967295|C>>>15),C=x+(R^V&(j^R))+k[15]+1236535329&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(V^j&(x^V))+k[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=j+(x^V&(R^x))+k[6]+3225465664&4294967295,j=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(j^R))+k[11]+643717713&4294967295,V=j+(C<<14&4294967295|C>>>18),C=x+(j^R&(V^j))+k[0]+3921069994&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(V^j&(x^V))+k[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=j+(x^V&(R^x))+k[10]+38016083&4294967295,j=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(j^R))+k[15]+3634488961&4294967295,V=j+(C<<14&4294967295|C>>>18),C=x+(j^R&(V^j))+k[4]+3889429448&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(V^j&(x^V))+k[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=j+(x^V&(R^x))+k[14]+3275163606&4294967295,j=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(j^R))+k[3]+4107603335&4294967295,V=j+(C<<14&4294967295|C>>>18),C=x+(j^R&(V^j))+k[8]+1163531501&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(V^j&(x^V))+k[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=j+(x^V&(R^x))+k[2]+4243563512&4294967295,j=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(j^R))+k[7]+1735328473&4294967295,V=j+(C<<14&4294967295|C>>>18),C=x+(j^R&(V^j))+k[12]+2368359562&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(x^V^j)+k[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=j+(R^x^V)+k[8]+2272392833&4294967295,j=R+(C<<11&4294967295|C>>>21),C=V+(j^R^x)+k[11]+1839030562&4294967295,V=j+(C<<16&4294967295|C>>>16),C=x+(V^j^R)+k[14]+4259657740&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(x^V^j)+k[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=j+(R^x^V)+k[4]+1272893353&4294967295,j=R+(C<<11&4294967295|C>>>21),C=V+(j^R^x)+k[7]+4139469664&4294967295,V=j+(C<<16&4294967295|C>>>16),C=x+(V^j^R)+k[10]+3200236656&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(x^V^j)+k[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=j+(R^x^V)+k[0]+3936430074&4294967295,j=R+(C<<11&4294967295|C>>>21),C=V+(j^R^x)+k[3]+3572445317&4294967295,V=j+(C<<16&4294967295|C>>>16),C=x+(V^j^R)+k[6]+76029189&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(x^V^j)+k[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=j+(R^x^V)+k[12]+3873151461&4294967295,j=R+(C<<11&4294967295|C>>>21),C=V+(j^R^x)+k[15]+530742520&4294967295,V=j+(C<<16&4294967295|C>>>16),C=x+(V^j^R)+k[2]+3299628645&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(V^(x|~j))+k[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=j+(x^(R|~V))+k[7]+1126891415&4294967295,j=R+(C<<10&4294967295|C>>>22),C=V+(R^(j|~x))+k[14]+2878612391&4294967295,V=j+(C<<15&4294967295|C>>>17),C=x+(j^(V|~R))+k[5]+4237533241&4294967295,x=V+(C<<21&4294967295|C>>>11),C=R+(V^(x|~j))+k[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=j+(x^(R|~V))+k[3]+2399980690&4294967295,j=R+(C<<10&4294967295|C>>>22),C=V+(R^(j|~x))+k[10]+4293915773&4294967295,V=j+(C<<15&4294967295|C>>>17),C=x+(j^(V|~R))+k[1]+2240044497&4294967295,x=V+(C<<21&4294967295|C>>>11),C=R+(V^(x|~j))+k[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=j+(x^(R|~V))+k[15]+4264355552&4294967295,j=R+(C<<10&4294967295|C>>>22),C=V+(R^(j|~x))+k[6]+2734768916&4294967295,V=j+(C<<15&4294967295|C>>>17),C=x+(j^(V|~R))+k[13]+1309151649&4294967295,x=V+(C<<21&4294967295|C>>>11),C=R+(V^(x|~j))+k[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=j+(x^(R|~V))+k[11]+3174756917&4294967295,j=R+(C<<10&4294967295|C>>>22),C=V+(R^(j|~x))+k[2]+718787259&4294967295,V=j+(C<<15&4294967295|C>>>17),C=x+(j^(V|~R))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var x=R-this.blockSize,k=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=x;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<R;)if(k[V++]=N.charCodeAt(j++),V==this.blockSize){o(this,k),V=0;break}}else for(;j<R;)if(k[V++]=N[j++],V==this.blockSize){o(this,k),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var x=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=x&255,x/=256;for(this.u(N),N=Array(16),R=x=0;4>R;++R)for(var k=0;32>k;k+=8)N[x++]=this.g[R]>>>k&255;return N};function u(N,R){var x=m;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=R(N)}function h(N,R){this.h=R;for(var x=[],k=!0,V=N.length-1;0<=V;V--){var j=N[V]|0;k&&j==R||(x[V]=j,k=!1)}this.g=x}var m={};function p(N){return-128<=N&&128>N?u(N,function(R){return new h([R|0],0>R?-1:0)}):new h([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return U(g(-N));for(var R=[],x=1,k=0;N>=x;k++)R[k]=N/x|0,x*=4294967296;return new h(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return U(E(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(R,8)),k=w,V=0;V<N.length;V+=8){var j=Math.min(8,N.length-V),C=parseInt(N.substring(V,V+j),R);8>j?(j=g(Math.pow(R,j)),k=k.j(j).add(g(C))):(k=k.j(x),k=k.add(g(C)))}return k}var w=p(0),A=p(1),M=p(16777216);i=h.prototype,i.m=function(){if(B(this))return-U(this).m();for(var N=0,R=1,x=0;x<this.g.length;x++){var k=this.i(x);N+=(0<=k?k:4294967296+k)*R,R*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(L(this))return"0";if(B(this))return"-"+U(this).toString(N);for(var R=g(Math.pow(N,6)),x=this,k="";;){var V=W(x,R).g;x=q(x,V.j(R));var j=((0<x.g.length?x.g[0]:x.h)>>>0).toString(N);if(x=V,L(x))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function L(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function B(N){return N.h==-1}i.l=function(N){return N=q(this,N),B(N)?-1:L(N)?0:1};function U(N){for(var R=N.g.length,x=[],k=0;k<R;k++)x[k]=~N.g[k];return new h(x,~N.h).add(A)}i.abs=function(){return B(this)?U(this):this},i.add=function(N){for(var R=Math.max(this.g.length,N.g.length),x=[],k=0,V=0;V<=R;V++){var j=k+(this.i(V)&65535)+(N.i(V)&65535),C=(j>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);k=C>>>16,j&=65535,C&=65535,x[V]=C<<16|j}return new h(x,x[x.length-1]&-2147483648?-1:0)};function q(N,R){return N.add(U(R))}i.j=function(N){if(L(this)||L(N))return w;if(B(this))return B(N)?U(this).j(U(N)):U(U(this).j(N));if(B(N))return U(this.j(U(N)));if(0>this.l(M)&&0>N.l(M))return g(this.m()*N.m());for(var R=this.g.length+N.g.length,x=[],k=0;k<2*R;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<N.g.length;V++){var j=this.i(k)>>>16,C=this.i(k)&65535,ot=N.i(V)>>>16,me=N.i(V)&65535;x[2*k+2*V]+=C*me,Z(x,2*k+2*V),x[2*k+2*V+1]+=j*me,Z(x,2*k+2*V+1),x[2*k+2*V+1]+=C*ot,Z(x,2*k+2*V+1),x[2*k+2*V+2]+=j*ot,Z(x,2*k+2*V+2)}for(k=0;k<R;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=R;k<2*R;k++)x[k]=0;return new h(x,0)};function Z(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function X(N,R){this.g=N,this.h=R}function W(N,R){if(L(R))throw Error("division by zero");if(L(N))return new X(w,w);if(B(N))return R=W(U(N),R),new X(U(R.g),U(R.h));if(B(R))return R=W(N,U(R)),new X(U(R.g),R.h);if(30<N.g.length){if(B(N)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var x=A,k=R;0>=k.l(N);)x=re(x),k=re(k);var V=ce(x,1),j=ce(k,1);for(k=ce(k,2),x=ce(x,2);!L(k);){var C=j.add(k);0>=C.l(N)&&(V=V.add(x),j=C),k=ce(k,1),x=ce(x,1)}return R=q(N,V.j(R)),new X(V,R)}for(V=w;0<=N.l(R);){for(x=Math.max(1,Math.floor(N.m()/R.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=g(x),C=j.j(R);B(C)||0<C.l(N);)x-=k,j=g(x),C=j.j(R);L(j)&&(j=A),V=V.add(j),N=q(N,C)}return new X(V,N)}i.A=function(N){return W(this,N).h},i.and=function(N){for(var R=Math.max(this.g.length,N.g.length),x=[],k=0;k<R;k++)x[k]=this.i(k)&N.i(k);return new h(x,this.h&N.h)},i.or=function(N){for(var R=Math.max(this.g.length,N.g.length),x=[],k=0;k<R;k++)x[k]=this.i(k)|N.i(k);return new h(x,this.h|N.h)},i.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),x=[],k=0;k<R;k++)x[k]=this.i(k)^N.i(k);return new h(x,this.h^N.h)};function re(N){for(var R=N.g.length+1,x=[],k=0;k<R;k++)x[k]=N.i(k)<<1|N.i(k-1)>>>31;return new h(x,N.h)}function ce(N,R){var x=R>>5;R%=32;for(var k=N.g.length-x,V=[],j=0;j<k;j++)V[j]=0<R?N.i(j+x)>>>R|N.i(j+x+1)<<32-R:N.i(j+x);return new h(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ob=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,us=h}).apply(typeof oT<"u"?oT:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kb,du,Pb,Ph,bp,Mb,Vb,Ub;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var H=c[S];if(!(H in _))break e;_=_[H]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,H={next:function(){if(!S&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function M(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function L(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,H,Q){for(var oe=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)oe[Ue-2]=arguments[Ue];return y.prototype[H].apply(S,oe)}}function B(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const H=c.length||0,Q=S.length||0;c.length=H+Q;for(let oe=0;oe<Q;oe++)c[H+oe]=S[oe]}else c.push(S)}}class q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var re=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ce(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let _,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(_ in S)c[_]=S[_];for(let Q=0;Q<x.length;Q++)_=x[Q],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Ie;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ot{constructor(){this.h=this.g=null}add(y,_){const S=me.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var me=new q(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,Ie=new ot,O=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(se)}};var se=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){j(_)}var y=me;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ne(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{W(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}L(Ne,ae);var Se={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),et=0;function oi(c,y,_,S,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=H,this.key=++et,this.da=this.fa=!1}function wr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bi(c){this.src=c,this.g={},this.h=0}Bi.prototype.add=function(c,y,_,S,H){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=As(c,y,S,H);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new oi(y,this.src,Q,!!S,H),y.fa=_,c.push(y)),y};function Ss(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],H=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(S,H,1),Q&&(wr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function As(c,y,_,S){for(var H=0;H<c.length;++H){var Q=c[H];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==S)return H}return-1}var Rs="closure_lm_"+(1e6*Math.random()|0),Jo={};function Qu(c,y,_,S,H){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Qu(c,y[Q],_,S,H);return null}return _=Xu(_),c&&c[Mt]?c.K(y,_,g(S)?!!S.capture:!1,H):Cn(c,y,_,!1,S,H)}function Cn(c,y,_,S,H,Q){if(!y)throw Error("Invalid event type");var oe=g(H)?!!H.capture:!!H,Ue=Ia(c);if(Ue||(c[Rs]=Ue=new Bi(c)),_=Ue.add(y,_,S,oe,Q),_.proxy)return _;if(S=zf(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)_e||(H=oe),H===void 0&&(H=!1),c.addEventListener(y.toString(),S,H);else if(c.attachEvent)c.attachEvent(xs(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function zf(){function c(_){return y.call(c.src,c.listener,_)}const y=Bf;return c}function el(c,y,_,S,H){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)el(c,y[Q],_,S,H);else S=g(S)?!!S.capture:!!S,_=Xu(_),c&&c[Mt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=As(Q,_,S,H),-1<_&&(wr(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ia(c))&&(y=c.g[y.toString()],c=-1,y&&(c=As(y,_,S,H)),(_=-1<c?y[c]:null)&&xa(_))}function xa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Mt])Ss(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(xs(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Ia(y))?(Ss(_,c),_.h==0&&(_.src=null,y[Rs]=null)):wr(c)}}}function xs(c){return c in Jo?Jo[c]:Jo[c]="on"+c}function Bf(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&xa(c),c=_.call(S,y)}return c}function Ia(c){return c=c[Rs],c instanceof Bi?c:null}var tl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xu(c){return typeof c=="function"?c:(c[tl]||(c[tl]=function(y){return c.handleEvent(y)}),c[tl])}function mt(){ue.call(this),this.i=new Bi(this),this.M=this,this.F=null}L(mt,ue),mt.prototype[Mt]=!0,mt.prototype.removeEventListener=function(c,y,_,S){el(this,c,y,_,S)};function Ke(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var H=y;y=new ae(S,c),k(y,H)}if(H=!0,_)for(var Q=_.length-1;0<=Q;Q--){var oe=y.g=_[Q];H=vn(oe,S,!0,y)&&H}if(oe=y.g=c,H=vn(oe,S,!0,y)&&H,H=vn(oe,S,!1,y)&&H,_)for(Q=0;Q<_.length;Q++)oe=y.g=_[Q],H=vn(oe,S,!1,y)&&H}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)wr(_[S]);delete c.g[y],c.h--}}this.F=null},mt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},mt.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function vn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Q=0;Q<y.length;++Q){var oe=y[Q];if(oe&&!oe.da&&oe.capture==_){var Ue=oe.listener,Nt=oe.ha||oe.src;oe.fa&&Ss(c.i,oe),H=Ue.call(Nt,S)!==!1&&H}}return H&&!S.defaultPrevented}function Wt(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Wu(c){c.g=Wt(()=>{c.g=null,c.i&&(c.i=!1,Wu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class qf extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(c){ue.call(this),this.h=c,this.g={}}L(Is,ue);var Cs=[];function Ns(c){ce(c.g,function(y,_){this.g.hasOwnProperty(_)&&xa(y)},c),c.g={}}Is.prototype.N=function(){Is.aa.N.call(this),Ns(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=m.JSON.stringify,Ca=m.JSON.parse,Ds=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function nl(){}nl.prototype.h=null;function il(c){return c.h||(c.h=c.i())}function rl(){}var qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hi(){ae.call(this,"d")}L(Hi,ae);function sl(){ae.call(this,"c")}L(sl,ae);var li={},al=null;function Sr(){return al=al||new mt}li.La="serverreachability";function Na(c){ae.call(this,li.La,c)}L(Na,ae);function Ar(c){const y=Sr();Ke(y,new Na(y))}li.STAT_EVENT="statevent";function Zu(c,y){ae.call(this,li.STAT_EVENT,c),this.stat=y}L(Zu,ae);function lt(c){const y=Sr();Ke(y,new Zu(y,c))}li.Ma="timingevent";function Ct(c,y){ae.call(this,li.Ma,c),this.size=y}L(Ct,ae);function bt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function ol(c,y,_,S,H,Q){c.info(function(){if(c.g)if(Q)for(var oe="",Ue=Q.split("&"),Nt=0;Nt<Ue.length;Nt++){var Le=Ue[Nt].split("=");if(1<Le.length){var Ut=Le[0];Le=Le[1];var Dt=Ut.split("_");oe=2<=Dt.length&&Dt[1]=="type"?oe+(Ut+"="+Le+"&"):oe+(Ut+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+y+`
`+_+`
`+oe})}function Hf(c,y,_,S,H,Q,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+y+`
`+_+`
`+Q+" "+oe})}function Rr(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Os(c,_)+(S?" "+S:"")})}function Ju(c,y){c.info(function(){return"TIMEOUT: "+y})}Nn.prototype.info=function(){};function Os(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<H.length;oe++)H[oe]=""}}}}return Qn(_)}catch{return y}}var xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function ci(){}L(ci,nl),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},ui=new ci;function sn(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new Is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var ll={},Da={};function Xn(c,y,_){c.L=1,c.v=Us(En(y)),c.m=_,c.P=!0,Gi(c,null)}function Gi(c,y){c.F=Date.now(),ks(c),c.A=En(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ml(_.i,"t",S),c.C=0,_=c.j.J,c.h=new yt,c.g=pc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new qf(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Cs[0]=H.toString()),H=Cs);for(var Q=0;Q<H.length;Q++){var oe=Qu(_,H[Q],S||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ar(),ol(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Pn(c)==3?y.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Pn(this.g);var y=this.g.Ba();const Ji=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||Dt!=4||y==7||(y==8||0>=Ji?Ar(3):Ar(2)),Ir(this);var _=this.g.Z();this.X=_;t:if(ec(this)){var S=oc(this.g);c="";var H=S.length,Q=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),hi(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Q&&y==H-1)});S.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Hf(this.i,this.u,this.A,this.l,this.R,Dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Nt=this.g;if((Ue=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ue)){var Le=Ue;break t}}Le=null}if(_=Le)Rr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ps(this,_);else{this.o=!1,this.s=3,lt(12),qt(this),hi(this);break e}}if(this.P){_=!0;let Ht;for(;!this.J&&this.C<oe.length;)if(Ht=tc(this,oe),Ht==Da){Dt==4&&(this.s=4,lt(14),_=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==ll){this.s=4,lt(15),Rr(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else Rr(this.i,this.l,Ht,null),Ps(this,Ht);if(ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||oe.length!=0||this.h.h||(this.s=1,lt(16),_=!1),this.o=this.o&&_,!_)Rr(this.i,this.l,oe,"[Invalid Chunked Response]"),qt(this),hi(this);else if(0<oe.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Gs(Ut),Ut.M=!0,lt(11))}}else Rr(this.i,this.l,oe,null),Ps(this,oe);Dt==4&&qt(this),this.o&&!this.J&&(Dt==4?fc(this.j,this):(this.o=!1,ks(this)))}else Yf(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),qt(this),hi(this)}}}catch{}finally{}};function ec(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function tc(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Da:(_=Number(y.substring(_,S)),isNaN(_)?ll:(S+=1,S+_>y.length?Da:(y=y.slice(S,S+_),c.C=S+_,y)))}sn.prototype.cancel=function(){this.J=!0,qt(this)};function ks(c){c.S=Date.now()+c.I,nc(c,c.I)}function nc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=bt(A(c.ba,c),y)}function Ir(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ju(this.i,this.A),this.L!=2&&(Ar(),lt(17)),qt(this),this.s=2,hi(this)):nc(this,this.S-c)};function hi(c){c.j.G==0||c.J||fc(c.j,c)}function qt(c){Ir(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ns(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ps(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||ul(_.h,c))){if(!c.K&&ul(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ha(_),Ba(_);else break e;vl(_),lt(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=bt(A(_.Za,_),6e3));if(1>=ka(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Zi(_,11)}else if((c.K||_.g==c)&&Ha(_),!Z(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let Le=H[y];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Ut=Le[3];Ut!=null&&(_.la=Ut,_.j.info("VER="+_.la));const Dt=Le[4];Dt!=null&&(_.Aa=Dt,_.j.info("SVER="+_.Aa));const Ji=Le[5];Ji!=null&&typeof Ji=="number"&&0<Ji&&(S=1.5*Ji,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ht=c.g;if(Ht){const _i=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var Q=S.h;Q.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Pa(Q,Q.h),Q.h=null))}if(S.D){const Tl=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&(S.ya=Tl,Qe(S.I,S.D,Tl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var oe=c;if(S.qa=mc(S,S.J?S.ia:null,S.W),oe.K){an(S.h,oe);var Ue=oe,Nt=S.L;Nt&&(Ue.I=Nt),Ue.B&&(Ir(Ue),ks(Ue)),S.g=oe}else cc(S);0<_.i.length&&qa(_)}else Le[0]!="stop"&&Le[0]!="close"||Zi(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Zi(_,7):yl(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}Ar(4)}catch{}}var ic=class{constructor(c,y){this.g=c,this.map=y}};function Ki(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ka(c){return c.h?1:c.g?c.g.size:0}function ul(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Pa(c,y){c.g?c.g.add(y):c.h=y}function an(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ki.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return B(c.i)}function Ff(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function Ma(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function hl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ma(c),S=Ff(c),H=S.length,Q=0;Q<H;Q++)y.call(void 0,S[Q],_&&_[Q],c)}var Ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),H=null;if(0<=S){var Q=c[_].substring(0,S);H=c[_].substring(S+1)}else Q=c[_];y(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function wt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wt){this.h=c.h,Vs(this,c.j),this.o=c.o,this.g=c.g,Cr(this,c.s),this.l=c.l;var y=c.i,_=new Yi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),$i(this,_),this.m=c.m}else c&&(y=String(c).match(Ms))?(this.h=!1,Vs(this,y[1]||"",!0),this.o=Dn(y[2]||""),this.g=Dn(y[3]||"",!0),Cr(this,y[4]),this.l=Dn(y[5]||"",!0),$i(this,y[6]||"",!0),this.m=Dn(y[7]||"")):(this.h=!1,this.i=new Yi(null,this.h))}wt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ls(y,fl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ls(y,fl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ls(_,_.charAt(0)=="/"?Kf:dl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ls(_,Va)),c.join("")};function En(c){return new wt(c)}function Vs(c,y,_){c.j=_?Dn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Cr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function $i(c,y,_){y instanceof Yi?(c.i=y,sc(c.i,c.h)):(_||(y=Ls(y,$f)),c.i=new Yi(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function Us(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ls(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,rc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fl=/[#\/\?@]/g,dl=/[#\?:]/g,Kf=/[#\?]/g,$f=/[#\?@]/g,Va=/#/g;function Yi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function On(c){c.g||(c.g=new Map,c.h=0,c.i&&Gf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Yi.prototype,i.add=function(c,y){On(this),this.i=null,c=fi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Qi(c,y){On(c),y=fi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xi(c,y){return On(c),y=fi(c,y),c.g.has(y)}i.forEach=function(c,y){On(this),this.g.forEach(function(_,S){_.forEach(function(H){c.call(y,H,S,this)},this)},this)},i.na=function(){On(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const H=c[S];for(let Q=0;Q<H.length;Q++)_.push(y[S])}return _},i.V=function(c){On(this);let y=[];if(typeof c=="string")Xi(this,c)&&(y=y.concat(this.g.get(fi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return On(this),this.i=null,c=fi(this,c),Xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ml(c,y,_){Qi(c,y),0<_.length&&(c.i=null,c.g.set(fi(c,y),B(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Q=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var H=Q;oe[S]!==""&&(H+="="+encodeURIComponent(String(oe[S]))),c.push(H)}}return this.i=c.join("&")};function fi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function sc(c,y){y&&!c.j&&(On(c),c.i=null,c.g.forEach(function(_,S){var H=S.toLowerCase();S!=H&&(Qi(this,S),ml(this,H,_))},c)),c.j=y}function js(c,y){const _=new Nn;if(m.Image){const S=new Image;S.onload=M(kn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=M(kn,_,"TestLoadImage: error",!1,y,S),S.onabort=M(kn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=M(kn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Wn(c,y){const _=new Nn,S=new AbortController,H=setTimeout(()=>{S.abort(),kn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(H),Q.ok?kn(_,"TestPingServer: ok",!0,y):kn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),kn(_,"TestPingServer: error",!1,y)})}function kn(c,y,_,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(_)}catch{}}function zs(){this.g=new Ds}function di(c,y,_){const S=_||"";try{hl(c,function(H,Q){let oe=H;g(H)&&(oe=Qn(H)),y.push(S+Q+"="+encodeURIComponent(oe))})}catch(H){throw y.push(S+"type="+encodeURIComponent("_badmap")),H}}function Nr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Nr,nl),Nr.prototype.g=function(){return new Wi(this.l,this.j)},Nr.prototype.i=function(c){return function(){return c}}({});function Wi(c,y){mt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Wi,mt),i=Wi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,pi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function pl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?mi(this):pi(this),this.readyState==3&&pl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},i.Qa=function(c){this.g&&(this.response=c,mi(this))},i.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function pi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gl(c){let y="";return ce(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Vt(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=gl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function He(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(He,mt);var Ua=/^https?$/i,Bs=["POST","PUT"];i=He.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?il(this.o):il(ui),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){ac(this,Q);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)_.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Bs,y,void 0))||S||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of _)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){ac(this,Q)}};function ac(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,La(c),gi(c)}function La(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),gi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},i.bb=function(){ja(this)};function ja(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Wt(c.Ea,0,c);else if(Ke(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=oe===0){var H=String(c.D).match(Ms)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),S=!Ua.test(H?H.toLowerCase():"")}_=S}if(_)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var Q=2<Pn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",La(c)}}finally{gi(c)}}}}function gi(c,y){if(c.g){qs(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ke(c,"ready");try{_.onreadystatechange=S}catch{}}}function qs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ca(y)}};function oc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yf(c){const y={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Z(c[S]))continue;var _=V(c[S]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[H]||[];y[H]=Q,Q.push(_)}N(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function za(c){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hs("baseRetryDelayMs",5e3,c),this.cb=Hs("retryDelaySeedMs",1e4,c),this.Wa=Hs("forwardChannelMaxRetries",2,c),this.wa=Hs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(c&&c.concurrentRequestLimit),this.Da=new zs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=za.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,S){lt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=mc(this,null,this.W),qa(this)};function yl(c){if(lc(c),c.G==3){var y=c.U++,_=En(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),Fs(c,_),y=new sn(c,c.j,y),y.L=2,y.v=Us(En(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=pc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ks(y)}dc(c)}function Ba(c){c.g&&(Gs(c),c.g.cancel(),c.g=null)}function lc(c){Ba(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ha(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function qa(c){if(!Oa(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||O(),pe||(le(),pe=!0),Ie.add(y,c),c.B=0}}function Qf(c,y){return ka(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=bt(A(c.Ga,c,y),El(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new sn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=uc(this,H,y),_=En(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),Fs(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(gl(Q)))+"&"+y:this.m&&Vt(_,this.m,Q)),Pa(this.h,H),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),H.T=!0,Xn(H,_,null)):Xn(H,_,y),this.G=2}}else this.G==3&&(c?_l(this,c):this.i.length==0||Oa(this.h)||_l(this))};function _l(c,y){var _;y?_=y.l:_=c.U++;const S=En(c.I);Qe(S,"SID",c.K),Qe(S,"RID",_),Qe(S,"AID",c.T),Fs(c,S),c.m&&c.o&&Vt(S,c.m,c.o),_=new sn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=uc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pa(c.h,_),Xn(_,S,y)}function Fs(c,y){c.H&&ce(c.H,function(_,S){Qe(y,S,_)}),c.l&&hl({},function(_,S){Qe(y,S,_)})}function uc(c,y,_){_=Math.min(c.i.length,_);var S=c.l?A(c.l.Na,c.l,c):null;e:{var H=c.i;let Q=-1;for(;;){const oe=["count="+_];Q==-1?0<_?(Q=H[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let Ue=!0;for(let Nt=0;Nt<_;Nt++){let Le=H[Nt].g;const Ut=H[Nt].map;if(Le-=Q,0>Le)Q=Math.max(0,H[Nt].g-100),Ue=!1;else try{di(Ut,oe,"req"+Le+"_")}catch{S&&S(Ut)}}if(Ue){S=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function cc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||O(),pe||(le(),pe=!0),Ie.add(y,c),c.v=0}}function vl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=bt(A(c.Fa,c),El(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=bt(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Ba(this),hc(this))};function Gs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function hc(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=En(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),Fs(c,y),c.m&&c.o&&Vt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Us(En(y)),_.m=null,_.P=!0,Gi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ba(this),vl(this),lt(19))};function Ha(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function fc(c,y){var _=null;if(c.g==y){Ha(c),Gs(c),c.g=null;var S=2}else if(ul(c.h,y))_=y.D,an(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;S=Sr(),Ke(S,new Ct(S,_)),qa(c)}else cc(c);else if(H=y.s,H==3||H==0&&0<y.X||!(S==1&&Qf(c,y)||S==2&&vl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:Zi(c,5);break;case 4:Zi(c,10);break;case 3:Zi(c,6);break;default:Zi(c,2)}}}function El(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Zi(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),S=c.Xa;const H=!S;S=new wt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Vs(S,"https"),Us(S),H?js(S.toString(),_):Wn(S.toString(),_)}else lt(2);c.G=0,c.l&&c.l.sa(y),dc(c),lc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function dc(c){if(c.G=0,c.ka=[],c.l){const y=cl(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function mc(c,y,_){var S=_ instanceof wt?En(_):new wt(_);if(S.g!="")y&&(S.g=y+"."+S.g),Cr(S,S.s);else{var H=m.location;S=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Q=new wt(null);S&&Vs(Q,S),y&&(Q.g=y),H&&Cr(Q,H),_&&(Q.l=_),S=Q}return _=c.D,y=c.ya,_&&y&&Qe(S,_,y),Qe(S,"VER",c.la),Fs(c,S),S}function pc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new Nr({eb:_})):new He(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}i=gc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Fa(){}Fa.prototype.g=function(c,y){return new on(c,y)};function on(c,y){mt.call(this),this.g=new za(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new yi(this)}L(on,mt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){yl(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Qn(c),c=_);y.i.push(new ic(y.Ya++,c)),y.G==3&&qa(y)},on.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,on.aa.N.call(this)};function yc(c){Hi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(yc,Hi);function _c(){sl.call(this),this.status=1}L(_c,sl);function yi(c){this.g=c}L(yi,gc),yi.prototype.ua=function(){Ke(this.g,"a")},yi.prototype.ta=function(c){Ke(this.g,new yc(c))},yi.prototype.sa=function(c){Ke(this.g,new _c)},yi.prototype.ra=function(){Ke(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Ub=function(){return new Fa},Vb=function(){return Sr()},Mb=li,bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,Ph=xr,Fi.COMPLETE="complete",Pb=Fi,rl.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",mt.prototype.listen=mt.prototype.K,du=rl,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,kb=He}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const lT="@firebase/firestore",uT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Qp("@firebase/firestore");function To(){return pa.logLevel}function fe(i,...e){if(pa.logLevel<=Pe.DEBUG){const t=e.map(ag);pa.debug(`Firestore (${Ko}): ${i}`,...t)}}function Tr(i,...e){if(pa.logLevel<=Pe.ERROR){const t=e.map(ag);pa.error(`Firestore (${Ko}): ${i}`,...t)}}function ko(i,...e){if(pa.logLevel<=Pe.WARN){const t=e.map(ag);pa.warn(`Firestore (${Ko}): ${i}`,...t)}}function ag(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Lb(i,s,t)}function Lb(i,e,t){let s=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Tr(s),new Error(s)}function Ge(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||Lb(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class KC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $C{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ua,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ua)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new jb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class YC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new YC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new cT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=WC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function wp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return tp(o)===tp(u)?Me(o,u):tp(o)?1:-1}return Me(i.length,e.length)}const ZC=55296,JC=57343;function tp(i){const e=i.charCodeAt(0);return e>=ZC&&e<=JC}function Po(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="__name__";class Si{constructor(e,t,s){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&be(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Si.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Me(e.length,t.length)}static compareSegments(e,t){const s=Si.isNumericId(e),o=Si.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(e).compare(Si.extractNumericId(t)):wp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class nt extends Si{construct(e,t,s){return new nt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const eN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Si{construct(e,t,s){return new Qt(e,t,s)}static isValidIdentifier(e){return eN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hT}static keyField(){return new Qt([hT])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(i,e,t){if(!t)throw new he(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function tN(i,e,t,s){if(e===!0&&s===!0)throw new he(te.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function fT(i){if(!ye.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function dT(i){if(ye.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Bb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function vf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be(12329,{type:typeof i})}function Ci(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vf(i);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(i,e){const t={typeString:i};return e&&(t.value=e),t}function qu(i,e){if(!Bb(i))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new he(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=-62135596800,pT=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*pT);return new st(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mT)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pT}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:It("string",st._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new st(0,0))}static max(){return new Ae(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=-1;function nN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new st(t+1,0):new st(t,s));return new fs(o,ye.empty(),e)}function iN(i){return new fs(i.readTime,i.key,Iu)}class fs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new fs(Ae.min(),ye.empty(),Iu)}static max(){return new fs(Ae.max(),ye.empty(),Iu)}}function rN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(i.documentKey,e.documentKey),t!==0?t:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==sN)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,s)=>{t(e)})}static reject(e){return new ie((t,s)=>{s(e)})}static waitFor(e){return new ie((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ie.resolve(!1);for(const s of e)t=t.next(o=>o?ie.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ie((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new ie((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function oN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Yo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ef.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-1;function Tf(i){return i==null}function Qh(i){return i===0&&1/i==-1/0}function lN(i){return typeof i=="number"&&Number.isInteger(i)&&!Qh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="";function uN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=gT(e)),e=cN(i.get(t),e);return gT(e)}function cN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case qb:t+="";break;default:t+=u}}return t}function gT(i){return i+qb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Es(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Hb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new $t(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _T(this.data.getIterator())}getIteratorFrom(e){return new _T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class _T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new In([])}unionWith(e){let t=new Pt(Qt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Fb("Invalid base64 string: "+u):u}}(e);return new Xt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const hN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const t=hN.exec(i);if(Ge(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ms(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="server_timestamp",Kb="__type__",$b="__previous_value__",Yb="__local_write_time__";function ug(i){return(i?.mapValue?.fields||{})[Kb]?.stringValue===Gb}function bf(i){const e=i.mapValue.fields[$b];return ug(e)?bf(e):e}function Cu(i){const e=ds(i.mapValue.fields[Yb].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Xh="(default)";class Nu{constructor(e,t){this.projectId=e,this.database=t||Xh}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="__type__",dN="__max__",wh={mapValue:{}},Xb="__vector__",Wh="value";function ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ug(i)?4:pN(i)?9007199254740991:mN(i)?10:11:be(28295,{value:i})}function Mi(i,e){if(i===e)return!0;const t=ps(i);if(t!==ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Cu(i).isEqual(Cu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ds(o.timestampValue),m=ds(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Et(o.doubleValue),m=Et(u.doubleValue);return h===m?Qh(h)===Qh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Po(i.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(yT(h)!==yT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Mi(h[p],m[p])))return!1;return!0}(i,e);default:return be(52216,{left:i})}}function Du(i,e){return(i.values||[]).find(t=>Mi(t,e))!==void 0}function Mo(i,e){if(i===e)return 0;const t=ps(i),s=ps(e);if(t!==s)return Me(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=Et(u.integerValue||u.doubleValue),p=Et(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return vT(i.timestampValue,e.timestampValue);case 4:return vT(Cu(i),Cu(e));case 5:return wp(i.stringValue,e.stringValue);case 6:return function(u,h){const m=ms(u),p=ms(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Me(m[g],p[g]);if(E!==0)return E}return Me(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Me(Et(u.latitude),Et(h.latitude));return m!==0?m:Me(Et(u.longitude),Et(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return ET(i.arrayValue,e.arrayValue);case 10:return function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Wh]?.arrayValue,E=p[Wh]?.arrayValue,w=Me(g?.values?.length||0,E?.values?.length||0);return w!==0?w:ET(g,E)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===wh.mapValue&&h===wh.mapValue)return 0;if(u===wh.mapValue)return 1;if(h===wh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=wp(p[w],E[w]);if(A!==0)return A;const M=Mo(m[p[w]],g[E[w]]);if(M!==0)return M}return Me(p.length,E.length)}(i.mapValue,e.mapValue);default:throw be(23264,{he:t})}}function vT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const t=ds(i),s=ds(e),o=Me(t.seconds,s.seconds);return o!==0?o:Me(t.nanos,s.nanos)}function ET(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Mo(t[o],s[o]);if(u)return u}return Me(t.length,s.length)}function Vo(i){return Sp(i)}function Sp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ds(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ms(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ye.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Sp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Sp(t.fields[h])}`;return o+"}"}(i.mapValue):be(61005,{value:i})}function Mh(i){switch(ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bf(i);return e?16+Mh(e):16;case 5:return 2*i.stringValue.length;case 6:return ms(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Mh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Es(s.fields,(u,h)=>{o+=u.length+Mh(h)}),o}(i.mapValue);default:throw be(13486,{value:i})}}function TT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ap(i){return!!i&&"integerValue"in i}function cg(i){return!!i&&"arrayValue"in i}function bT(i){return!!i&&"nullValue"in i}function wT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Vh(i){return!!i&&"mapValue"in i}function mN(i){return(i?.mapValue?.fields||{})[Qb]?.stringValue===Xb}function vu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Es(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=vu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vu(i.arrayValue.values[t]);return e}return{...i}}function pN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===dN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(t)}setAll(e){let t=Qt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=vu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Es(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new yn(vu(this.value))}}function Wb(i){const e=[];return Es(i.fields,(t,s)=>{const o=new Qt([t]);if(Vh(s)){const u=Wb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Ae.min(),Ae.min(),Ae.min(),yn.empty(),0)}static newFoundDocument(e,t,s,o){return new nn(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new nn(e,2,t,Ae.min(),Ae.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,Ae.min(),Ae.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t){this.position=e,this.inclusive=t}}function ST(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),t.key):s=Mo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function AT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Mi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t="asc"){this.field=e,this.dir=t}}function gN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{}class xt extends Zb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new _N(e,t,s):t==="array-contains"?new TN(e,s):t==="in"?new bN(e,s):t==="not-in"?new wN(e,s):t==="array-contains-any"?new SN(e,s):new xt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new vN(e,s):new EN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Mo(t,this.value)):t!==null&&ps(this.value)===ps(t)&&this.matchesComparison(Mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Zb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ri(e,t)}matches(e){return Jb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jb(i){return i.op==="and"}function ew(i){return yN(i)&&Jb(i)}function yN(i){for(const e of i.filters)if(e instanceof ri)return!1;return!0}function Rp(i){if(i instanceof xt)return i.field.canonicalString()+i.op.toString()+Vo(i.value);if(ew(i))return i.filters.map(e=>Rp(e)).join(",");{const e=i.filters.map(t=>Rp(t)).join(",");return`${i.op}(${e})`}}function tw(i,e){return i instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)}(i,e):i instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&tw(h,o.filters[m]),!0):!1}(i,e):void be(19439)}function nw(i){return i instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${Vo(t.value)}`}(i):i instanceof ri?function(t){return t.op.toString()+" {"+t.getFilters().map(nw).join(" ,")+"}"}(i):"Filter"}class _N extends xt{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class vN extends xt{constructor(e,t){super(e,"in",t),this.keys=iw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class EN extends xt{constructor(e,t){super(e,"not-in",t),this.keys=iw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function iw(i,e){return(e.arrayValue?.values||[]).map(t=>ye.fromName(t.referenceValue))}class TN extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cg(t)&&Du(t.arrayValue,this.value)}}class bN extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Du(this.value.arrayValue,t)}}class wN extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Du(this.value.arrayValue,t)}}class SN extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Du(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function RT(i,e=null,t=[],s=[],o=null,u=null,h=null){return new AN(i,e,t,s,o,u,h)}function hg(i){const e=Re(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Rp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Vo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Vo(s)).join(",")),e.Te=t}return e.Te}function fg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!gN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!tw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!AT(i.startAt,e.startAt)&&AT(i.endAt,e.endAt)}function xp(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RN(i,e,t,s,o,u,h,m){return new Qo(i,e,t,s,o,u,h,m)}function dg(i){return new Qo(i)}function xT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function rw(i){return i.collectionGroup!==null}function Eu(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Pt(Qt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ou(u,s))}),t.has(Qt.keyField().canonicalString())||e.Ie.push(new Ou(Qt.keyField(),s))}return e.Ie}function Ni(i){const e=Re(i);return e.Ee||(e.Ee=xN(e,Eu(i))),e.Ee}function xN(i,e){if(i.limitType==="F")return RT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ou(o.field,u)});const t=i.endAt?new Zh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Zh(i.startAt.position,i.startAt.inclusive):null;return RT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Ip(i,e){const t=i.filters.concat([e]);return new Qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Jh(i,e,t){return new Qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function wf(i,e){return fg(Ni(i),Ni(e))&&i.limitType===e.limitType}function sw(i){return`${hg(Ni(i))}|lt:${i.limitType}`}function bo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>nw(o)).join(", ")}]`),Tf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Vo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Vo(o)).join(",")),`Target(${s})`}(Ni(i))}; limitType=${i.limitType})`}function Sf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=ST(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Eu(s),o)||s.endAt&&!function(h,m,p){const g=ST(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Eu(s),o))}(i,e)}function IN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function aw(i){return(e,t)=>{let s=!1;for(const o of Eu(i)){const u=CN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function CN(i,e,t){const s=i.field.isKeyField()?ye.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Mo(p,g):be(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Hb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new ft(ye.comparator);function br(){return NN}const ow=new ft(ye.comparator);function mu(...i){let e=ow;for(const t of i)e=e.insert(t.key,t);return e}function lw(i){let e=ow;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function la(){return Tu()}function uw(){return Tu()}function Tu(){return new wa(i=>i.toString(),(i,e)=>i.isEqual(e))}const DN=new ft(ye.comparator),ON=new Pt(ye.comparator);function Ve(...i){let e=ON;for(const t of i)e=e.add(t);return e}const kN=new Pt(Me);function PN(){return kN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function cw(i){return{integerValue:""+i}}function MN(i,e){return lN(e)?cw(e):mg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this._=void 0}}function VN(i,e,t){return i instanceof ku?function(o,u){const h={fields:{[Kb]:{stringValue:Gb},[Yb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ug(u)&&(u=bf(u)),u&&(h.fields[$b]=u),{mapValue:h}}(t,e):i instanceof Uo?fw(i,e):i instanceof Lo?dw(i,e):function(o,u){const h=hw(o,u),m=IT(h)+IT(o.Ae);return Ap(h)&&Ap(o.Ae)?cw(m):mg(o.serializer,m)}(i,e)}function UN(i,e,t){return i instanceof Uo?fw(i,e):i instanceof Lo?dw(i,e):t}function hw(i,e){return i instanceof ef?function(s){return Ap(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ku extends Af{}class Uo extends Af{constructor(e){super(),this.elements=e}}function fw(i,e){const t=mw(e);for(const s of i.elements)t.some(o=>Mi(o,s))||t.push(s);return{arrayValue:{values:t}}}class Lo extends Af{constructor(e){super(),this.elements=e}}function dw(i,e){let t=mw(e);for(const s of i.elements)t=t.filter(o=>!Mi(o,s));return{arrayValue:{values:t}}}class ef extends Af{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function IT(i){return Et(i.integerValue||i.doubleValue)}function mw(i){return cg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,t){this.field=e,this.transform=t}}function LN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Uo&&o instanceof Uo||s instanceof Lo&&o instanceof Lo?Po(s.elements,o.elements,Mi):s instanceof ef&&o instanceof ef?Mi(s.Ae,o.Ae):s instanceof ku&&o instanceof ku}(i.transform,e.transform)}class jN{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Rf{}function pw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new gg(i.key,Fn.none()):new Hu(i.key,i.data,Fn.none());{const t=i.data,s=yn.empty();let o=new Pt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ts(i.key,s,new In(o.toArray()),Fn.none())}}function zN(i,e,t){i instanceof Hu?function(o,u,h){const m=o.value.clone(),p=NT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof Ts?function(o,u,h){if(!Uh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=NT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(gw(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function bu(i,e,t,s){return i instanceof Hu?function(u,h,m,p){if(!Uh(u.precondition,h))return m;const g=u.value.clone(),E=DT(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ts?function(u,h,m,p){if(!Uh(u.precondition,h))return m;const g=DT(u.fieldTransforms,p,h),E=h.data;return E.setAll(gw(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,t,s):function(u,h,m){return Uh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function BN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=hw(s.transform,o||null);u!=null&&(t===null&&(t=yn.empty()),t.set(s.field,u))}return t||null}function CT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Po(s,o,(u,h)=>LN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Hu extends Rf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends Rf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function NT(i,e,t){const s=new Map;Ge(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,UN(h,m,t[o]))}return s}function DT(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,VN(u,h,e))}return s}class gg extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qN extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&zN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=bu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=bu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=uw();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=pw(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(t,s)=>CT(t,s))&&Po(this.baseMutations,e.baseMutations,(t,s)=>CT(t,s))}}class yg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return DN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new yg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,ze;function KN(i){switch(i){case te.OK:return be(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be(15467,{code:i})}}function yw(i){if(i===void 0)return Tr("GRPC error has no .code"),te.UNKNOWN;switch(i){case Rt.OK:return te.OK;case Rt.CANCELLED:return te.CANCELLED;case Rt.UNKNOWN:return te.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return te.INTERNAL;case Rt.UNAVAILABLE:return te.UNAVAILABLE;case Rt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Rt.NOT_FOUND:return te.NOT_FOUND;case Rt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Rt.ABORTED:return te.ABORTED;case Rt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Rt.DATA_LOSS:return te.DATA_LOSS;default:return be(39323,{code:i})}}(ze=Rt||(Rt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new us([4294967295,4294967295],0);function OT(i){const e=$N().encode(i),t=new Ob;return t.update(e),new Uint8Array(t.digest())}function kT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new us([t,s],0),new us([o,u],0)]}class _g{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new pu(`Invalid padding: ${t}`);if(s<0)throw new pu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new pu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=us.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(us.fromNumber(s)));return o.compare(YN)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=OT(e),[s,o]=kT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new _g(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const t=OT(e),[s,o]=kT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new xf(Ae.min(),o,new ft(Me),br(),Ve())}}class Fu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Fu(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class _w{constructor(e,t){this.targetId=e,this.Ce=t}}class vw{constructor(e,t,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class PT{constructor(){this.ve=0,this.Fe=MT(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),s=Ve();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}}),new Fu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=MT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QN{constructor(e){this.Ge=e,this.ze=new Map,this.je=br(),this.Je=Sh(),this.He=Sh(),this.Ye=new ft(Me)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(xp(u))if(s===0){const h=new ye(u.path);this.et(t,h,nn.newNoDocument(h,Ae.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=ms(s).toUint8Array()}catch(p){if(p instanceof Fb)return ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _g(h,o,u)}catch(p){return ko(p instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&xp(m.target)){const p=new ye(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,nn.newNoDocument(p,e))}u.Be&&(t.set(h,u.ke()),u.qe())}});let s=Ve();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new xf(e,t,this.Ye,this.je,s);return this.je=br(),this.Je=Sh(),this.He=Sh(),this.Ye=new ft(Me),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new PT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Pt(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Pt(Me),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PT),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Sh(){return new ft(ye.comparator)}function MT(){return new ft(ye.comparator)}const XN={asc:"ASCENDING",desc:"DESCENDING"},WN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZN={and:"AND",or:"OR"};class JN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cp(i,e){return i.useProto3Json||Tf(e)?e:{value:e}}function tf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ew(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function eD(i,e){return tf(i,e.toTimestamp())}function Di(i){return Ge(!!i,49232),Ae.fromTimestamp(function(t){const s=ds(t);return new st(s.seconds,s.nanos)}(i))}function vg(i,e){return Np(i,e).canonicalString()}function Np(i,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function Tw(i){const e=nt.fromString(i);return Ge(Rw(e),10190,{key:e.toString()}),e}function Dp(i,e){return vg(i.databaseId,e.path)}function np(i,e){const t=Tw(e);if(t.get(1)!==i.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ye(ww(t))}function bw(i,e){return vg(i.databaseId,e)}function tD(i){const e=Tw(i);return e.length===4?nt.emptyPath():ww(e)}function Op(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ww(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function VT(i,e,t){return{name:Dp(i,e),fields:t.value.mapValue.fields}}function nD(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?te.UNKNOWN:yw(g.code);return new he(E,g.message||"")}(h);t=new vw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=np(i,s.document.name),u=Di(s.document.updateTime),h=s.document.createTime?Di(s.document.createTime):Ae.min(),m=new yn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Lh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=np(i,s.document),u=s.readTime?Di(s.readTime):Ae.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Lh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=np(i,s.document),u=s.removedTargetIds||[];t=new Lh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new GN(o,u),m=s.targetId;t=new _w(m,h)}}return t}function iD(i,e){let t;if(e instanceof Hu)t={update:VT(i,e.key,e.value)};else if(e instanceof gg)t={delete:Dp(i,e.key)};else if(e instanceof Ts)t={update:VT(i,e.key,e.data),updateMask:fD(e.fieldMask)};else{if(!(e instanceof qN))return be(16599,{Vt:e.type});t={verify:Dp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof ku)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Uo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Lo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ef)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:eD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)}(i,e.precondition)),t}function rD(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?Di(o.updateTime):Di(u);return h.isEqual(Ae.min())&&(h=Di(u)),new jN(h,o.transformResults||[])}(t,e))):[]}function sD(i,e){return{documents:[bw(i,e.path)]}}function aD(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=bw(i,o);const u=function(g){if(g.length!==0)return Aw(ri.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:wo(A.field),direction:uD(A.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Cp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function oD(i){let e=tD(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(w){const A=Sw(w);return A instanceof ri&&ew(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(w){return w.map(A=>function(L){return new Ou(So(L.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(A))}(t.orderBy));let m=null;t.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,Tf(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(w){const A=!!w.before,M=w.values||[];return new Zh(M,A)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const A=!w.before,M=w.values||[];return new Zh(M,A)}(t.endAt)),RN(e,o,h,u,m,"F",p,g)}function lD(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Sw(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=So(t.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=So(t.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=So(t.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=So(t.unaryFilter.field);return xt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(i):i.fieldFilter!==void 0?function(t){return xt.create(So(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ri.create(t.compositeFilter.filters.map(s=>Sw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(t.compositeFilter.op))}(i):be(30097,{filter:i})}function uD(i){return XN[i]}function cD(i){return WN[i]}function hD(i){return ZN[i]}function wo(i){return{fieldPath:i.canonicalString()}}function So(i){return Qt.fromServerFormat(i.fieldPath)}function Aw(i){return i instanceof xt?function(t){if(t.op==="=="){if(wT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NAN"}};if(bT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NAN"}};if(bT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(t.field),op:cD(t.op),value:t.value}}}(i):i instanceof ri?function(t){const s=t.getFilters().map(o=>Aw(o));return s.length===1?s[0]:{compositeFilter:{op:hD(t.op),filters:s}}}(i):be(54877,{filter:i})}function fD(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Rw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t,s,o,u=Ae.min(),h=Ae.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.yt=e}}function mD(i){const e=oD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Jh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.Cn=new gD}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(fs.min())}updateCollectionGroup(e,t,s){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class gD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Pt(nt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xw=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(xw,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jo(0)}static cr(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="LruGarbageCollector",yD=1048576;function jT([i,e],[t,s]){const o=Me(i,t);return o===0?Me(e,s):o}class _D{constructor(e){this.Ir=e,this.buffer=new Pt(jT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();jT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(LT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Yo(t)?fe(LT,"Ignoring IndexedDB error during garbage collection: ",t):await $o(t)}await this.Vr(3e5)})}}class ED{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Ef.ce);const s=new _D(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(UT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UT):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,t))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),To()<=Pe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function TD(i,e){return new ED(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.changes=new wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ie.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&bu(s.mutation,o,In.empty(),st.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=la();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=mu();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=la();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=br();const h=Tu(),m=function(){return Tu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ts)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),bu(E.mutation,g,E.mutation.getFieldMask(),st.now())):h.set(g.key,In.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>m.set(g,new wD(E,h.get(g)??null))),m))}recalculateAndSaveOverlays(e,t){const s=Tu();let o=new ft((h,m)=>h-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||In.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=uw();E.forEach(A=>{if(!u.has(A)){const M=pw(t.get(A),s.get(A));M!==null&&w.set(A,M),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ie.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ie.resolve(la());let m=Iu,p=u;return h.next(g=>ie.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(E=>({batchId:m,changes:lw(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(s=>{let o=mu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=mu();return this.indexManager.getCollectionParents(e,u).next(m=>ie.forEach(m,p=>{const g=function(w,A){return new Qo(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,A)=>{h=h.insert(w,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,nn.newInvalidDocument(E)))});let m=mu();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&bu(E.mutation,g,In.empty(),st.now()),Sf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:mD(o.bundledQuery),readTime:Di(o.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.overlays=new ft(ye.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const s=la();return ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),ie.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,t,s){const o=la(),u=t.length+1,h=new ye(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ft((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=la(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=la(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ie.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new FN(t,s));let u=this.qr.get(t);u===void 0&&(u=Ve(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.Qr=new Pt(Bt.$r),this.Ur=new Pt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Bt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Bt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new ye(new nt([])),s=new Bt(t,e),o=new Bt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new nt([])),s=new Bt(t,e),o=new Bt(t,e+1);let u=Ve();return this.Ur.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Bt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Bt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new HN(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?lg:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Bt(t,0),o=new Bt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],h=>{const m=this.Xr(h.Yr);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Pt(Me);return t.forEach(o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{s=s.add(m.Yr)})}),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new ye(u),0);let m=new Pt(Me);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},h),ie.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(t.mutations,o=>{const u=new Bt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Bt(t,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.ri=e,this.docs=function(){return new ft(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ie.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let s=br();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=br();const h=t.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||rN(iN(E),s)<=0||(o.has(E.key)||Sf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,s,o){be(9500)}ii(e,t){return ie.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new ND(this)}getSize(e){return ie.resolve(this.size)}}class ND extends bD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.persistence=e,this.si=new wa(t=>hg(t),fg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Eg,this.targetCount=0,this.ai=jo.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new jo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ie.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ie.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ie.resolve(s)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ef(0),this.li=!1,this.li=!0,this.hi=new xD,this.referenceDelegate=e(this),this.Pi=new DD(this),this.indexManager=new pD,this.remoteDocumentCache=function(o){return new CD(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new dD(t),this.Ii=new AD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new ID(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new OD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,t){return ie.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class OD extends aN{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Ri=new Eg,this.Vi=null}static mi(e){return new Tg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,s=>{const o=ye.fromPath(s);return this.gi(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class nf{constructor(e,t){this.persistence=e,this.pi=new wa(s=>uN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=TD(this,t)}static mi(e,t){return new nf(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return ie.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?ie.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mh(e.data.value)),t}br(e,t,s){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return dx()?8:oN(rn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new kD;return this.Ss(e,t,h).next(m=>{if(u.result=m,this.Vs)return this.bs(e,t,h,m.size)})}).next(()=>u.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(To()<=Pe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(To()<=Pe.DEBUG&&fe("QueryEngine","Query:",bo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(To()<=Pe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(t))):ie.resolve())}ys(e,t){if(xT(t))return ie.resolve(null);let s=Ni(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Jh(t,null,"F"),s=Ni(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ve(...u);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(t,m);return this.Cs(t,g,h,p.readTime)?this.ys(e,Jh(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,s,o){return xT(t)||o.isEqual(Ae.min())?ie.resolve(null):this.ps.getDocuments(e,s).next(u=>{const h=this.Ds(t,u);return this.Cs(t,h,s,o)?ie.resolve(null):(To()<=Pe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bo(t)),this.vs(e,h,t,nN(o,Iu)).next(m=>m))})}Ds(e,t){let s=new Pt(aw(e));return t.forEach((o,u)=>{Sf(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return To()<=Pe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",bo(t)),this.ps.getDocumentsMatchingQuery(e,t,fs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="LocalStore",MD=3e8;class VD{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ft(Me),this.xs=new wa(u=>hg(u),fg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function UD(i,e,t,s){return new VD(i,e,t,s)}async function Cw(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:m}))})})}function LD(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,A=w.keys();let M=ie.resolve();return A.forEach(L=>{M=M.next(()=>E.getEntry(p,L)).next(B=>{const U=g.docVersions.get(L);Ge(U!==null,48541),B.version.compareTo(U)<0&&(w.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),E.addEntry(B)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Nw(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function jD(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(t.Pi.removeMatchingKeys(u,E.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(u,E.addedDocuments,w)));let M=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?M=M.withResumeToken(Xt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(w,M),function(B,U,q){return B.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=MD?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(A,M,E)&&m.push(t.Pi.updateTargetData(u,M))});let p=br(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(zD(u,h,e.documentUpdates).next(E=>{p=E.ks,g=E.qs})),!s.isEqual(Ae.min())){const E=t.Pi.getLastRemoteSnapshotVersion(u).next(w=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ie.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ms=o,u))}function zD(i,e,t){let s=Ve(),o=Ve();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=br();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):fe(wg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:o}})}function BD(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=lg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function qD(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(u=>u?(o=u,ie.resolve(o)):t.Pi.allocateTargetId(s).next(h=>(o=new rs(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function kp(i,e,t){const s=Re(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Yo(h))throw h;fe(wg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function zT(i,e,t){const s=Re(i);let o=Ae.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const w=Re(p),A=w.xs.get(E);return A!==void 0?ie.resolve(w.Ms.get(A)):w.Pi.getTargetData(g,E)}(s,h,Ni(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?u:Ve())).next(m=>(HD(s,IN(e),m),{documents:m,Qs:u})))}function HD(i,e,t){let s=i.Os.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class BT{constructor(){this.activeTargetIds=PN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FD{constructor(){this.Mo=new BT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new BT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="ConnectivityMonitor";class HT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(qT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(qT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=null;function Pp(){return Ah===null?Ah=function(){return 268435456+Math.round(2147483648*Math.random())}():Ah++,"0x"+Ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="RestConnection",KD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $D{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const h=Pp(),m=this.zo(e,t.toUriEncodedString());fe(ip,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=_s(g);return this.Jo(e,m,p,s,E).then(w=>(fe(ip,`Received RPC '${e}' ${h}: `,w),w),w=>{throw ko(ip,`RPC '${e}' ${h} failed with error: `,w,"url: ",m,"request:",s),w})}Ho(e,t,s,o,u,h){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,t){const s=KD[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class QD extends $D{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=Pp();return new Promise((m,p)=>{const g=new kb;g.setWithCredentials(!0),g.listenOnce(Pb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ph.NO_ERROR:const w=g.getResponseJson();fe(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),m(w);break;case Ph.TIMEOUT:fe(en,`RPC '${e}' ${h} timed out`),p(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case Ph.HTTP_ERROR:const A=g.getStatus();if(fe(en,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const L=M?.error;if(L&&L.status&&L.message){const B=function(q){const Z=q.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Z)>=0?Z:te.UNKNOWN}(L.status);p(new he(B,L.message))}else p(new he(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(te.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(en,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);fe(en,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",E,s,15)})}T_(e,t,s){const o=Pp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ub(),m=Vb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");fe(en,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=h.createWebChannel(E,p);this.I_(w);let A=!1,M=!1;const L=new YD({Yo:U=>{M?fe(en,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(A||(fe(en,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),fe(en,`RPC '${e}' stream ${o} sending:`,U),w.send(U))},Zo:()=>w.close()}),B=(U,q,Z)=>{U.listen(q,X=>{try{Z(X)}catch(W){setTimeout(()=>{throw W},0)}})};return B(w,du.EventType.OPEN,()=>{M||(fe(en,`RPC '${e}' stream ${o} transport opened.`),L.o_())}),B(w,du.EventType.CLOSE,()=>{M||(M=!0,fe(en,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(w))}),B(w,du.EventType.ERROR,U=>{M||(M=!0,ko(en,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),L.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))}),B(w,du.EventType.MESSAGE,U=>{if(!M){const q=U.data[0];Ge(!!q,16349);const Z=q,X=Z?.error||Z[0]?.error;if(X){fe(en,`RPC '${e}' stream ${o} received error:`,X);const W=X.status;let re=function(R){const x=Rt[R];if(x!==void 0)return yw(x)}(W),ce=X.message;re===void 0&&(re=te.INTERNAL,ce="Unknown error status: "+W+" with message "+X.message),M=!0,L.a_(new he(re,ce)),w.close()}else fe(en,`RPC '${e}' stream ${o} received:`,q),L.u_(q)}}),B(m,Mb.STAT_EVENT,U=>{U.stat===bp.PROXY?fe(en,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===bp.NOPROXY&&fe(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.__()},0),L}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(i){return new JN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="PersistentStream";class Ow{constructor(e,t,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Tr(t.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(FT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(fe(FT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XD extends Ow{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=nD(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Di(h.readTime):Ae.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Op(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=xp(p)?{documents:sD(u,p)}:{query:aD(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Ew(u,h.resumeToken);const g=Cp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=tf(u,h.snapshotVersion.toTimestamp());const g=Cp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=lD(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Op(this.serializer),t.removeTarget=e,this.q_(t)}}class WD extends Ow{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=rD(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Op(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>iD(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{}class JD extends ZD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,Np(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(te.UNKNOWN,u.toString())})}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,Np(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(te.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class eO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class tO{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{Sa(this)&&(fe(ga,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.Ea.add(4),await Gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Cf(g)}(this))})}),this.Ra=new eO(s,o)}}async function Cf(i){if(Sa(i))for(const e of i.da)await e(!0)}async function Gu(i){for(const e of i.da)await e(!1)}function kw(i,e){const t=Re(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),xg(t)?Rg(t):Xo(t).O_()&&Ag(t,e))}function Sg(i,e){const t=Re(i),s=Xo(t);t.Ia.delete(e),s.O_()&&Pw(t,e),t.Ia.size===0&&(s.O_()?s.L_():Sa(t)&&t.Ra.set("Unknown"))}function Ag(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xo(i).Y_(e)}function Pw(i,e){i.Va.Ue(e),Xo(i).Z_(e)}function Rg(i){i.Va=new QN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Xo(i).start(),i.Ra.ua()}function xg(i){return Sa(i)&&!Xo(i).x_()&&i.Ia.size>0}function Sa(i){return Re(i).Ea.size===0}function Mw(i){i.Va=void 0}async function nO(i){i.Ra.set("Online")}async function iO(i){i.Ia.forEach((e,t)=>{Ag(i,e)})}async function rO(i,e){Mw(i),xg(i)?(i.Ra.ha(e),Rg(i)):i.Ra.set("Unknown")}async function sO(i,e,t){if(i.Ra.set("Online"),e instanceof vw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){fe(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rf(i,s)}else if(e instanceof Lh?i.Va.Ze(e):e instanceof _w?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ae.min()))try{const s=await Nw(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),Pw(u,p);const w=new rs(E.target,p,g,E.sequenceNumber);Ag(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){fe(ga,"Failed to raise snapshot:",s),await rf(i,s)}}async function rf(i,e,t){if(!Yo(e))throw e;i.Ea.add(1),await Gu(i),i.Ra.set("Offline"),t||(t=()=>Nw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe(ga,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Cf(i)})}function Vw(i,e){return e().catch(t=>rf(i,t,e))}async function Nf(i){const e=Re(i),t=gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lg;for(;aO(e);)try{const o=await BD(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,oO(e,o)}catch(o){await rf(e,o)}Uw(e)&&Lw(e)}function aO(i){return Sa(i)&&i.Ta.length<10}function oO(i,e){i.Ta.push(e);const t=gs(i);t.O_()&&t.X_&&t.ea(e.mutations)}function Uw(i){return Sa(i)&&!gs(i).x_()&&i.Ta.length>0}function Lw(i){gs(i).start()}async function lO(i){gs(i).ra()}async function uO(i){const e=gs(i);for(const t of i.Ta)e.ea(t.mutations)}async function cO(i,e,t){const s=i.Ta.shift(),o=yg.from(s,e,t);await Vw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Nf(i)}async function hO(i,e){e&&gs(i).X_&&await async function(s,o){if(function(h){return KN(h)&&h!==te.ABORTED}(o.code)){const u=s.Ta.shift();gs(s).B_(),await Vw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Nf(s)}}(i,e),Uw(i)&&Lw(i)}async function GT(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),fe(ga,"RemoteStore received new credentials");const s=Sa(t);t.Ea.add(3),await Gu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Cf(t)}async function fO(i,e){const t=Re(i);e?(t.Ea.delete(2),await Cf(t)):e||(t.Ea.add(2),await Gu(t),t.Ra.set("Unknown"))}function Xo(i){return i.ma||(i.ma=function(t,s,o){const u=Re(t);return u.sa(),new XD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:nO.bind(null,i),t_:iO.bind(null,i),r_:rO.bind(null,i),H_:sO.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),xg(i)?Rg(i):i.Ra.set("Unknown")):(await i.ma.stop(),Mw(i))})),i.ma}function gs(i){return i.fa||(i.fa=function(t,s,o){const u=Re(t);return u.sa(),new WD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:lO.bind(null,i),r_:hO.bind(null,i),ta:uO.bind(null,i),na:cO.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await Nf(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(ga,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new Ig(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),Yo(i))return new he(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=mu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.ga=new ft(ye.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class zo{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new zo(e,t,Co.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class mO{constructor(){this.queries=$T(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=$T(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new he(te.ABORTED,"Firestore shutting down"))}}function $T(){return new wa(i=>sw(i),wf)}async function pO(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new dO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=Cg(h,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Ng(t)}async function gO(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function yO(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Ng(t)}function _O(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function Ng(i){i.Ca.forEach(e=>{e.next()})}var Mp,YT;(YT=Mp||(Mp={})).Ma="default",YT.Cache="cache";class vO{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.key=e}}class zw{constructor(e){this.key=e}}class EO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=aw(e),this.tu=new Co(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new KT,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),M=Sf(this.query,w)?w:null,L=!!A&&this.mutatedKeys.has(A.key),B=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let U=!1;A&&M?A.data.isEqual(M.data)?L!==B&&(s.track({type:3,doc:M}),U=!0):this.su(A,M)||(s.track({type:2,doc:M}),U=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!A&&M?(s.track({type:0,doc:M}),U=!0):A&&!M&&(s.track({type:1,doc:A}),U=!0,(p||g)&&(m=!0)),U&&(M?(h=h.add(M),u=B?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((E,w)=>function(M,L){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:U})}};return B(M)-B(L)}(E.type,w.type)||this.eu(E.doc,w.doc)),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new zo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new zw(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new jw(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dg="SyncEngine";class TO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class bO{constructor(e){this.key=e,this.hu=!1}}class wO{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new wa(m=>sw(m),wf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(ye.comparator),this.Au=new Map,this.Ru=new Eg,this.Vu={},this.mu=new Map,this.fu=jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SO(i,e,t=!0){const s=Kw(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Bw(s,e,t,!0),o}async function AO(i,e){const t=Kw(i);await Bw(t,e,!0,!1)}async function Bw(i,e,t,s){const o=await qD(i.localStore,Ni(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await RO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&kw(i.remoteStore,o),m}async function RO(i,e,t,s,o){i.pu=(w,A,M)=>async function(B,U,q,Z){let X=U.view.ru(q);X.Cs&&(X=await zT(B.localStore,U.query,!1).then(({documents:N})=>U.view.ru(N,X)));const W=Z&&Z.targetChanges.get(U.targetId),re=Z&&Z.targetMismatches.get(U.targetId)!=null,ce=U.view.applyChanges(X,B.isPrimaryClient,W,re);return XT(B,U.targetId,ce.au),ce.snapshot}(i,w,A,M);const u=await zT(i.localStore,e,!0),h=new EO(e,u.Qs),m=h.ru(u.documents),p=Fu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);XT(i,t,g.au);const E=new TO(e,t,h);return i.Tu.set(e,E),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function xO(i,e,t){const s=Re(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(h=>!wf(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await kp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Sg(s.remoteStore,o.targetId),Vp(s,o.targetId)}).catch($o)):(Vp(s,o.targetId),await kp(s.localStore,o.targetId,!0))}async function IO(i,e){const t=Re(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Sg(t.remoteStore,s.targetId))}async function CO(i,e,t){const s=VO(i);try{const o=await function(h,m){const p=Re(h),g=st.now(),E=m.reduce((M,L)=>M.add(L.key),Ve());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let L=br(),B=Ve();return p.Ns.getEntries(M,E).next(U=>{L=U,L.forEach((q,Z)=>{Z.isValidDocument()||(B=B.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,L)).next(U=>{w=U;const q=[];for(const Z of m){const X=BN(Z,w.get(Z.key).overlayedDocument);X!=null&&q.push(new Ts(Z.key,X,Wb(X.value.mapValue),Fn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,q,m)}).next(U=>{A=U;const q=U.applyToLocalDocumentSet(w,B);return p.documentOverlayCache.saveOverlays(M,U.batchId,q)})}).then(()=>({batchId:A.batchId,changes:lw(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ft(Me)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g}(s,o.batchId,t),await Ku(s,o.changes),await Nf(s.remoteStore)}catch(o){const u=Cg(o,"Failed to persist write");t.reject(u)}}async function qw(i,e){const t=Re(i);try{const s=await jD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))}),await Ku(t,s,e)}catch(s){await $o(s)}}function QT(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Re(h);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const A of w.Sa)A.va(m)&&(g=!0)}),g&&Ng(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function NO(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(ye.comparator);h=h.insert(u,nn.newNoDocument(u,Ae.min()));const m=Ve().add(u),p=new xf(Ae.min(),new Map,new ft(Me),h,m);await qw(s,p),s.du=s.du.remove(u),s.Au.delete(e),Og(s)}else await kp(s.localStore,e,!1).then(()=>Vp(s,e,t)).catch($o)}async function DO(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await LD(t.localStore,e);Fw(t,s,null),Hw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ku(t,o)}catch(o){await $o(o)}}async function OO(i,e,t){const s=Re(i);try{const o=await function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Ge(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Fw(s,e,t),Hw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ku(s,o)}catch(o){await $o(o)}}function Hw(i,e){(i.mu.get(e)||[]).forEach(t=>{t.resolve()}),i.mu.delete(e)}function Fw(i,e,t){const s=Re(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Vp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||Gw(i,s)})}function Gw(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Sg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Og(i))}function XT(i,e,t){for(const s of t)s instanceof jw?(i.Ru.addReference(s.key,e),kO(i,s)):s instanceof zw?(fe(Dg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Gw(i,s.key)):be(19791,{wu:s})}function kO(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(fe(Dg,"New document in limbo: "+t),i.Eu.add(s),Og(i))}function Og(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ye(nt.fromString(e)),s=i.fu.next();i.Au.set(s,new bO(t)),i.du=i.du.insert(t,s),kw(i.remoteStore,new rs(Ni(dg(t.path)),s,"TargetPurposeLimboResolution",Ef.ce))}}async function Ku(i,e,t){const s=Re(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{h.push(s.pu(p,e,t).then(g=>{if((g||t)&&s.isPrimaryClient){const E=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=bg.As(p.targetId,g);u.push(E)}}))}),await Promise.all(h),s.Pu.H_(o),await async function(p,g){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ie.forEach(g,A=>ie.forEach(A.Es,M=>E.persistence.referenceDelegate.addReference(w,A.targetId,M)).next(()=>ie.forEach(A.ds,M=>E.persistence.referenceDelegate.removeReference(w,A.targetId,M)))))}catch(w){if(!Yo(w))throw w;fe(wg,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const M=E.Ms.get(A),L=M.snapshotVersion,B=M.withLastLimboFreeSnapshotVersion(L);E.Ms=E.Ms.insert(A,B)}}}(s.localStore,u))}async function PO(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){fe(Dg,"User change. New user:",e.toKey());const s=await Cw(t.localStore,e);t.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new he(te.CANCELLED,h))})}),u.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ku(t,s.Ls)}}function MO(i,e){const t=Re(i),s=t.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Kw(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=qw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NO.bind(null,e),e.Pu.H_=yO.bind(null,e.eventManager),e.Pu.yu=_O.bind(null,e.eventManager),e}function VO(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OO.bind(null,e),e}class sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return UD(this.persistence,new PD,e.initialUser,this.serializer)}Cu(e){return new Iw(Tg.mi,this.serializer)}Du(e){return new FD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sf.provider={build:()=>new sf};class UO extends sf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ge(this.persistence.referenceDelegate instanceof nf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vD(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Iw(s=>nf.mi(s,t),this.serializer)}}class Up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>QT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PO.bind(null,this.syncEngine),await fO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mO}()}createDatastore(e){const t=If(e.databaseInfo.databaseId),s=function(u){return new QD(u)}(e.databaseInfo);return function(u,h,m,p){return new JD(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new tO(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>QT(this.syncEngine,t,0),function(){return HT.v()?new HT:new GD}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,E){const w=new wO(o,u,h,m,p,g);return E&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Re(t);fe(ga,"RemoteStore shutting down."),s.Ea.add(5),await Gu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class jO{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{fe(ys,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(fe(ys,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Cg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sp(i,e){i.asyncQueue.verifyOperationInProgress(),fe(ys,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Cw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function WT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await zO(i);fe(ys,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>GT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>GT(e.remoteStore,o)),i._onlineComponents=e}async function zO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(ys,"Using user provided OfflineComponentProvider");try{await sp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ko("Error using user provided cache. Falling back to memory cache: "+t),await sp(i,new sf)}}else fe(ys,"Using default OfflineComponentProvider"),await sp(i,new UO(void 0));return i._offlineComponents}async function $w(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(ys,"Using user provided OnlineComponentProvider"),await WT(i,i._uninitializedComponentsProvider._online)):(fe(ys,"Using default OnlineComponentProvider"),await WT(i,new Up))),i._onlineComponents}function BO(i){return $w(i).then(e=>e.syncEngine)}async function ZT(i){const e=await $w(i),t=e.eventManager;return t.onListen=SO.bind(null,e.syncEngine),t.onUnlisten=xO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=AO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=IO.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firestore.googleapis.com",e0=!0;class t0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qw,this.ssl=e0}else this.host=e.host,this.ssl=e.ssl??e0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yD)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yw(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new GC;switch(s.type){case"firstParty":return new QC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=JT.get(t);s&&(fe("ComponentProvider","Removing Datastore"),JT.delete(t),s.terminate())}(this),Promise.resolve()}}function qO(i,e,t,s={}){i=Ci(i,Df);const o=_s(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&($p(`https://${m}`),Yp("Firestore",!0)),u.host!==Qw&&u.host!==m&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!_r(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=tn.MOCK_USER;else{g=K0(s.mockUserToken,i._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(w)}i._authCredentials=new KC(new jb(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class Tt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(qu(t,Tt._jsonSchema))return new Tt(e,s||null,new ye(nt.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:It("string",Tt._jsonSchemaVersion),referencePath:It("string")};class cs extends bs{constructor(e,t,s){super(e,t,dg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ye(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function $n(i,e,...t){if(i=rt(i),zb("collection","path",e),i instanceof Df){const s=nt.fromString(e,...t);return dT(s),new cs(i,null,s)}{if(!(i instanceof Tt||i instanceof cs))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...t));return dT(s),new cs(i.firestore,null,s)}}function cn(i,e,...t){if(i=rt(i),arguments.length===1&&(e=og.newId()),zb("doc","path",e),i instanceof Df){const s=nt.fromString(e,...t);return fT(s),new Tt(i,null,new ye(s))}{if(!(i instanceof Tt||i instanceof cs))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...t));return fT(s),new Tt(i.firestore,i instanceof cs?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="AsyncQueue";class i0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dw(this,"async_queue_retry"),this._c=()=>{const s=rp();s&&fe(n0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ua;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yo(e))throw e;fe(n0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",r0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Ig.createAndSchedule(this,e,t,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:r0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function r0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class ya extends Df{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new i0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new i0(e),this._firestoreClient=void 0,await e}}}function HO(i,e){const t=typeof i=="object"?i:Wp(),s=typeof i=="string"?i:Xh,o=mf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=H0("firestore");u&&qO(o,...u)}return o}function Xw(i){if(i._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||FO(i),i._firestoreClient}function FO(i){const e=i._freezeSettings(),t=function(o,u,h,m){return new fN(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Yw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new jO(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Xt.fromBase64String(e))}catch(t){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:It("string",Hn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(qu(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:It("string",Oi._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ki(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:It("string",ki._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=/^__.*__$/;class KO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hu(e,this.data,t,this.fieldTransforms)}}class Ww{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:i})}}class kf{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return af(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Zw(this.Ac)&&GO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $O{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||If(e)}Cc(e,t,s,o=!1){return new kf({Ac:e,methodName:t,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pf(i){const e=i._freezeSettings(),t=If(i._databaseId);return new $O(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Jw(i,e,t,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);Vg("Data must be an object, but it was:",h,s);const m=t1(s,h);let p,g;if(u.merge)p=new In(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=Lp(e,w,t);if(!h.contains(A))throw new he(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);i1(E,A)||E.push(A)}p=new In(E),g=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=h.fieldTransforms;return new KO(new yn(m),p,g)}class Mf extends Wo{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mf}}function e1(i,e,t){return new kf({Ac:3,Dc:e.settings.Dc,methodName:i._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kg extends Wo{_toFieldTransform(e){return new pg(e.path,new ku)}isEqual(e){return e instanceof kg}}class Pg extends Wo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=e1(this,e,!0),s=this.vc.map(u=>Aa(u,t)),o=new Uo(s);return new pg(e.path,o)}isEqual(e){return e instanceof Pg&&_r(this.vc,e.vc)}}class Mg extends Wo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=e1(this,e,!0),s=this.vc.map(u=>Aa(u,t)),o=new Lo(s);return new pg(e.path,o)}isEqual(e){return e instanceof Mg&&_r(this.vc,e.vc)}}function YO(i,e,t,s){const o=i.Cc(1,e,t);Vg("Data must be an object, but it was:",o,s);const u=[],h=yn.empty();Es(s,(p,g)=>{const E=Ug(e,p,t);g=rt(g);const w=o.yc(E);if(g instanceof Mf)u.push(E);else{const A=Aa(g,w);A!=null&&(u.push(E),h.set(E,A))}});const m=new In(u);return new Ww(h,m,o.fieldTransforms)}function QO(i,e,t,s,o,u){const h=i.Cc(1,e,t),m=[Lp(e,s,t)],p=[o];if(u.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Lp(e,u[A])),p.push(u[A+1]);const g=[],E=yn.empty();for(let A=m.length-1;A>=0;--A)if(!i1(g,m[A])){const M=m[A];let L=p[A];L=rt(L);const B=h.yc(M);if(L instanceof Mf)g.push(M);else{const U=Aa(L,B);U!=null&&(g.push(M),E.set(M,U))}}const w=new In(g);return new Ww(E,w,h.fieldTransforms)}function XO(i,e,t,s=!1){return Aa(t,i.Cc(s?4:3,e))}function Aa(i,e){if(n1(i=rt(i)))return Vg("Unsupported field value:",e,i),t1(i,e);if(i instanceof Wo)return function(s,o){if(!Zw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=Aa(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:tf(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tf(o.serializer,u)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:Ew(o.serializer,s._byteString)};if(s instanceof Tt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ki)return function(h,m){return{mapValue:{fields:{[Qb]:{stringValue:Xb},[Wh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return mg(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${vf(s)}`)}(i,e)}function t1(i,e){const t={};return Hb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(i,(s,o)=>{const u=Aa(o,e.mc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function n1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof Oi||i instanceof Hn||i instanceof Tt||i instanceof Wo||i instanceof ki)}function Vg(i,e,t){if(!n1(t)||!Bb(t)){const s=vf(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Lp(i,e,t){if((e=rt(e))instanceof Of)return e._internalPath;if(typeof e=="string")return Ug(i,e);throw af("Field path arguments must be of type string or ",i,!1,void 0,t)}const WO=new RegExp("[~\\*/\\[\\]]");function Ug(i,e,t){if(e.search(WO)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Of(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function af(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new he(te.INVALID_ARGUMENT,m+i+p)}function i1(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ZO extends r1{data(){return super.data()}}function Lg(i,e){return typeof e=="string"?Ug(i,e):e instanceof Of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{}class zg extends jg{}function Vi(i,e,...t){let s=[];e instanceof jg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof qg).length,m=u.filter(p=>p instanceof Bg).length;if(h>1||h>0&&m>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Bg extends zg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Bg(e,t,s)}_apply(e){const t=this._parse(e);return s1(e._query,t),new bs(e.firestore,e.converter,Ip(e._query,t))}_parse(e){const t=Pf(e.firestore);return function(u,h,m,p,g,E,w){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){o0(w,E);const L=[];for(const B of w)L.push(a0(p,u,B));A={arrayValue:{values:L}}}else A=a0(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||o0(w,E),A=XO(m,h,w,E==="in"||E==="not-in");return xt.create(g,E,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class qg extends jg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ri.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)s1(h,p),h=Ip(h,p)}(e._query,t),new bs(e.firestore,e.converter,Ip(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hg extends zg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Hg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ou(u,h)}(e._query,this._field,this._direction);return new bs(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Qo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Gn(i,e="asc"){const t=e,s=Lg("orderBy",i);return Hg._create(s,t)}class Fg extends zg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Fg(e,t,s)}_apply(e){return new bs(e.firestore,e.converter,Jh(e._query,this._limit,this._limitType))}}function ek(i){return Fg._create("limit",i,"F")}function a0(i,e,t){if(typeof(t=rt(t))=="string"){if(t==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rw(e)&&t.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(nt.fromString(t));if(!ye.isDocumentKey(s))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return TT(i,new ye(s))}if(t instanceof Tt)return TT(i,t._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(t)}.`)}function o0(i,e){if(!Array.isArray(i)||i.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function s1(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tk{convertValue(e,t="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Es(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){const t=e.fields?.[Wh].arrayValue?.values?.map(s=>Et(s.doubleValue));return new ki(t)}convertGeoPoint(e){return new Oi(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=bf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){const t=ds(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=nt.fromString(e);Ge(Rw(s),9688,{name:e});const o=new Nu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(t)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class gu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends r1{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Lg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ca._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:It("string",ca._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class jh extends ca{data(e={}){return super.data(e)}}class No{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new gu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new jh(this._firestore,this._userDataWriter,s.key,s,new gu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new jh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new jh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:nk(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=No._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:i})}}No._jsonSchemaVersion="firestore/querySnapshot/1.0",No._jsonSchema={type:It("string",No._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class o1 extends tk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function l1(i,e,t){i=Ci(i,Tt);const s=Ci(i.firestore,ya),o=a1(i.converter,e,t);return Vf(s,[Jw(Pf(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Fn.none())])}function ha(i,e,t,...s){i=Ci(i,Tt);const o=Ci(i.firestore,ya),u=Pf(o);let h;return h=typeof(e=rt(e))=="string"||e instanceof Of?QO(u,"updateDoc",i._key,e,t,s):YO(u,"updateDoc",i._key,e),Vf(o,[h.toMutation(i._key,Fn.exists(!0))])}function Gg(i){return Vf(Ci(i.firestore,ya),[new gg(i._key,Fn.none())])}function Kg(i,e){const t=Ci(i.firestore,ya),s=cn(i),o=a1(i.converter,e);return Vf(t,[Jw(Pf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then(()=>s)}function Yn(i,...e){i=rt(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||s0(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(s0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof Tt)h=Ci(i.firestore,ya),m=dg(i._key.path),u={next:p=>{e[s]&&e[s](ik(h,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Ci(i,bs);h=Ci(p.firestore,ya),m=p._query;const g=new o1(h);u={next:E=>{e[s]&&e[s](new No(h,g,p,E))},error:e[s+1],complete:e[s+2]},JO(i._query)}return function(g,E,w,A){const M=new LO(A),L=new vO(E,M,w);return g.asyncQueue.enqueueAndForget(async()=>pO(await ZT(g),L)),()=>{M.Nu(),g.asyncQueue.enqueueAndForget(async()=>gO(await ZT(g),L))}}(Xw(h),m,o,u)}function Vf(i,e){return function(s,o){const u=new ua;return s.asyncQueue.enqueueAndForget(async()=>CO(await BO(s),o,u)),u.promise}(Xw(i),e)}function ik(i,e,t){const s=t.docs.get(e._key),o=new o1(i);return new ca(i,o,e._key,s,new gu(t.hasPendingWrites,t.fromCache),e.converter)}function _n(){return new kg("serverTimestamp")}function rk(...i){return new Pg("arrayUnion",i)}function sk(...i){return new Mg("arrayRemove",i)}(function(e,t=!0){(function(o){Ko=o})(Ta),da(new hs("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ya(new $C(s.getProvider("auth-internal")),new XC(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(g.options.projectId,E)}(h,o),h);return u={useFetchStreams:t,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ri(lT,uT,e),Ri(lT,uT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="firebasestorage.googleapis.com",c1="storageBucket",ak=120*1e3,ok=600*1e3,lk=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends zi{constructor(e,t,s=0){super(ap(e),`Firebase Storage: ${t} (${ap(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ap(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var at;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(at||(at={}));function ap(i){return"storage/"+i}function $g(){const i="An unknown error occurred, please check the error payload for server response.";return new dt(at.UNKNOWN,i)}function uk(i){return new dt(at.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function ck(i){return new dt(at.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hk(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(at.UNAUTHENTICATED,i)}function fk(){return new dt(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dk(i){return new dt(at.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function h1(){return new dt(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f1(){return new dt(at.CANCELED,"User canceled the upload/download.")}function mk(i){return new dt(at.INVALID_URL,"Invalid URL '"+i+"'.")}function pk(i){return new dt(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function gk(){return new dt(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+c1+"' property when initializing the app?")}function d1(){return new dt(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yk(){return new dt(at.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function _k(){return new dt(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vk(i){return new dt(at.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jp(i){return new dt(at.INVALID_ARGUMENT,i)}function m1(){return new dt(at.APP_DELETED,"The Firebase app was deleted.")}function Ek(i){return new dt(at.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wu(i,e){return new dt(at.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function cu(i){throw new dt(at.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=hn.makeFromUrl(e,t)}catch{return new hn(e,"")}if(s.path==="")return s;throw pk(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(W){W.path_=decodeURIComponent(W.path)}const E="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",M=new RegExp(`^https?://${w}/${E}/b/${o}/o${A}`,"i"),L={bucket:1,path:3},B=t===u1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",q=new RegExp(`^https?://${B}/${o}/${U}`,"i"),X=[{regex:m,indices:p,postModify:u},{regex:M,indices:L,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let W=0;W<X.length;W++){const re=X[W],ce=re.regex.exec(e);if(ce){const N=ce[re.indices.bucket];let R=ce[re.indices.path];R||(R=""),s=new hn(N,R),re.postModify(s);break}}if(s==null)throw mk(e);return s}}class Tk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(i,e,t){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...U){g||(g=!0,e.apply(null,U))}function w(U){o=setTimeout(()=>{o=null,i(M,p())},U)}function A(){u&&clearTimeout(u)}function M(U,...q){if(g){A();return}if(U){A(),E.call(null,U,...q);return}if(p()||h){A(),E.call(null,U,...q);return}s<64&&(s*=2);let X;m===1?(m=2,X=0):X=(s+Math.random())*1e3,w(X)}let L=!1;function B(U){L||(L=!0,A(),!g&&(o!==null?(U||(m=2),clearTimeout(o),w(0)):U||(m=1)))}return w(0),u=setTimeout(()=>{h=!0,B(!0)},t),B}function wk(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(i){return i!==void 0}function Ak(i){return typeof i=="function"}function Rk(i){return typeof i=="object"&&!Array.isArray(i)}function Uf(i){return typeof i=="string"||i instanceof String}function l0(i){return Yg()&&i instanceof Blob}function Yg(){return typeof Blob<"u"}function zp(i,e,t,s){if(s<e)throw jp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw jp(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function p1(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var fa;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(fa||(fa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,s,o,u,h,m,p,g,E,w,A=!0,M=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,B)=>{this.resolve_=L,this.reject_=B,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Rh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===fa.NO_ERROR,p=u.getStatus();if(!m||g1(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===fa.ABORT;s(!1,new Rh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Rh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());Sk(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=$g();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?m1():f1();h(p)}else{const p=h1();h(p)}};this.canceled_?t(!1,new Rh(!1,null,!0)):this.backoffId_=bk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function Ik(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function Ck(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Nk(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Dk(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function Ok(i,e,t,s,o,u,h=!0,m=!1){const p=p1(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return Nk(E,e),Ik(E,t),Ck(E,u),Dk(E,s),new xk(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Pk(...i){const e=kk();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(Yg())return new Blob(i);throw new dt(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Mk(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(i){if(typeof atob>"u")throw vk("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class op{constructor(e,t){this.data=e,this.contentType=t||null}}function Uk(i,e){switch(i){case Ai.RAW:return new op(y1(e));case Ai.BASE64:case Ai.BASE64URL:return new op(_1(i,e));case Ai.DATA_URL:return new op(jk(e),zk(e))}throw $g()}function y1(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Lk(i){let e;try{e=decodeURIComponent(i)}catch{throw wu(Ai.DATA_URL,"Malformed data URL.")}return y1(e)}function _1(i,e){switch(i){case Ai.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw wu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ai.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw wu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Vk(e)}catch(o){throw o.message.includes("polyfill")?o:wu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class v1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw wu(Ai.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=Bk(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function jk(i){const e=new v1(i);return e.base64?_1(Ai.BASE64,e.rest):Lk(e.rest)}function zk(i){return new v1(i).contentType}function Bk(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,t){let s=0,o="";l0(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(l0(this.data_)){const s=this.data_,o=Mk(s,e,t);return o===null?null:new is(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new is(s,!0)}}static getBlob(...e){if(Yg()){const t=e.map(s=>s instanceof is?s.data_:s);return new is(Pk.apply(null,t))}else{const t=e.map(h=>Uf(h)?Uk(Ai.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new is(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(i){let e;try{e=JSON.parse(i)}catch{return null}return Rk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Hk(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function E1(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(i,e){return e}class un{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||Fk}}let xh=null;function Gk(i){return!Uf(i)||i.length<2?i:E1(i)}function Xg(){if(xh)return xh;const i=[];i.push(new un("bucket")),i.push(new un("generation")),i.push(new un("metageneration")),i.push(new un("name","fullPath",!0));function e(u,h){return Gk(h)}const t=new un("name");t.xform=e,i.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new un("size");return o.xform=s,i.push(o),i.push(new un("timeCreated")),i.push(new un("updated")),i.push(new un("md5Hash",null,!0)),i.push(new un("cacheControl",null,!0)),i.push(new un("contentDisposition",null,!0)),i.push(new un("contentEncoding",null,!0)),i.push(new un("contentLanguage",null,!0)),i.push(new un("contentType",null,!0)),i.push(new un("metadata","customMetadata",!0)),xh=i,xh}function Kk(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new hn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function $k(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return Kk(s,i),s}function T1(i,e,t){const s=Qg(e);return s===null?null:$k(i,s,t)}function Yk(i,e,t,s){const o=Qg(e);if(o===null||!Uf(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,w=i.fullPath,A="/b/"+h(E)+"/o/"+h(w),M=Ra(A,t,s),L=p1({alt:"media",token:g});return M+L})[0]}function b1(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="prefixes",c0="items";function Qk(i,e,t){const s={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[u0])for(const o of t[u0]){const u=o.replace(/\/$/,""),h=i._makeStorageReference(new hn(e,u));s.prefixes.push(h)}if(t[c0])for(const o of t[c0]){const u=i._makeStorageReference(new hn(e,o.name));s.items.push(u)}return s}function Xk(i,e,t){const s=Qg(t);return s===null?null:Qk(i,e,s)}class ws{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(i){if(!i)throw $g()}function Wg(i,e){function t(s,o){const u=T1(i,o,e);return Pi(u!==null),u}return t}function Wk(i,e){function t(s,o){const u=Xk(i,e,o);return Pi(u!==null),u}return t}function Zk(i,e){function t(s,o){const u=T1(i,o,e);return Pi(u!==null),Yk(u,o,i.host,i._protocol)}return t}function Zo(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=fk():o=hk():t.getStatus()===402?o=ck(i.bucket):t.getStatus()===403?o=dk(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Zg(i){const e=Zo(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=uk(i.path)),u.serverResponse=o.serverResponse,u}return t}function w1(i,e,t){const s=e.fullServerUrl(),o=Ra(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new ws(o,u,Wg(i,t),h);return m.errorHandler=Zg(e),m}function Jk(i,e,t,s,o){const u={};e.isRoot?u.prefix="":u.prefix=e.path+"/",t.length>0&&(u.delimiter=t),s&&(u.pageToken=s),o&&(u.maxResults=o);const h=e.bucketOnlyServerUrl(),m=Ra(h,i.host,i._protocol),p="GET",g=i.maxOperationRetryTime,E=new ws(m,p,Wk(i,e.bucket),g);return E.urlParams=u,E.errorHandler=Zo(e),E}function e4(i,e,t){const s=e.fullServerUrl(),o=Ra(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new ws(o,u,Zk(i,t),h);return m.errorHandler=Zg(e),m}function t4(i,e){const t=e.fullServerUrl(),s=Ra(t,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function h(p,g){}const m=new ws(s,o,h,u);return m.successCodes=[200,204],m.errorHandler=Zg(e),m}function n4(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function S1(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=n4(null,e)),s}function i4(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let X="";for(let W=0;W<2;W++)X=X+Math.random().toString().slice(2);return X}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=S1(e,s,o),E=b1(g,t),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",M=is.getBlob(w,s,A);if(M===null)throw d1();const L={name:g.fullPath},B=Ra(u,i.host,i._protocol),U="POST",q=i.maxUploadRetryTime,Z=new ws(B,U,Wg(i,t),q);return Z.urlParams=L,Z.headers=h,Z.body=M.uploadData(),Z.errorHandler=Zo(e),Z}class of{constructor(e,t,s,o){this.current=e,this.total=t,this.finalized=!!s,this.metadata=o||null}}function Jg(i,e){let t=null;try{t=i.getResponseHeader("X-Goog-Upload-Status")}catch{Pi(!1)}return Pi(!!t&&(e||["active"]).indexOf(t)!==-1),t}function r4(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h=S1(e,s,o),m={name:h.fullPath},p=Ra(u,i.host,i._protocol),g="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},w=b1(h,t),A=i.maxUploadRetryTime;function M(B){Jg(B);let U;try{U=B.getResponseHeader("X-Goog-Upload-URL")}catch{Pi(!1)}return Pi(Uf(U)),U}const L=new ws(p,g,M,A);return L.urlParams=m,L.headers=E,L.body=w,L.errorHandler=Zo(e),L}function s4(i,e,t,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const E=Jg(g,["active","final"]);let w=null;try{w=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Pi(!1)}w||Pi(!1);const A=Number(w);return Pi(!isNaN(A)),new of(A,s.size(),E==="final")}const h="POST",m=i.maxUploadRetryTime,p=new ws(t,h,u,m);return p.headers=o,p.errorHandler=Zo(e),p}const h0=256*1024;function a4(i,e,t,s,o,u,h,m){const p=new of(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw yk();const g=p.total-p.current;let E=g;o>0&&(E=Math.min(E,o));const w=p.current,A=w+E;let M="";E===0?M="finalize":g===E?M="upload, finalize":M="upload";const L={"X-Goog-Upload-Command":M,"X-Goog-Upload-Offset":`${p.current}`},B=s.slice(w,A);if(B===null)throw d1();function U(W,re){const ce=Jg(W,["active","final"]),N=p.current+E,R=s.size();let x;return ce==="final"?x=Wg(e,u)(W,re):x=null,new of(N,R,ce==="final",x)}const q="POST",Z=e.maxUploadRetryTime,X=new ws(t,q,U,Z);return X.headers=L,X.body=B.uploadData(),X.progressCallback=m||null,X.errorHandler=Zo(i),X}const gn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function lp(i){switch(i){case"running":case"pausing":case"canceling":return gn.RUNNING;case"paused":return gn.PAUSED;case"success":return gn.SUCCESS;case"canceled":return gn.CANCELED;case"error":return gn.ERROR;default:return gn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,t,s){if(Ak(e)||t!=null||s!=null)this.next=e,this.error=t??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class l4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw cu("cannot .send() more than once");if(_s(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class u4 extends l4{initXhr(){this.xhr_.responseType="text"}}function dr(){return new u4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=s,this._mappings=Xg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(at.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(g1(o.status,[]))if(u)o=h1();else{this.sleepTime=Math.max(this.sleepTime*2,lk),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(at.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,s])=>{switch(this._state){case"running":e(t,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const s=r4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,dr,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,s)=>{const o=s4(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,dr,t,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=h0*this._chunkMultiplier,t=new of(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=a4(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,dr,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){h0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const s=w1(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,dr,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const s=i4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,dr,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=f1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=lp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,s,o){const u=new o4(t||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(lp(this._state)){case gn.SUCCESS:Eo(this._resolve.bind(null,this.snapshot))();break;case gn.CANCELED:case gn.ERROR:const t=this._reject;Eo(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(lp(this._state)){case gn.RUNNING:case gn.PAUSED:e.next&&Eo(e.next.bind(e,this.snapshot))();break;case gn.SUCCESS:e.complete&&Eo(e.complete.bind(e))();break;case gn.CANCELED:case gn.ERROR:e.error&&Eo(e.error.bind(e,this._error))();break;default:e.error&&Eo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t){this._service=e,t instanceof hn?this._location=t:this._location=hn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _a(e,t)}get root(){const e=new hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return E1(this._location.path)}get storage(){return this._service}get parent(){const e=qk(this._location.path);if(e===null)return null;const t=new hn(this._location.bucket,e);return new _a(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Ek(e)}}function h4(i,e,t){return i._throwIfRoot("uploadBytesResumable"),new c4(i,new is(e),t)}function f4(i){const e={prefixes:[],items:[]};return A1(i,e).then(()=>e)}async function A1(i,e,t){const o=await d4(i,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await A1(i,e,o.nextPageToken)}function d4(i,e){e!=null&&typeof e.maxResults=="number"&&zp("options.maxResults",1,1e3,e.maxResults);const t=e||{},s=Jk(i.storage,i._location,"/",t.pageToken,t.maxResults);return i.storage.makeRequestWithTokens(s,dr)}function m4(i){i._throwIfRoot("getMetadata");const e=w1(i.storage,i._location,Xg());return i.storage.makeRequestWithTokens(e,dr)}function p4(i){i._throwIfRoot("getDownloadURL");const e=e4(i.storage,i._location,Xg());return i.storage.makeRequestWithTokens(e,dr).then(t=>{if(t===null)throw _k();return t})}function g4(i){i._throwIfRoot("deleteObject");const e=t4(i.storage,i._location);return i.storage.makeRequestWithTokens(e,dr)}function y4(i,e){const t=Hk(i._location.path,e),s=new hn(i._location.bucket,t);return new _a(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(i){return/^[A-Za-z]+:\/\//.test(i)}function v4(i,e){return new _a(i,e)}function R1(i,e){if(i instanceof ey){const t=i;if(t._bucket==null)throw gk();const s=new _a(t,t._bucket);return e!=null?R1(s,e):s}else return e!==void 0?y4(i,e):i}function E4(i,e){if(e&&_4(e)){if(i instanceof ey)return v4(i,e);throw jp("To use ref(service, url), the first argument must be a Storage instance.")}else return R1(i,e)}function f0(i,e){const t=e?.[c1];return t==null?null:hn.makeFromBucketSpec(t,i)}function T4(i,e,t,s={}){i.host=`${e}:${t}`;const o=_s(e);o&&($p(`https://${i.host}/b`),Yp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:K0(u,i.app.options.projectId))}class ey{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=u1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ak,this._maxUploadRetryTime=ok,this._requests=new Set,o!=null?this._bucket=hn.makeFromBucketSpec(o,this._host):this._bucket=f0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hn.makeFromBucketSpec(this._url,e):this._bucket=f0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _a(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new Tk(m1());{const h=Ok(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const d0="@firebase/storage",m0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="storage";function Bo(i,e,t){return i=rt(i),h4(i,e,t)}function b4(i){return i=rt(i),m4(i)}function w4(i){return i=rt(i),f4(i)}function va(i){return i=rt(i),p4(i)}function ty(i){return i=rt(i),g4(i)}function Ui(i,e){return i=rt(i),E4(i,e)}function S4(i=Wp(),e){i=rt(i);const s=mf(i,x1).getImmediate({identifier:e}),o=H0("storage");return o&&A4(s,...o),s}function A4(i,e,t,s={}){T4(i,e,t,s)}function R4(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new ey(t,s,o,e,Ta)}function x4(){da(new hs(x1,R4,"PUBLIC").setMultipleInstances(!0)),Ri(d0,m0,""),Ri(d0,m0,"esm2020")}x4();const I4={apiKey:"AIzaSyCiW73ugh6GHcyVmgx1o1HekclukiBcG8s",authDomain:"blessednpolished-a8cf2.firebaseapp.com",projectId:"blessednpolished-a8cf2",storageBucket:"blessednpolished-a8cf2.firebasestorage.app",messagingSenderId:"748722371086",appId:"1:748722371086:web:476f34a9552ca20dfa1a5f"},ny=Q0(I4),Do=HC(ny),it=HO(ny),Li=S4(ny);var I1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},p0=ss.createContext&&ss.createContext(I1),C4=["attr","size","title"];function N4(i,e){if(i==null)return{};var t=D4(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function D4(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function lf(){return lf=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},lf.apply(this,arguments)}function g0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function uf(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g0(Object(t),!0).forEach(function(s){O4(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):g0(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function O4(i,e,t){return e=k4(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function k4(i){var e=P4(i,"string");return typeof e=="symbol"?e:e+""}function P4(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function C1(i){return i&&i.map((e,t)=>ss.createElement(e.tag,uf({key:t},e.attr),C1(e.child)))}function Lf(i){return e=>ss.createElement(M4,lf({attr:uf({},i.attr)},e),C1(i.child))}function M4(i){var e=t=>{var{attr:s,size:o,title:u}=i,h=N4(i,C4),m=o||t.size||"1em",p;return t.className&&(p=t.className),i.className&&(p=(p?p+" ":"")+i.className),ss.createElement("svg",lf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:uf(uf({color:i.color||t.color},t.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ss.createElement("title",null,u),i.children)};return p0!==void 0?ss.createElement(p0.Consumer,null,t=>e(t)):e(I1)}function y0(i){return Lf({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(i)}function _0(i){return Lf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(i)}function up(i){return Lf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(i)}function v0(i){return Lf({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"},child:[]}]})(i)}function $u({className:i="",size:e=20,gap:t="gap-4",brand:s=!1,links:o,socials:u,emailAsContact:h=!1,contactPath:m="/contact",contactQuery:p={}}){const g=[{label:"Instagram",type:"external",Icon:_0,href:"https://www.instagram.com/reinakatrina84/",color:"#E1306C"},{label:"Facebook",type:"external",Icon:y0,href:"https://www.facebook.com/katrina.garcia.777158",color:"#1877F2"},{label:"TikTok",type:"external",Icon:v0,href:"https://www.tiktok.com/@reinakatg?lang=en",color:"#000000"},{label:"Contact",type:"internal",Icon:up,to:"/contact",color:"#6B7280"}],E=new URLSearchParams(p).toString(),w=E?`${m}?${E}`:m,A=u?[u.instagram&&{label:"Instagram",type:"external",Icon:_0,href:u.instagram,color:"#E1306C"},u.facebook&&{label:"Facebook",type:"external",Icon:y0,href:u.facebook,color:"#1877F2"},u.tiktok&&{label:"TikTok",type:"external",Icon:v0,href:u.tiktok,color:"#000000"},u.website&&{label:"Website",type:"external",Icon:FaGlobe,href:u.website,color:"#6B7280"},u.email&&(h?{label:"Contact",type:"internal",Icon:up,to:w,color:"#6B7280"}:{label:"Email",type:"external",Icon:up,href:`mailto:${u.email}`,color:"#6B7280"})].filter(Boolean):null,M=Array.isArray(o)&&o.length>0,L=Array.isArray(A)&&A.length>0,B=M?o:L?A:g,U="inline-flex items-center justify-center rounded-full w-10 h-10 ring-1 ring-black/10 hover:ring-black/20 transition-transform duration-150 hover:-translate-y-0.5 focus:outline-none focus-visible:ring focus-visible:ring-black/10";return v.jsx("nav",{"aria-label":"Social media",className:`flex items-center justify-center w-full ${t} ${i}`,children:B.map(({label:q,type:Z,Icon:X,href:W,to:re,color:ce})=>Z==="external"?v.jsx("a",{href:/^(https?:|mailto:)/i.test(W)?W:`https://${W}`,target:"_blank",rel:"noopener noreferrer","aria-label":q,title:q,className:U,style:{color:s?ce:void 0},children:v.jsx(X,{size:e})},q):v.jsx(Fe,{to:re,"aria-label":q,title:q,className:U,style:{color:s?ce:void 0},children:v.jsx(X,{size:e})},q))})}function N1(){const i=hf(),e=ai(),[t,s]=D.useState(!1),[o,u]=D.useState(!1);D.useEffect(()=>Tb(Do,m=>s(!!m)),[]),D.useEffect(()=>u(!1),[e.pathname]),D.useEffect(()=>{const m=p=>p.key==="Escape"&&u(!1);return window.addEventListener("keydown",m),document.body.style.overflow=o?"hidden":"",()=>{window.removeEventListener("keydown",m),document.body.style.overflow=""}},[o]);const h=m=>{const p=()=>document.getElementById(m)?.scrollIntoView({behavior:"smooth"});e.pathname!=="/"?(i("/"),setTimeout(p,0)):p()};return v.jsxs(v.Fragment,{children:[v.jsx("header",{className:"sticky top-0 z-[200] backdrop-blur bg-white/70 border-b border-black/5",children:v.jsxs("div",{className:"mx-auto max-w-6xl px-4 h-16 flex items-center justify-between",children:[v.jsxs("button",{onClick:()=>h("hero"),className:"text-left text-xl font-semibold tracking-tight",children:["Blessed ",v.jsx("span",{className:"text-[#ff9e0a]",children:"N"})," Polished"]}),v.jsxs("nav",{className:"hidden sm:flex gap-6 text-sm text-neutral-700 items-center",children:[v.jsx("button",{onClick:()=>h("services"),className:"hover:text-black",children:"Services"}),v.jsx("button",{onClick:()=>h("gallery"),className:"hover:text-black",children:"Gallery"}),v.jsx(Fe,{to:"/technicians",className:"hover:text-black",children:"Technicians"}),v.jsx(Fe,{to:"/book",className:"hover:text-black",children:"Booking"}),v.jsx(Fe,{to:"/contact",className:"hover:text-black",children:"Contact"}),t&&v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"mx-2 h-4 w-px bg-neutral-300"}),v.jsx(Fe,{to:"/admin",className:"text-neutral-600 hover:text-black",children:"Admin"}),v.jsx("button",{className:"btn btn-ghost",onClick:()=>Ep(Do),children:"Sign out"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Fe,{to:"/book",className:"hidden sm:inline-flex btn btn-primary sm:ml-6",children:"Book Now"}),v.jsx("button",{type:"button",onClick:()=>u(!0),className:"sm:hidden inline-flex items-center justify-center w-10 h-10 rounded-xl border border-black/10","aria-label":"Open menu","aria-controls":"mobile-drawer","aria-expanded":o,children:v.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:v.jsx("path",{d:"M4 6h16M4 12h16M4 18h16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]})]})}),QR.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{className:`fixed inset-0 z-[10000] bg-black/70 backdrop-blur-[2px] transition-opacity duration-300 ${o?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>u(!1),"aria-hidden":!o}),v.jsx("aside",{id:"mobile-drawer",className:`fixed right-0 top-0 bottom-0 z-[10010] w-[86%] max-w-sm shadow-2xl ring-1 ring-black/10
                        transition-transform duration-300 ease-out ${o?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true",style:{background:"linear-gradient(to bottom, #f9d6d1 0%, #ffffff 100%)"},children:v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsxs("div",{className:"h-16 px-4 border-b border-black/10 bg-white flex items-center justify-between",children:[v.jsx("span",{className:"font-semibold",children:"Menu"}),v.jsx("button",{type:"button",onClick:()=>u(!1),className:"inline-flex items-center justify-center w-10 h-10 rounded-xl border border-black/10 bg-white","aria-label":"Close menu",children:v.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:v.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),v.jsx("nav",{className:"p-4 space-y-3",children:(()=>{const m=`block w-full text-left px-4 py-3 rounded-xl text-base font-medium
       text-neutral-900 bg-white hover:bg-neutral-50
       transition translate-x-4 opacity-0`;return v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>{h("services"),u(!1)},className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:"0ms"},children:"Services"}),v.jsx("button",{onClick:()=>{h("gallery"),u(!1)},className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"40ms":"0ms"},children:"Gallery"}),v.jsx(Fe,{to:"/technicians",onClick:()=>u(!1),className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"80ms":"0ms"},children:"Technicians"}),v.jsx(Fe,{to:"/book",onClick:()=>u(!1),className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"80ms":"0ms"},children:"Booking"}),v.jsx(Fe,{to:"/contact",onClick:()=>u(!1),className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"120ms":"0ms"},children:"Contact"}),t&&v.jsxs(v.Fragment,{children:[v.jsx(Fe,{to:"/admin",onClick:()=>u(!1),className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"160ms":"0ms"},children:"Admin"}),v.jsx("button",{onClick:()=>{u(!1),Ep(Do)},className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"200ms":"0ms"},children:"Sign out"})]}),v.jsx(Fe,{to:"/book",onClick:()=>u(!1),className:"mt-2 btn btn-primary w-full justify-center",children:"Book Now"}),v.jsx("div",{className:"pt-4 flex justify-center",children:v.jsx($u,{size:24,gap:18,monochrome:!0})})]})})()})]})})]}),document.body)]})}function V4(){return v.jsx("footer",{className:"border-t border-black/5",children:v.jsxs("div",{className:"mx-auto max-w-6xl px-4 h-20 flex items-center justify-between text-sm text-neutral-700",children:[v.jsxs("p",{children:["© ",new Date().getFullYear()," Blessed N Polished"]}),v.jsx($u,{className:"justify-center",size:22,gap:"gap-5",brand:!1})]})})}function U4(){return v.jsxs("div",{className:"min-h-dvh w-full overflow-x-clip bg-gradient-to-b from-[#f9d6d1] to-white",children:[v.jsx(N1,{}),v.jsx("main",{className:"w-full overflow-x-clip",children:v.jsx(fR,{})}),v.jsx(V4,{})]})}function iy(){const[i,e]=D.useState(null);return D.useEffect(()=>Yn(cn(it,"site","settings"),s=>{e(s.exists()?s.data():null)}),[]),i}function L4({onBook:i}){const e=iy();return v.jsx("section",{id:"hero",className:"bg-transparent",children:v.jsx("div",{className:"mx-auto max-w-6xl px-4 py-10 md:py-16",children:v.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12 items-center",children:[v.jsxs("div",{className:"order-2 md:order-1",children:[v.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight tracking-tight",children:e?.heroHeadline||"Blessed N Polished"}),v.jsx("p",{className:"mt-4 text-lg text-neutral-700",children:e?.heroSub||"May your nails always get compliments"}),v.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[i?v.jsx("button",{className:"btn btn-primary",onClick:i,children:"Book Now"}):v.jsx(Fe,{to:"/book",className:"btn btn-primary",children:"Book Now"}),v.jsx(Fe,{to:"/services",className:"btn btn-ghost",children:"Our Services"})]})]}),v.jsx("div",{className:"order-1 md:order-2",children:v.jsx("div",{className:`\r
      relative mx-auto\r
      w-full max-w-[clamp(260px,80vw,420px)]  /* cap size on phones */\r
      md:max-w-none                           /* free to expand on desktop */\r
      rounded-3xl overflow-hidden shadow-xl ring-1 ring-black/5\r
      aspect-[4/5] sm:aspect-[3/4] md:aspect-[4/3]\r
    `,children:e?.heroImage?v.jsx("img",{src:e.heroImage,alt:"",className:"absolute inset-0 h-full w-full object-cover object-center",width:1200,height:1600,loading:"eager"}):v.jsx("div",{className:"absolute inset-0 bg-neutral-200"})})})]})})})}const j4=[{key:"bling",title:"Swarovski/Diamonds",desc:"Genuine Swarovski crystals hand-set — accent nails or full bling."},{key:"xxl",title:"XXL Nail Art",desc:"Sculpted extra-long set with custom art, charms, foils & encapsulation."},{key:"xxxl",title:"XXXL Extreme Length",desc:"Ultra-long statement nails with 3D/encapsulated design work."}];function D1({showViewAll:i}){const{pathname:e}=ai(),t=i??e!=="/services",[s,o]=D.useState(null);D.useEffect(()=>{const h=$n(it,"signatureLooks"),m=E=>{const w=E.docs.map(A=>({id:A.id,...A.data()})).filter(A=>A.enabled!==!1);o(w.length?w:null)};let p=()=>{},g=()=>{};return p=Yn(Vi(h,Gn("order","asc"),Gn("createdAt","asc")),m,E=>{E?.code==="failed-precondition"?g=Yn(Vi(h,Gn("order","asc")),m):console.error(E)}),()=>{p&&p(),g&&g()}},[]);const u=s??j4;return v.jsx("section",{id:"services",className:"py-12 md:py-16 scroll-mt-24 bg-transparent",children:v.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[v.jsxs("div",{className:"flex items-end justify-between mb-6",children:[v.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Signature Looks"}),t&&v.jsx(Fe,{to:"/services",className:"text-sm underline",children:"View all"})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6",children:u.map((h,m)=>v.jsxs("div",{className:"group w-full max-w-[420px] sm:max-w-none mx-auto rounded-2xl overflow-hidden ring-1 ring-black/5 shadow-soft transition hover:-translate-y-0.5 hover:shadow-xl",style:{background:"linear-gradient(to bottom, #f9d6d1 0%, #ffffff 100%)"},children:[h.imgUrl&&v.jsxs("div",{className:"relative aspect-[16/9] sm:aspect-[4/3]",children:[v.jsx("img",{src:h.imgUrl,alt:h.alt||"",loading:"lazy",className:"absolute inset-0 h-full w-full object-contain"}),v.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-inset ring-black/5"})]}),v.jsxs("div",{className:"p-5",children:[v.jsx("h3",{className:"font-semibold",children:h.title}),v.jsx("p",{className:"text-neutral-600 mt-2",children:h.desc})]})]},h.id||h.key||m))})]})})}function z4({showViewAll:i}){const{pathname:e}=ai(),t=i??e!=="/technicians",[s,o]=D.useState(null);return D.useEffect(()=>{const u=$n(it,"technicians"),h=Vi(u,Gn("name","asc"));return Yn(h,m=>{const p=m.docs.map(g=>({id:g.id,...g.data()})).filter(g=>g.enabled!==!1);o(p)})},[]),v.jsx("section",{id:"technicians",className:"py-12 md:py-16 scroll-mt-24 bg-transparent",children:v.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[v.jsxs("div",{className:"flex items-end justify-between mb-6",children:[v.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Our Technicians"}),t&&v.jsx(Fe,{to:"/technicians",className:"text-sm underline",children:"View all"})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6",children:(s??[]).map(u=>{const h=u.coverUrl||u.heroUrl||Array.isArray(u.gallery)&&u.gallery[0]||u.avatarUrl;return v.jsxs("article",{className:"group rounded-2xl overflow-hidden ring-1 ring-black/5 shadow-soft transition hover:-translate-y-0.5 hover:shadow-xl",style:{background:"linear-gradient(to bottom, #f9d6d1 0%, #ffffff 100%)"},children:[h&&v.jsx(Fe,{to:`/technicians/${u.id}`,className:"block",children:v.jsxs("div",{className:"relative aspect-[16/9] sm:aspect-[4/3]",children:[v.jsx("img",{src:h,alt:u.name,loading:"lazy",className:"absolute inset-0 w-full h-full object-contain"}),v.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-inset ring-black/5"})]})}),v.jsxs("div",{className:"p-4 sm:p-5",children:[v.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:v.jsx(Fe,{to:`/technicians/${u.id}`,className:"hover:underline",children:u.name})}),v.jsx("p",{className:"text-neutral-600 mt-1.5 text-sm sm:text-[15px]",children:u.role||"Nail Artist"}),u.bio&&v.jsx("p",{className:"text-neutral-700 mt-2 text-sm sm:text-[15px]",children:u.bio}),v.jsx("div",{className:"mt-3",children:v.jsx($u,{className:"mt-3",size:18,gap:"gap-2",fallback:"none",socials:u.socials,emailAsContact:!0,contactQuery:{tech:u.name,source:"tech-card"}})}),v.jsxs("div",{className:"mt-4 flex gap-3",children:[v.jsx(Fe,{to:`/technicians/${u.id}`,className:"underline text-sm",children:"View profile"}),u.squareStaffId&&v.jsxs(Fe,{to:`/book/${u.id}`,className:"underline text-sm",children:["Book ",u.name.split(" ")[0]]})]})]})]},u.id)})})]})})}function B4(){const[i,e]=D.useState([]);D.useEffect(()=>{const s=Vi($n(it,"images"),Gn("createdAt","desc"),ek(12));return Yn(s,o=>e(o.docs.map(u=>({id:u.id,...u.data()}))))},[]);const t=D.useMemo(()=>{const s=i.filter(o=>o.featured);return(s.length?s:i).slice(0,6)},[i]);return t.length?v.jsx("section",{id:"gallery",className:"py-12 md:py-16 scroll-mt-24 bg-transparent",children:v.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[v.jsxs("div",{className:"flex items-end justify-between mb-6",children:[v.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Gallery"}),v.jsx(Fe,{to:"/gallery",className:"text-sm underline",children:"View full gallery"})]}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 md:gap-4",children:t.map(s=>v.jsx("div",{className:"group overflow-hidden rounded-2xl",children:v.jsx("div",{className:"aspect-[4/3] bg-transparent",children:v.jsx("img",{src:s.url,alt:"",loading:"lazy",className:"w-full h-full object-contain p-1 transition-transform duration-300 group-hover:scale-[1.02]"})})},s.id))})]})}):null}function q4(){return v.jsxs(v.Fragment,{children:[v.jsx(L4,{}),v.jsx(D1,{}),v.jsx(z4,{}),v.jsx(B4,{})]})}function jf({open:i,onClose:e,onSelect:t}){const[s,o]=D.useState([]),[u,h]=D.useState([]),[m,p]=D.useState(!1),[g,E]=D.useState(""),[w,A]=D.useState("all");D.useEffect(()=>{if(!i)return;const B=Vi($n(it,"images"),Gn("createdAt","desc"));return Yn(B,U=>o(U.docs.map(q=>({id:q.id,...q.data()}))))},[i]),D.useEffect(()=>{if(!i)return;let B=!1;async function U(q,Z){try{const X=await w4(Ui(Li,q));return await Promise.all(X.items.map(async re=>{const[ce,N]=await Promise.all([va(re),b4(re).catch(()=>null)]);return{id:`st:${re.fullPath}`,url:ce,path:re.fullPath,category:Z,name:re.name.toLowerCase(),size:N?.size??null,createdAt:N?.timeCreated?Date.parse(N.timeCreated):0}}))}catch{return[]}}return(async()=>{p(!0);const[q,Z]=await Promise.all([U("assets/hero","hero"),U("gallery","general")]);B||(h([...q,...Z]),p(!1))})(),()=>{B=!0}},[i]);const L=D.useMemo(()=>{const B=new Map;for(const q of u)B.set(q.path,q);for(const q of s)B.set(q.path||q.url,{...q});const U=[...B.values()];return U.sort((q,Z)=>(Z.createdAt??0)-(q.createdAt??0)),U},[s,u]).filter(B=>{const U=w==="all"||(B.category||"general")===w,q=g.trim().toLowerCase(),Z=!q||B.name?.includes(q)||B.path?.toLowerCase().includes(q);return U&&Z});return i?v.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 grid place-items-center",children:v.jsxs("div",{className:"bg-white rounded-2xl p-4 w-[min(900px,100%)]",children:[v.jsxs("div",{className:"flex gap-2 mb-3",children:[v.jsx("input",{className:"border rounded px-3 py-2 flex-1",placeholder:"Search name…",value:g,onChange:B=>E(B.target.value)}),v.jsxs("select",{className:"border rounded px-3 py-2",value:w,onChange:B=>A(B.target.value),children:[v.jsx("option",{value:"all",children:"All"}),v.jsx("option",{value:"hero",children:"Hero"}),v.jsx("option",{value:"general",children:"General"}),v.jsx("option",{value:"nails",children:"Nails"}),v.jsx("option",{value:"designs",children:"Designs"})]})]}),m?v.jsx("p",{className:"text-sm text-neutral-600 p-4",children:"Loading media…"}):L.length===0?v.jsx("p",{className:"text-sm text-neutral-600 p-4",children:"No media found."}):v.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 max-h-[60vh] overflow-auto",children:L.map(B=>v.jsxs("button",{className:"border rounded overflow-hidden hover:ring-2 hover:ring-black",onClick:()=>{t(B),e()},children:[v.jsx("img",{src:B.url,className:"w-full h-24 object-cover"}),v.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-600 truncate",children:(B.category||"general").toUpperCase()})]},B.id))}),v.jsx("div",{className:"mt-3 text-right",children:v.jsx("button",{className:"btn btn-ghost",onClick:e,children:"Close"})})]})}):null}function qo({value:i}){return i==null?null:v.jsxs("div",{className:"mt-2 w-full",children:[v.jsx("div",{className:"h-2 w-full bg-neutral-200 rounded",children:v.jsx("div",{className:"h-2 bg-black rounded transition-[width] duration-200",style:{width:`${Math.max(2,i)}%`}})}),v.jsxs("div",{className:"text-xs mt-1 text-neutral-600",children:[i,"%"]})]})}function H4(){const[i,e]=D.useState(null),[t,s]=D.useState(!0);return D.useEffect(()=>Tb(Do,u=>{e(u),s(!1)}),[]),t?null:i?v.jsxs("div",{className:"mx-auto max-w-6xl p-6 space-y-10",children:[v.jsx(N1,{}),v.jsxs("header",{className:"flex items-center justify-between",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Admin"}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Fe,{to:"/",className:"text-sm underline",children:"View Site"}),v.jsx("button",{className:"btn btn-ghost",onClick:()=>Ep(Do),children:"Sign out"})]})]}),v.jsx(G4,{}),v.jsx(Y4,{}),v.jsx(W4,{}),v.jsx(K4,{}),v.jsx($4,{})]}):v.jsx(F4,{})}function F4(){const i=hf(),[e,t]=D.useState({email:"",password:""}),[s,o]=D.useState("");async function u(h){h.preventDefault(),o("");try{await NI(Do,e.email,e.password),i("/admin",{replace:!0})}catch(m){o(m.message||"Login failed")}}return v.jsx("div",{className:"min-h-screen grid place-items-center p-6",children:v.jsxs("form",{onSubmit:u,className:"w-full max-w-sm bg-white p-6 rounded-2xl border shadow-soft space-y-3",children:[v.jsx("h2",{className:"text-lg font-semibold",children:"Admin Login"}),v.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"email",placeholder:"Email",value:e.email,onChange:h=>t(m=>({...m,email:h.target.value}))}),v.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"password",placeholder:"Password",value:e.password,onChange:h=>t(m=>({...m,password:h.target.value}))}),s&&v.jsx("p",{className:"text-sm text-red-600",children:s}),v.jsx("button",{className:"btn btn-primary w-full",children:"Sign In"})]})})}function G4(){const i=iy(),[e,t]=D.useState(null),[s,o]=D.useState(null),[u,h]=D.useState(!1),[m,p]=D.useState(""),[g,E]=D.useState(""),[w,A]=D.useState(!1),[M,L]=D.useState(null);D.useEffect(()=>{p(i?.heroHeadline||""),E(i?.heroSub||"")},[i]);async function B(U){U.preventDefault(),A(!0);try{let q;if(e){const Z=`assets/hero/${Date.now()}_${e.name}`,X=Ui(Li,Z),W=Bo(X,e);await new Promise((re,ce)=>{W.on("state_changed",N=>{const R=Math.round(N.bytesTransferred/N.totalBytes*100);L(R)},ce,re)}),q=await va(W.snapshot.ref)}else s&&(q=s.url);await l1(cn(it,"site","settings"),{...q?{heroImage:q}:{},heroHeadline:m,heroSub:g,updatedAt:_n()},{merge:!0}),t(null),o(null)}finally{A(!1),L(null)}}return v.jsxs("section",{className:"bg-white border rounded-2xl p-4 shadow-soft space-y-3",children:[v.jsx("h2",{className:"font-semibold",children:"Hero Content"}),i?.heroImage&&v.jsx("img",{src:i.heroImage,alt:"",className:"h-28 w-full object-cover rounded"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:U=>t(U.target.files?.[0]||null)}),v.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>h(!0),children:"Choose from Library"})]}),s&&v.jsx("img",{src:s.url,alt:"",className:"h-20 rounded"}),v.jsx("input",{className:"border rounded-lg px-3 py-2 w-full",placeholder:"Headline",value:m,onChange:U=>p(U.target.value)}),v.jsx("input",{className:"border rounded-lg px-3 py-2 w-full",placeholder:"Subheadline",value:g,onChange:U=>E(U.target.value)}),v.jsx("button",{className:"btn btn-primary",onClick:B,disabled:w,children:w?M!=null?`Uploading ${M}%…`:"Saving…":"Save"}),v.jsx(qo,{value:M}),v.jsx(jf,{open:u,onClose:()=>h(!1),onSelect:o})]})}function K4(){const[i,e]=D.useState(null),[t,s]=D.useState(null),[o,u]=D.useState(!1),[h,m]=D.useState("general"),[p,g]=D.useState(!1),[E,w]=D.useState(null);async function A(M){if(M.preventDefault(),!(!i&&!t)){g(!0);try{let L,B,U,q;if(i){const Z=`gallery/${Date.now()}_${i.name}`,X=Ui(Li,Z),W=Bo(X,i);await new Promise((re,ce)=>{W.on("state_changed",N=>{const R=Math.round(N.bytesTransferred/N.totalBytes*100);w(R)},ce,re)}),L=await va(W.snapshot.ref),B=Z,U=i.name.toLowerCase(),q=i.size}else L=t.url,B=t.path,U=t.name||"",q=t.size||0;await Kg($n(it,"images"),{url:L,path:B,category:h,name:U,size:q,createdAt:_n(),source:i?"upload":"library"}),e(null),s(null)}finally{g(!1),w(null)}}}return v.jsxs("section",{className:"bg-white border rounded-2xl p-4 shadow-soft",children:[v.jsx("h2",{className:"font-semibold mb-3",children:"Upload to Gallery"}),v.jsxs("form",{className:"flex flex-wrap items-center gap-3",onSubmit:A,children:[v.jsx("input",{type:"file",accept:"image/*",onChange:M=>e(M.target.files?.[0]||null)}),v.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>u(!0),children:"Choose from Library"}),v.jsxs("select",{className:"border rounded-lg px-3 py-2",value:h,onChange:M=>m(M.target.value),children:[v.jsx("option",{value:"general",children:"General"}),v.jsx("option",{value:"nails",children:"Nails"}),v.jsx("option",{value:"designs",children:"Designs"})]}),v.jsx("button",{className:"btn btn-primary",disabled:!i&&!t||p,children:p?E!=null?`Uploading ${E}%…`:"Adding…":"Add"})]}),v.jsx(qo,{value:E}),t&&v.jsx("div",{className:"mt-3",children:v.jsx("img",{src:t.url,alt:"",className:"h-24 rounded"})}),v.jsx(jf,{open:o,onClose:()=>u(!1),onSelect:s})]})}function $4(){const[i,e]=D.useState([]),[t,s]=D.useState(null),[o,u]=D.useState(null);D.useEffect(()=>{const p=Vi($n(it,"images"),Gn("createdAt","desc"));return Yn(p,g=>e(g.docs.map(E=>({id:E.id,...E.data()}))))},[]);async function h(p){if(confirm("Delete this image?"))try{await ty(Ui(Li,p.path)).catch(()=>{}),await Gg(cn(it,"images",p.id))}catch(E){console.error(E),alert("Couldn’t delete. Try again.")}}async function m(p,g){try{u(p.id),await ha(cn(it,"images",p.id),{category:g,updatedAt:_n()})}finally{u(null)}}return v.jsxs("section",{children:[v.jsx("h2",{className:"font-semibold mb-3",children:"Manage Gallery"}),v.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(p=>v.jsxs("div",{className:"bg-white border rounded-2xl overflow-hidden shadow-soft",children:[v.jsx("div",{className:"aspect-[4/3] bg-neutral-100",children:v.jsx("img",{src:p.url,alt:p.alt||"",loading:"lazy",className:"w-full h-full object-contain p-1"})}),v.jsxs("div",{className:"flex items-center justify-between p-3 text-sm gap-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-neutral-600",children:"Category:"}),v.jsxs("select",{className:"border rounded-md px-2 py-1",value:p.category||"general",onChange:g=>m(p,g.target.value),children:[v.jsx("option",{value:"general",children:"General"}),v.jsx("option",{value:"nails",children:"Nails"}),v.jsx("option",{value:"designs",children:"Designs"})]}),o===p.id&&v.jsx("span",{className:"text-neutral-500",children:"Saving…"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{className:"btn btn-ghost",onClick:()=>s(p),children:"Edit"}),v.jsx("button",{className:"btn btn-ghost",onClick:()=>h(p),children:"Delete"})]})]})]},p.id))}),t&&v.jsx(EditImageModal,{image:t,onClose:()=>s(null)})]})}function Y4(){const[i,e]=D.useState([]),[t,s]=D.useState(""),[o,u]=D.useState(""),[h,m]=D.useState(null),[p,g]=D.useState(null),[E,w]=D.useState(!1),[A,M]=D.useState(null),[L,B]=D.useState(!1);D.useEffect(()=>{const W=Vi($n(it,"signatureLooks"),Gn("order","asc"),Gn("createdAt","asc"));return Yn(W,re=>e(re.docs.map(ce=>({id:ce.id,...ce.data()}))))},[]);function U(){return i.length?Math.max(...i.map(W=>W.order??0))+1:1}async function q(W){if(W.preventDefault(),!t.trim())return alert("Title is required");if(!h&&!p)return alert("Pick an image");B(!0);try{let re,ce,N,R,x;if(h){const k=`signature/${Date.now()}_${h.name}`,V=Ui(Li,k),j=Bo(V,h);await new Promise((C,ot)=>{j.on("state_changed",me=>M(Math.round(me.bytesTransferred/me.totalBytes*100)),ot,C)}),re=await va(j.snapshot.ref),ce=k,N=h.name.toLowerCase(),R=h.size,x="upload"}else p&&(re=p.url,ce=p.path||null,N=p.name||"",R=p.size||0,x="library");await Kg($n(it,"signatureLooks"),{title:t.trim(),desc:o.trim(),imgUrl:re,path:ce,name:N,size:R,source:x,order:U(),enabled:!0,createdAt:_n(),updatedAt:_n()}),s(""),u(""),m(null),g(null)}finally{B(!1),M(null)}}async function Z(W,re){const ce=i.findIndex(k=>k.id===W);if(ce<0)return;const N=ce+re;if(N<0||N>=i.length)return;const R=i[ce],x=i[N];await Promise.all([ha(cn(it,"signatureLooks",R.id),{order:x.order??0,updatedAt:_n()}),ha(cn(it,"signatureLooks",x.id),{order:R.order??0,updatedAt:_n()})])}async function X(W){if(confirm("Delete this card?"))try{await Gg(cn(it,"signatureLooks",W.id)),W.path&&await ty(Ui(Li,W.path)).catch(()=>{})}catch(ce){console.error(ce),alert("Couldn’t delete.")}}return v.jsxs("section",{className:"bg-white border rounded-2xl p-4 shadow-soft space-y-4",children:[v.jsx("h2",{className:"font-semibold",children:"Signature Looks"}),v.jsxs("form",{className:"grid md:grid-cols-3 gap-3 items-start",onSubmit:q,children:[v.jsxs("div",{className:"md:col-span-2 grid gap-3",children:[v.jsx("input",{className:"border rounded-lg px-3 py-2 w-full",placeholder:"Title (e.g., Swarovski/Diamonds)",value:t,onChange:W=>s(W.target.value)}),v.jsx("input",{className:"border rounded-lg px-3 py-2 w-full",placeholder:"Description",value:o,onChange:W=>u(W.target.value)}),v.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:W=>m(W.target.files?.[0]||null)}),v.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>w(!0),children:"Choose from Library"}),p&&v.jsx("img",{src:p.url,alt:"",className:"h-12 rounded"})]}),A!=null&&v.jsx(qo,{value:A})]}),v.jsx("div",{className:"md:pl-3",children:v.jsx("button",{className:"btn btn-primary w-full md:w-auto",disabled:L,children:L?A!=null?`Uploading ${A}%…`:"Adding…":"Add Card"})})]}),v.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((W,re)=>v.jsx(Q4,{look:W,index:re,total:i.length,onMoveUp:()=>Z(W.id,-1),onMoveDown:()=>Z(W.id,1),onDelete:()=>X(W)},W.id))}),v.jsx(jf,{open:E,onClose:()=>w(!1),onSelect:g})]})}function Q4({look:i,index:e,total:t,onMoveUp:s,onMoveDown:o,onDelete:u}){const[h,m]=D.useState(i.title||""),[p,g]=D.useState(i.desc||""),[E,w]=D.useState(i.enabled!==!1),[A,M]=D.useState(null),[L,B]=D.useState(null),[U,q]=D.useState(!1),[Z,X]=D.useState(null),[W,re]=D.useState(!1),[ce,N]=D.useState(!0);D.useEffect(()=>{m(i.title||""),g(i.desc||""),w(i.enabled!==!1),M(null),B(null),X(null)},[i.id]);async function R(){re(!0);try{let x=i.imgUrl,k=i.path,V=i.name,j=i.size,C=i.source;if(A||L){if(A){const ot=`signature/${Date.now()}_${A.name}`,me=Ui(Li,ot),Y=Bo(me,A);await new Promise((le,pe)=>{Y.on("state_changed",Ie=>X(Math.round(Ie.bytesTransferred/Ie.totalBytes*100)),pe,le)}),x=await va(Y.snapshot.ref),k=ot,V=A.name.toLowerCase(),j=A.size,C="upload"}else L&&(x=L.url,k=L.path||null,V=L.name||V,j=L.size||j,C="library");ce&&i.path&&i.path!==k&&await ty(Ui(Li,i.path)).catch(()=>{})}await ha(cn(it,"signatureLooks",i.id),{title:h.trim(),desc:p.trim(),imgUrl:x,path:k,name:V,size:j,source:C,enabled:E,updatedAt:_n()})}finally{re(!1),X(null)}}return v.jsxs("div",{className:"bg-white border rounded-2xl overflow-hidden shadow-soft",children:[v.jsx("div",{className:"relative aspect-[16/9] bg-neutral-100",children:v.jsx("img",{src:A?URL.createObjectURL(A):L?.url||i.imgUrl,alt:"",className:"absolute inset-0 h-full w-full object-cover"})}),v.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[v.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:h,onChange:x=>m(x.target.value)}),v.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:p,onChange:x=>g(x.target.value)}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:x=>M(x.target.files?.[0]||null)}),v.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>q(!0),children:"Choose from Library"}),(A||L)&&v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",checked:ce,onChange:x=>N(x.target.checked)}),v.jsx("span",{children:"Delete old file"})]})]}),Z!=null&&v.jsx(qo,{value:Z}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{className:"btn btn-ghost",onClick:s,disabled:e===0,children:"↑"}),v.jsx("button",{className:"btn btn-ghost",onClick:o,disabled:e===t-1,children:"↓"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",checked:E,onChange:x=>w(x.target.checked)}),v.jsx("span",{children:"Visible"})]}),v.jsx("button",{className:"btn btn-ghost",onClick:u,children:"Delete"}),v.jsx("button",{className:"btn btn-primary",onClick:R,disabled:W,children:W?"Saving…":"Save"})]})]})]}),v.jsx(jf,{open:U,onClose:()=>q(!1),onSelect:B})]})}function X4(i=""){return i.toLowerCase().replace(/[^a-z0-9]+/g,"").replace(/(^_|_$)/g,"").trim()}function W4(){const[i,e]=D.useState([]),[t,s]=D.useState(!1),[o,u]=D.useState({id:"",name:"",role:"Nail Artist",bio:"",instagram:"",facebook:"",tiktok:"",email:"/contact",tags:""});D.useEffect(()=>{const m=Vi($n(it,"technicians"),Gn("name","asc"));return Yn(m,p=>e(p.docs.map(g=>({id:g.id,...g.data()}))))},[]);async function h(m){if(m.preventDefault(),!o.name.trim())return alert("Name is required");const p=o.id.trim()||X4(o.name);s(!0);try{await l1(cn(it,"technicians",p),{name:o.name.trim(),role:o.role.trim(),bio:o.bio.trim(),tags:o.tags?o.tags.split(",").map(g=>g.trim()).filter(Boolean):[],avatarUrl:"",socials:{instagram:o.instagram||"",facebook:o.facebook||"",tiktok:o.tiktok||"",email:o.email||"/contact"},squareStaffId:"",gallery:[],enabled:!0,createdAt:_n(),updatedAt:_n()},{merge:!0}),u({id:"",name:"",role:"Nail Artist",bio:"",instagram:"",facebook:"",tiktok:"",email:"/contact",tags:""})}finally{s(!1)}}return v.jsxs("section",{className:"bg-white border rounded-2xl p-4 shadow-soft space-y-4",children:[v.jsx("h2",{className:"font-semibold",children:"Technicians"}),v.jsxs("form",{className:"grid md:grid-cols-3 gap-3 items-start",onSubmit:h,children:[v.jsxs("div",{className:"grid gap-3 md:col-span-2",children:[v.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Tech ID (optional)",value:o.id,onChange:m=>u(p=>({...p,id:m.target.value}))}),v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Name *",value:o.name,onChange:m=>u(p=>({...p,name:m.target.value}))})]}),v.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Role",value:o.role,onChange:m=>u(p=>({...p,role:m.target.value}))}),v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Tags (comma separated)",value:o.tags,onChange:m=>u(p=>({...p,tags:m.target.value}))})]}),v.jsx("textarea",{className:"border rounded-lg px-3 py-2",placeholder:"Bio",value:o.bio,onChange:m=>u(p=>({...p,bio:m.target.value}))}),v.jsxs("div",{className:"grid sm:grid-cols-4 gap-3",children:[v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Instagram URL",value:o.instagram,onChange:m=>u(p=>({...p,instagram:m.target.value}))}),v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Facebook URL",value:o.facebook,onChange:m=>u(p=>({...p,facebook:m.target.value}))}),v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"TikTok URL",value:o.tiktok,onChange:m=>u(p=>({...p,tiktok:m.target.value}))}),v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Email or /contact",value:o.email,onChange:m=>u(p=>({...p,email:m.target.value}))})]})]}),v.jsx("div",{className:"md:pl-3",children:v.jsx("button",{className:"btn btn-primary w-full md:w-auto",disabled:t,children:t?"Adding…":"Add Technician"})})]}),v.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(m=>v.jsx(Z4,{tech:m},m.id))})]})}function Z4({tech:i}){const[e,t]=D.useState(i.name||""),[s,o]=D.useState(i.role||""),[u,h]=D.useState(i.bio||""),[m,p]=D.useState(i.enabled!==!1),[g,E]=D.useState(i.tags?.join(", ")||""),[w,A]=D.useState({instagram:i.socials?.instagram||"",facebook:i.socials?.facebook||"",tiktok:i.socials?.tiktok||"",email:i.socials?.email||"/contact"}),[M,L]=D.useState(i.squareStaffId||""),[B,U]=D.useState(null),[q,Z]=D.useState(null),[X,W]=D.useState(!1),[re,ce]=D.useState(!1),[N,R]=D.useState(null),[x,k]=D.useState(null);D.useEffect(()=>{t(i.name||""),o(i.role||""),h(i.bio||""),p(i.enabled!==!1),E(i.tags?.join(", ")||""),A({instagram:i.socials?.instagram||"",facebook:i.socials?.facebook||"",tiktok:i.socials?.tiktok||"",email:i.socials?.email||"/contact"}),L(i.squareStaffId||""),U(null),Z(null)},[i.id]);async function V(){W(!0);try{let me=i.avatarUrl||"";if(B){const Y=B.name.split(".").pop(),le=`avatars/${i.id}_${Date.now()}.${Y}`,pe=Ui(Li,le),Ie=Bo(pe,B);await new Promise((O,se)=>{Ie.on("state_changed",ue=>Z(Math.round(ue.bytesTransferred/ue.totalBytes*100)),se,O)}),me=await va(Ie.snapshot.ref)}await ha(cn(it,"technicians",i.id),{name:e.trim(),role:s.trim(),bio:u.trim(),tags:g?g.split(",").map(Y=>Y.trim()).filter(Boolean):[],socials:w,squareStaffId:M.trim(),avatarUrl:me,enabled:m,updatedAt:_n()})}finally{W(!1),Z(null),U(null)}}async function j(){confirm(`Delete ${i.name}?`)&&await Gg(cn(it,"technicians",i.id))}async function C(me){if(me.preventDefault(),!!N){ce(!0);try{const Y=N.name.split(".").pop(),le=`portfolios/${i.id}/${Date.now()}_${N.name}`,pe=Ui(Li,le),Ie=Bo(pe,N);await new Promise((se,ue)=>{Ie.on("state_changed",ae=>k(Math.round(ae.bytesTransferred/ae.totalBytes*100)),ue,se)});const O=await va(Ie.snapshot.ref);await ha(cn(it,"technicians",i.id),{gallery:rk(O),updatedAt:_n()}),R(null)}finally{ce(!1),k(null)}}}async function ot(me){confirm("Remove image from gallery?")&&await ha(cn(it,"technicians",i.id),{gallery:sk(me),updatedAt:_n()})}return v.jsxs("div",{className:"bg-white border rounded-2xl overflow-hidden shadow-soft",children:[v.jsx("div",{className:"relative aspect-[4/3] bg-neutral-100",children:v.jsx("img",{src:B?URL.createObjectURL(B):i.avatarUrl,alt:"",className:"absolute inset-0 h-full w-full object-cover"})}),v.jsxs("div",{className:"p-4 space-y-3 text-sm",children:[v.jsxs("div",{className:"grid sm:grid-cols-2 gap-2",children:[v.jsx("input",{className:"border rounded-lg px-3 py-2",value:e,onChange:me=>t(me.target.value)}),v.jsx("input",{className:"border rounded-lg px-3 py-2",value:s,onChange:me=>o(me.target.value)})]}),v.jsx("textarea",{className:"border rounded-lg px-3 py-2",value:u,onChange:me=>h(me.target.value)}),v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Tags (comma separated)",value:g,onChange:me=>E(me.target.value)}),v.jsxs("div",{className:"grid sm:grid-cols-2 gap-2",children:[v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Instagram URL",value:w.instagram,onChange:me=>A(Y=>({...Y,instagram:me.target.value}))}),v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Facebook URL",value:w.facebook,onChange:me=>A(Y=>({...Y,facebook:me.target.value}))}),v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"TikTok URL",value:w.tiktok,onChange:me=>A(Y=>({...Y,tiktok:me.target.value}))}),v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Email or /contact",value:w.email,onChange:me=>A(Y=>({...Y,email:me.target.value}))})]}),v.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Square staff ID (optional)",value:M,onChange:me=>L(me.target.value)}),v.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:me=>U(me.target.files?.[0]||null)}),q!=null&&v.jsx(qo,{value:q})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",checked:m,onChange:me=>p(me.target.checked)}),v.jsx("span",{children:"Visible"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{className:"btn btn-ghost",onClick:j,children:"Delete"}),v.jsx("button",{className:"btn btn-primary",onClick:V,disabled:X,children:X?"Saving…":"Save"})]})]}),v.jsxs("div",{className:"mt-3 border-t pt-3",children:[v.jsx("h4",{className:"font-medium mb-2",children:"Portfolio"}),v.jsxs("form",{className:"flex flex-wrap items-center gap-3",onSubmit:C,children:[v.jsx("input",{type:"file",accept:"image/*",onChange:me=>R(me.target.files?.[0]||null)}),v.jsx("button",{className:"btn btn-ghost",disabled:!N||re,children:re?x!=null?`Uploading ${x}%…`:"Adding…":"Add to Gallery"})]}),x!=null&&v.jsx(qo,{value:x}),Array.isArray(i.gallery)&&i.gallery.length>0&&v.jsx("div",{className:"mt-3 grid grid-cols-3 gap-2",children:i.gallery.map((me,Y)=>v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:me,alt:"",className:"aspect-square w-full object-cover rounded-lg"}),v.jsx("button",{type:"button",onClick:()=>ot(me),className:"absolute top-1 right-1 text-xs bg-white/90 rounded px-2 py-1",children:"Remove"})]},Y))})]})]})]})}function J4(){return v.jsxs("main",{className:"mx-auto max-w-6xl px-4 py-14",children:[v.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold mb-8",children:["Services",""]}),v.jsxs("p",{className:"text-neutral-600 mb-10",children:["Full pricing menu coming soon. For quotes or availability,"," ",v.jsx(Fe,{to:"/book",className:"underline",children:"book an appointment"})," or"," ",v.jsx(Fe,{to:"/contact",className:"underline",children:"contact us"}),"."]}),v.jsx("section",{children:v.jsx(D1,{showViewAll:!1})})]})}function O1({images:i,index:e=0,onClose:t}){const[s,o]=D.useState(e),u=D.useRef({x:0,y:0}),[h,m]=D.useState({x:0,y:0}),[p,g]=D.useState(0),[E,w]=D.useState(!1),A=60,M=70,L="cubic-bezier(.22,.61,.36,1)",B=W=>typeof W=="string"?W:W?.url||W?.src||"";D.useEffect(()=>{const W=x=>{x.key==="Escape"&&t(),x.key==="ArrowRight"&&X(1),x.key==="ArrowLeft"&&X(-1)};window.addEventListener("keydown",W);const re=document.documentElement,ce=re.style.overflow,N=document.body.style.overflow,R=window.scrollY;return re.style.overflow="hidden",document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${R}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%",()=>{window.removeEventListener("keydown",W),re.style.overflow=ce,document.body.style.overflow=N;const x=Math.abs(parseInt(document.body.style.top||"0",10));document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",window.scrollTo(0,x)}},[t]);function U(W){if(E)return;const re=W.touches?W.touches[0]:W;u.current={x:re.clientX,y:re.clientY},g(0),m({x:0,y:0})}function q(W){if(E)return;const re=W.touches?W.touches[0]:W,ce=re.clientX-u.current.x,N=re.clientY-u.current.y;Math.abs(ce)>Math.abs(N)&&W.preventDefault(),m({x:ce,y:N})}function Z(){if(E)return;const{x:W,y:re}=h;if(Math.abs(re)>M&&Math.abs(re)>Math.abs(W)){g(180),t();return}if(Math.abs(W)<=A){g(180),m({x:0,y:0});return}X(W<0?1:-1)}function X(W){if(E)return;w(!0);const re=(typeof window<"u"?window.innerWidth:1e3)*1.1;g(260),m({x:W*re,y:0}),setTimeout(()=>{g(0),o(ce=>W>0?(ce+1)%i.length:(ce-1+i.length)%i.length),m({x:-W*re,y:0}),requestAnimationFrame(()=>{g(260),m({x:0,y:0}),setTimeout(()=>w(!1),280)})},270)}return v.jsxs("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 z-[11000] bg-black/70 backdrop-blur-sm flex items-center justify-center",style:{touchAction:"none"},onTouchStart:U,onTouchMove:q,onTouchEnd:Z,onMouseDown:U,onMouseMove:W=>{W.buttons===1&&q(W)},onMouseUp:Z,children:[v.jsx("button",{className:"absolute top-3 right-3 w-10 h-10 grid place-items-center rounded-full bg-black/70 hover:bg-black text-white",onClick:t,"aria-label":"Close",children:v.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:v.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),v.jsx("button",{className:"absolute left-2 md:left-4 top-1/2 -translate-y-1/2 w-10 h-10 md:w-12 md:h-12 grid place-items-center rounded-full bg-black/60 hover:bg-black text-white select-none",onClick:()=>X(-1),"aria-label":"Previous",children:v.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:v.jsx("path",{d:"M15 6l-6 6 6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),v.jsx("img",{src:B(i[s]),alt:"",className:"max-w-[92vw] max-h-[86vh] object-contain rounded-xl shadow-2xl select-none",draggable:!1,style:{transform:`translateX(${h.x}px)`,transition:`transform ${p}ms ${L}`}}),v.jsx("button",{className:"absolute right-2 md:right-4 top-1/2 -translate-y-1/2 w-10 h-10 md:w-12 md:h-12 grid place-items-center rounded-full bg-black/60 hover:bg-black text-white select-none",onClick:()=>X(1),"aria-label":"Next",children:v.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:v.jsx("path",{d:"M9 6l6 6-6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}function eP(){const[i,e]=D.useState([]),[t,s]=D.useState(null);return D.useEffect(()=>{const o=Vi($n(it,"images"),Gn("createdAt","desc"));return Yn(o,u=>e(u.docs.map(h=>({id:h.id,...h.data()}))))},[]),v.jsxs("section",{className:"mx-auto max-w-6xl px-4 py-10",children:[v.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Gallery"}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.map((o,u)=>v.jsx("button",{onClick:()=>s(u),className:"group block rounded-2xl shadow-sm hover:shadow-xl hover:-translate-y-0.5 transition overflow-hidden",children:v.jsx("div",{className:"aspect-[4/3] bg-transparent",children:v.jsx("img",{src:o.url,alt:"",loading:"lazy",className:"w-full h-full object-contain p-1 transition-transform duration-300 group-hover:scale-[1.02]"})})},o.id))}),t!=null&&v.jsx(O1,{images:i,index:t,onClose:()=>s(null)})]})}function E0(){const[i,e]=D.useState(!1),t="https://app.squareup.com/appointments/book/hiowoby9ly2y2x/LX68WJMN6NYDA/start";return v.jsx("main",{className:"min-h-screen bg-white text-gray-900",children:v.jsxs("section",{className:"mx-auto max-w-5xl px-4 py-10",children:[v.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:"Book an Appointment"}),v.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Pick a service, then choose your date & time. You’ll ",v.jsx("span",{className:"font-medium",children:"pay in person"})," at your visit."]}),v.jsxs("div",{className:"mt-6 rounded-2xl border border-gray-200 p-4",children:[v.jsx("h2",{className:"text-base font-semibold",children:"Booking Policies"}),v.jsxs("ul",{className:"mt-2 text-sm list-disc pl-5 space-y-1",children:[v.jsx("li",{children:"Please arrive 5–10 minutes early."}),v.jsx("li",{children:"24‑hour reschedule window. No‑shows may require a deposit next time."}),v.jsx("li",{children:"If you’re sick, message us to reschedule — no fee."})]})]}),v.jsxs("div",{className:"mt-8",children:[!i&&v.jsx("div",{className:"mb-3 rounded-xl border border-gray-200 p-4 text-sm",children:"Loading the booking calendar…"}),v.jsx("div",{className:"relative w-full",style:{minHeight:"90vh"},children:v.jsx("iframe",{title:"Blessed N Polished — Booking",src:t,className:"absolute inset-0 h-full w-full rounded-2xl border-0",onLoad:()=>e(!0),loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),v.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[v.jsx("a",{href:t,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-2xl px-5 py-3 text-white bg-black hover:opacity-90 transition",children:"Open Full Booking Page"}),v.jsx("span",{className:"text-xs text-gray-500",children:"Use this if the embed doesn’t load."})]})]})]})})}class Yu{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const tP=()=>{if(!(typeof localStorage>"u"))return{get:i=>Promise.resolve(localStorage.getItem(i)),set:(i,e)=>Promise.resolve(localStorage.setItem(i,e)),remove:i=>Promise.resolve(localStorage.removeItem(i))}},Yt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:tP()},ry=i=>i?typeof i=="string"?{publicKey:i}:i.toString()==="[object Object]"?i:{}:{},nP=(i,e="https://api.emailjs.com")=>{if(!i)return;const t=ry(i);Yt.publicKey=t.publicKey,Yt.blockHeadless=t.blockHeadless,Yt.storageProvider=t.storageProvider,Yt.blockList=t.blockList,Yt.limitRate=t.limitRate,Yt.origin=t.origin||e},k1=async(i,e,t={})=>{const s=await fetch(Yt.origin+i,{method:"POST",headers:t,body:e}),o=await s.text(),u=new Yu(s.status,o);if(s.ok)return u;throw u},P1=(i,e,t)=>{if(!i||typeof i!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},iP=i=>{if(i&&i.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},M1=i=>i.webdriver||!i.languages||i.languages.length===0,V1=()=>new Yu(451,"Unavailable For Headless Browser"),rP=(i,e)=>{if(!Array.isArray(i))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},sP=i=>!i.list?.length||!i.watchVariable,aP=(i,e)=>i instanceof FormData?i.get(e):i[e],U1=(i,e)=>{if(sP(i))return!1;rP(i.list,i.watchVariable);const t=aP(e,i.watchVariable);return typeof t!="string"?!1:i.list.includes(t)},L1=()=>new Yu(403,"Forbidden"),oP=(i,e)=>{if(typeof i!="number"||i<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},lP=async(i,e,t)=>{const s=Number(await t.get(i)||0);return e-Date.now()+s},j1=async(i,e,t)=>{if(!e.throttle||!t)return!1;oP(e.throttle,e.id);const s=e.id||i;return await lP(s,e.throttle,t)>0?!0:(await t.set(s,Date.now().toString()),!1)},z1=()=>new Yu(429,"Too Many Requests"),uP=async(i,e,t,s)=>{const o=ry(s),u=o.publicKey||Yt.publicKey,h=o.blockHeadless||Yt.blockHeadless,m=o.storageProvider||Yt.storageProvider,p={...Yt.blockList,...o.blockList},g={...Yt.limitRate,...o.limitRate};return h&&M1(navigator)?Promise.reject(V1()):(P1(u,i,e),iP(t),t&&U1(p,t)?Promise.reject(L1()):await j1(location.pathname,g,m)?Promise.reject(z1()):k1("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:u,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"}))},cP=i=>{if(!i||i.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},hP=i=>typeof i=="string"?document.querySelector(i):i,fP=async(i,e,t,s)=>{const o=ry(s),u=o.publicKey||Yt.publicKey,h=o.blockHeadless||Yt.blockHeadless,m=Yt.storageProvider||o.storageProvider,p={...Yt.blockList,...o.blockList},g={...Yt.limitRate,...o.limitRate};if(h&&M1(navigator))return Promise.reject(V1());const E=hP(t);P1(u,i,e),cP(E);const w=new FormData(E);return U1(p,w)?Promise.reject(L1()):await j1(location.pathname,g,m)?Promise.reject(z1()):(w.append("lib_version","4.4.1"),w.append("service_id",i),w.append("template_id",e),w.append("user_id",u),k1("/api/v1.0/email/send-form",w))},dP={init:nP,send:uP,sendForm:fP,EmailJSResponseStatus:Yu};function mP(){const i=iy(),[e]=HR(),t=e.get("tech")||"",[s,o]=D.useState({name:"",email:"",phone:"",message:"",tech:t}),[u,h]=D.useState(!1),[m,p]=D.useState(!1),[g,E]=D.useState(""),w=D.useRef(null);D.useEffect(()=>{o(Z=>({...Z,tech:t}))},[t]);const A=i?.phone||"",M=i?.email||"blessednpolished@gmail.com",L=i?.instagram||"reinakatrina84",B=i?.serviceArea||i?.city||"Buckeye, AZ • Sundance",U=i?.byApptOnly??!0;async function q(Z){if(Z.preventDefault(),E(""),!s.name.trim())return E("Please enter your name.");if(!s.email.trim()&&!s.phone.trim())return E("Add an email or phone.");if(s.email&&!/.+@.+\..+/.test(s.email))return E("That email looks off.");if(s.message.trim().length<5)return E("Add a short message.");if(!w.current?.value){h(!0);try{await Kg($n(it,"contactMessages"),{...s,createdAt:_n(),source:"website"}),await dP.send("service_4qvud2c","template_7ron76e",{title:"Website Contact",name:s.name,email:s.email||"no-email@site",phone:s.phone||"n/a",message:s.message,tech:s.tech||"No preference",time:new Date().toLocaleString()},"pfHzESbvoAzCi3NYH"),p(!0),o({name:"",email:"",phone:"",message:"",tech:t})}catch(X){console.error(X),E("Couldn’t send right now. Please try again.")}finally{h(!1)}}}return v.jsxs("section",{className:"mx-auto max-w-6xl px-4 py-10 md:py-16",children:[v.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-8",children:"Contact"}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"rounded-2xl bg-white ring-1 ring-black/5 shadow-soft p-6 space-y-5",children:[U&&v.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-black text-white text-xs px-3 py-1",children:"By appointment only"}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm text-neutral-600",children:"Location"}),v.jsxs("div",{className:"text-lg font-medium",children:[B," ",v.jsx("span",{className:"text-neutral-500",children:"• address shared after booking"})]})]}),A&&v.jsxs("div",{children:[v.jsx("div",{className:"text-sm text-neutral-600",children:"Phone"}),v.jsx("a",{className:"text-lg font-medium hover:underline",href:`tel:${A.replace(/[^\d+]/g,"")}`,children:A}),v.jsxs("div",{className:"mt-2 flex gap-2",children:[v.jsx("a",{className:"btn btn-ghost btn-sm",href:`sms:${A.replace(/[^\d+]/g,"")}`,children:"Text"}),v.jsx("a",{className:"btn btn-ghost btn-sm",href:`tel:${A.replace(/[^\d+]/g,"")}`,children:"Call"})]})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm text-neutral-600",children:"Email"}),v.jsx("a",{className:"text-lg font-medium hover:underline",href:`mailto:${M}`,children:M})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm text-neutral-600",children:"Instagram"}),v.jsxs("a",{className:"text-lg font-medium hover:underline",target:"_blank",rel:"noreferrer",href:`https://instagram.com/${L.replace(/^@/,"")}`,children:["@",L.replace(/^@/,"")]})]})]}),v.jsx("div",{className:"rounded-2xl bg-white ring-1 ring-black/5 shadow-soft p-6",children:m?v.jsxs("div",{className:"text-center py-10",children:[v.jsx("div",{className:"text-2xl mb-2",children:"🎉 Thanks!"}),v.jsx("p",{className:"text-neutral-700",children:"We got your message and will get back to you soon."}),v.jsx("button",{className:"btn btn-primary mt-6",onClick:()=>p(!1),children:"Send another"})]}):v.jsxs("form",{className:"space-y-4",onSubmit:q,children:[v.jsx("input",{ref:w,className:"hidden",tabIndex:-1,autoComplete:"off",placeholder:"Company"}),v.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1",children:"Name"}),v.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:s.name,onChange:Z=>o(X=>({...X,name:Z.target.value})),autoComplete:"name",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1",children:"Phone"}),v.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:s.phone,onChange:Z=>o(X=>({...X,phone:Z.target.value})),autoComplete:"tel",placeholder:"Optional"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1",children:"Email"}),v.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:s.email,onChange:Z=>o(X=>({...X,email:Z.target.value})),type:"email",autoComplete:"email",placeholder:"name@email.com"}),v.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Add email or phone (either one works)."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1",children:"Preferred technician"}),v.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:s.tech,onChange:Z=>o(X=>({...X,tech:Z.target.value})),placeholder:"Optional (e.g., Elysia)"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1",children:"Message"}),v.jsx("textarea",{className:"w-full border rounded-lg px-3 py-2 min-h-[120px]",value:s.message,onChange:Z=>o(X=>({...X,message:Z.target.value})),required:!0})]}),g&&v.jsx("p",{className:"text-sm text-red-600",children:g}),v.jsx("button",{className:"btn btn-primary",disabled:u,children:u?"Sending…":"Send Message"})]})})]})]})}function pP(){const[i,e]=D.useState([]);return D.useEffect(()=>{const t=Vi($n(it,"technicians"),Gn("name","asc"));return Yn(t,s=>{e(s.docs.map(o=>({id:o.id,...o.data()})).filter(o=>o.enabled!==!1))})},[]),v.jsxs("main",{className:"min-h-screen mx-auto max-w-6xl px-4 py-12",children:[v.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold mb-8",children:"Technicians"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:i.map(t=>{const s=t.coverUrl||t.heroUrl||Array.isArray(t.gallery)&&t.gallery[0]||t.avatarUrl;return v.jsxs("article",{className:"group rounded-2xl overflow-hidden ring-1 ring-black/5 shadow-soft transition hover:-translate-y-0.5 hover:shadow-xl",style:{background:"linear-gradient(to bottom, #f9d6d1 0%, #ffffff 100%)"},children:[s&&v.jsx(Fe,{to:`/technicians/${t.id}`,className:"block",children:v.jsxs("div",{className:"relative aspect-[16/9] sm:aspect-[4/3]",children:[v.jsx("img",{src:s,alt:t.name,loading:"lazy",decoding:"async",sizes:"(max-width:640px) 100vw, (max-width:1024px) 50vw, 33vw",className:"absolute inset-0 w-full h-full object-contain"}),v.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-inset ring-black/5"})]})}),v.jsxs("div",{className:"p-4 sm:p-5",children:[v.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:v.jsx(Fe,{to:`/technicians/${t.id}`,className:"hover:underline focus:outline-none focus:ring-2 focus:ring-black/20 rounded",children:t.name})}),v.jsx("p",{className:"text-neutral-600 mt-1.5 text-sm sm:text-[15px]",children:t.role||"Nail Artist"}),t.bio&&v.jsx("p",{className:"mt-2 text-neutral-700 text-sm sm:text-[15px]",children:t.bio}),v.jsx("div",{className:"mt-3",children:v.jsx($u,{className:"mt-3",size:18,gap:"gap-2",fallback:"none",socials:t.socials,emailAsContact:!0,contactQuery:{tech:t.name,source:"tech-card"}})}),v.jsx("div",{className:"mt-4",children:v.jsx(Fe,{to:`/technicians/${t.id}`,className:"underline text-sm",children:"View profile"})})]})]},t.id)})})]})}function gP(){const{techId:i}=ZA(),[e,t]=D.useState(null),[s,o]=D.useState(null);return D.useEffect(()=>{if(i)return Yn(cn(it,"technicians",i),u=>{t(u.exists()?{id:u.id,...u.data()}:null)})},[i]),e===null?v.jsxs("main",{className:"p-10",children:["Not found. ",v.jsx(Fe,{to:"/technicians",className:"underline",children:"Back"})]}):e?v.jsx("main",{className:"min-h-screen",children:v.jsxs("section",{className:"mx-auto max-w-6xl px-4 py-10",children:[v.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[e.avatarUrl&&v.jsx("img",{src:e.avatarUrl,alt:e.name,className:"h-28 w-28 rounded-full object-cover ring-1 ring-black/10"}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-extrabold",children:e.name}),v.jsx("p",{className:"text-neutral-700",children:e.role}),v.jsx("p",{className:"mt-4 max-w-2xl text-neutral-700",children:e.bio}),v.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.squareStaffId&&v.jsxs(Fe,{to:`/book/${e.id}`,className:"underline text-sm",children:["Book with ",e.name.split(" ")[0]]}),v.jsx($u,{className:"mt-3",size:18,gap:"gap-2",socials:e.socials,emailAsContact:!0,contactQuery:{tech:e.name,source:"tech-card"}})]})]})]}),Array.isArray(e.gallery)&&e.gallery.length>0&&v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"text-xl font-semibold mt-10",children:"Portfolio"}),v.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:e.gallery.map((u,h)=>v.jsx("button",{onClick:()=>o(h),className:"group block rounded-2xl shadow-sm hover:shadow-xl hover:-translate-y-0.5 transition overflow-hidden",children:v.jsx("div",{className:"aspect-[4/3] bg-transparent",children:v.jsx("img",{src:u,alt:`${e.name} ${h+1}`,loading:"lazy",className:"w-full h-full object-contain p-1 transition-transform duration-300 group-hover:scale-[1.02]"})})},h))}),s!=null&&v.jsx(O1,{images:e.gallery,index:s,onClose:()=>o(null)})]})]})}):null}EA.createRoot(document.getElementById("root")).render(v.jsx(ss.StrictMode,{children:v.jsx(LR,{children:v.jsxs(mR,{children:[v.jsxs(ti,{element:v.jsx(U4,{}),children:[v.jsx(ti,{index:!0,element:v.jsx(q4,{})}),v.jsx(ti,{path:"services",element:v.jsx(J4,{})}),v.jsx(ti,{path:"gallery",element:v.jsx(eP,{})}),v.jsx(ti,{path:"book",element:v.jsx(E0,{})}),v.jsx(ti,{path:"book/:techId",element:v.jsx(E0,{})}),v.jsx(ti,{path:"technicians",element:v.jsx(pP,{})}),v.jsx(ti,{path:"technicians/:techId",element:v.jsx(gP,{})}),v.jsx(ti,{path:"contact",element:v.jsx(mP,{})})]}),v.jsx(ti,{path:"admin",element:v.jsx(H4,{})})]})})}));
