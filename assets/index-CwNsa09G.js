(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function c0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Lm={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function JS(){if(lE)return Jl;lE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Jl.Fragment=e,Jl.jsx=t,Jl.jsxs=t,Jl}var uE;function eA(){return uE||(uE=1,Lm.exports=JS()),Lm.exports}var b=eA(),Um={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function tA(){if(cE)return Re;cE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function P(D,re,ue){this.props=D,this.context=re,this.refs=B,this.updater=ue||M}P.prototype.isReactComponent={},P.prototype.setState=function(D,re){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,re,"setState")},P.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function q(){}q.prototype=P.prototype;function ne(D,re,ue){this.props=D,this.context=re,this.refs=B,this.updater=ue||M}var Q=ne.prototype=new q;Q.constructor=ne,U(Q,P.prototype),Q.isPureReactComponent=!0;var ie=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function N(D,re,ue,ae,ye,Ce){return ue=Ce.ref,{$$typeof:i,type:D,key:re,ref:ue!==void 0?ue:null,props:Ce}}function R(D,re){return N(D.type,re,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function O(D){var re={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ue){return re[ue]})}var V=/\/+/g;function j(D,re){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):re.toString(36)}function x(){}function ht(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(x,x):(D.status="pending",D.then(function(re){D.status==="pending"&&(D.status="fulfilled",D.value=re)},function(re){D.status==="pending"&&(D.status="rejected",D.reason=re)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function We(D,re,ue,ae,ye){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var we=!1;if(D===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(D.$$typeof){case i:case e:we=!0;break;case E:return we=D._init,We(we(D._payload),re,ue,ae,ye)}}if(we)return ye=ye(D),we=ae===""?"."+j(D,0):ae,ie(ye)?(ue="",we!=null&&(ue=we.replace(V,"$&/")+"/"),We(ye,re,ue,"",function(Jn){return Jn})):ye!=null&&(I(ye)&&(ye=R(ye,ue+(ye.key==null||D&&D.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+we)),re.push(ye)),1;we=0;var kt=ae===""?".":ae+":";if(ie(D))for(var Je=0;Je<D.length;Je++)ae=D[Je],Ce=kt+j(ae,Je),we+=We(ae,re,ue,Ce,ye);else if(Je=A(D),typeof Je=="function")for(D=Je.call(D),Je=0;!(ae=D.next()).done;)ae=ae.value,Ce=kt+j(ae,Je++),we+=We(ae,re,ue,Ce,ye);else if(Ce==="object"){if(typeof D.then=="function")return We(ht(D),re,ue,ae,ye);throw re=String(D),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(D,re,ue){if(D==null)return D;var ae=[],ye=0;return We(D,ae,"","",function(Ce){return re.call(ue,Ce,ye++)}),ae}function le(D){if(D._status===-1){var re=D._result;re=re(),re.then(function(ue){(D._status===0||D._status===-1)&&(D._status=1,D._result=ue)},function(ue){(D._status===0||D._status===-1)&&(D._status=2,D._result=ue)}),D._status===-1&&(D._status=0,D._result=re)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Pe(){}return Re.Children={map:X,forEach:function(D,re,ue){X(D,function(){re.apply(this,arguments)},ue)},count:function(D){var re=0;return X(D,function(){re++}),re},toArray:function(D){return X(D,function(re){return re})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=P,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=ne,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return se.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,re,ue){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ae=U({},D.props),ye=D.key,Ce=void 0;if(re!=null)for(we in re.ref!==void 0&&(Ce=void 0),re.key!==void 0&&(ye=""+re.key),re)!he.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(ae[we]=re[we]);var we=arguments.length-2;if(we===1)ae.children=ue;else if(1<we){for(var kt=Array(we),Je=0;Je<we;Je++)kt[Je]=arguments[Je+2];ae.children=kt}return N(D.type,ye,void 0,void 0,Ce,ae)},Re.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,re,ue){var ae,ye={},Ce=null;if(re!=null)for(ae in re.key!==void 0&&(Ce=""+re.key),re)he.call(re,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=re[ae]);var we=arguments.length-2;if(we===1)ye.children=ue;else if(1<we){for(var kt=Array(we),Je=0;Je<we;Je++)kt[Je]=arguments[Je+2];ye.children=kt}if(D&&D.defaultProps)for(ae in we=D.defaultProps,we)ye[ae]===void 0&&(ye[ae]=we[ae]);return N(D,Ce,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=I,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:le}},Re.memo=function(D,re){return{$$typeof:g,type:D,compare:re===void 0?null:re}},Re.startTransition=function(D){var re=se.T,ue={};se.T=ue;try{var ae=D(),ye=se.S;ye!==null&&ye(ue,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Pe,me)}catch(Ce){me(Ce)}finally{se.T=re}},Re.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Re.use=function(D){return se.H.use(D)},Re.useActionState=function(D,re,ue){return se.H.useActionState(D,re,ue)},Re.useCallback=function(D,re){return se.H.useCallback(D,re)},Re.useContext=function(D){return se.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,re){return se.H.useDeferredValue(D,re)},Re.useEffect=function(D,re,ue){var ae=se.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(D,re)},Re.useId=function(){return se.H.useId()},Re.useImperativeHandle=function(D,re,ue){return se.H.useImperativeHandle(D,re,ue)},Re.useInsertionEffect=function(D,re){return se.H.useInsertionEffect(D,re)},Re.useLayoutEffect=function(D,re){return se.H.useLayoutEffect(D,re)},Re.useMemo=function(D,re){return se.H.useMemo(D,re)},Re.useOptimistic=function(D,re){return se.H.useOptimistic(D,re)},Re.useReducer=function(D,re,ue){return se.H.useReducer(D,re,ue)},Re.useRef=function(D){return se.H.useRef(D)},Re.useState=function(D){return se.H.useState(D)},Re.useSyncExternalStore=function(D,re,ue){return se.H.useSyncExternalStore(D,re,ue)},Re.useTransition=function(){return se.H.useTransition()},Re.version="19.1.1",Re}var hE;function Vp(){return hE||(hE=1,Um.exports=tA()),Um.exports}var L=Vp();const es=c0(L);var jm={exports:{}},eu={},zm={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function nA(){return fE||(fE=1,function(i){function e(X,le){var me=X.length;X.push(le);e:for(;0<me;){var Pe=me-1>>>1,D=X[Pe];if(0<o(D,le))X[Pe]=le,X[me]=D,me=Pe;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var le=X[0],me=X.pop();if(me!==le){X[0]=me;e:for(var Pe=0,D=X.length,re=D>>>1;Pe<re;){var ue=2*(Pe+1)-1,ae=X[ue],ye=ue+1,Ce=X[ye];if(0>o(ae,me))ye<D&&0>o(Ce,ae)?(X[Pe]=Ce,X[ye]=me,Pe=ye):(X[Pe]=ae,X[ue]=me,Pe=ue);else if(ye<D&&0>o(Ce,me))X[Pe]=Ce,X[ye]=me,Pe=ye;else break e}}return le}function o(X,le){var me=X.sortIndex-le.sortIndex;return me!==0?me:X.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,S=null,A=3,M=!1,U=!1,B=!1,P=!1,q=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ie(X){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=X)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function se(X){if(B=!1,ie(X),!U)if(t(p)!==null)U=!0,he||(he=!0,j());else{var le=t(g);le!==null&&We(se,le.startTime-X)}}var he=!1,N=-1,R=5,I=-1;function O(){return P?!0:!(i.unstable_now()-I<R)}function V(){if(P=!1,he){var X=i.unstable_now();I=X;var le=!0;try{e:{U=!1,B&&(B=!1,ne(N),N=-1),M=!0;var me=A;try{t:{for(ie(X),S=t(p);S!==null&&!(S.expirationTime>X&&O());){var Pe=S.callback;if(typeof Pe=="function"){S.callback=null,A=S.priorityLevel;var D=Pe(S.expirationTime<=X);if(X=i.unstable_now(),typeof D=="function"){S.callback=D,ie(X),le=!0;break t}S===t(p)&&s(p),ie(X)}else s(p);S=t(p)}if(S!==null)le=!0;else{var re=t(g);re!==null&&We(se,re.startTime-X),le=!1}}break e}finally{S=null,A=me,M=!1}le=void 0}}finally{le?j():he=!1}}}var j;if(typeof Q=="function")j=function(){Q(V)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ht=x.port2;x.port1.onmessage=V,j=function(){ht.postMessage(null)}}else j=function(){q(V,0)};function We(X,le){N=q(function(){X(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(X){switch(A){case 1:case 2:case 3:var le=3;break;default:le=A}var me=A;A=le;try{return X()}finally{A=me}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=A;A=X;try{return le()}finally{A=me}},i.unstable_scheduleCallback=function(X,le,me){var Pe=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Pe+me:Pe):me=Pe,X){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=me+D,X={id:E++,callback:le,priorityLevel:X,startTime:me,expirationTime:D,sortIndex:-1},me>Pe?(X.sortIndex=me,e(g,X),t(p)===null&&X===t(g)&&(B?(ne(N),N=-1):B=!0,We(se,me-Pe))):(X.sortIndex=D,e(p,X),U||M||(U=!0,he||(he=!0,j()))),X},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(X){var le=A;return function(){var me=A;A=le;try{return X.apply(this,arguments)}finally{A=me}}}}(Bm)),Bm}var dE;function iA(){return dE||(dE=1,zm.exports=nA()),zm.exports}var qm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function rA(){if(mE)return Jt;mE=1;var i=Vp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Jt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:A,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.1.1",Jt}var pE;function h0(){if(pE)return qm.exports;pE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),qm.exports=rA(),qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function sA(){if(gE)return eu;gE=1;var i=iA(),e=Vp(),t=h0();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function ht(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case P:return"Profiler";case B:return"StrictMode";case se:return"Suspense";case he:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case Q:return(n.displayName||"Context")+".Provider";case ne:return(n._context.displayName||"Context")+".Consumer";case ie:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return r=n.displayName||null,r!==null?r:ht(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return ht(n(r))}catch{}}return null}var We=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Pe=[],D=-1;function re(n){return{current:n}}function ue(n){0>D||(n.current=Pe[D],Pe[D]=null,D--)}function ae(n,r){D++,Pe[D]=n.current,n.current=r}var ye=re(null),Ce=re(null),we=re(null),kt=re(null);function Je(n,r){switch(ae(we,r),ae(Ce,n),ae(ye,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Vv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Vv(r),n=Lv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ye),ae(ye,n)}function Jn(){ue(ye),ue(Ce),ue(we)}function yr(n){n.memoizedState!==null&&ae(kt,n);var r=ye.current,a=Lv(r,n.type);r!==a&&(ae(Ce,n),ae(ye,a))}function Di(n){Ce.current===n&&(ue(ye),ue(Ce)),kt.current===n&&(ue(kt),$l._currentValue=me)}var bs=Object.prototype.hasOwnProperty,ws=i.unstable_scheduleCallback,Ss=i.unstable_cancelCallback,Go=i.unstable_shouldYield,Fu=i.unstable_requestPaint,In=i.unstable_now,Lf=i.unstable_getCurrentPriorityLevel,Ko=i.unstable_ImmediatePriority,Sa=i.unstable_UserBlockingPriority,As=i.unstable_NormalPriority,Uf=i.unstable_LowPriority,Aa=i.unstable_IdlePriority,Yo=i.log,Gu=i.unstable_setDisableYieldValue,ft=null,Fe=null;function yn(n){if(typeof Yo=="function"&&Gu(n),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ft,n)}catch{}}var Wt=Math.clz32?Math.clz32:Rs,Ku=Math.log,jf=Math.LN2;function Rs(n){return n>>>=0,n===0?32:31-(Ku(n)/jf|0)|0}var Is=256,Cs=4194304;function Hn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ra(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Hn(l):(v&=T,v!==0?f=Hn(v):a||(a=T&~n,a!==0&&(f=Hn(a))))):(T=l&~d,T!==0?f=Hn(T):v!==0?f=Hn(v):a||(a=l&~n,a!==0&&(f=Hn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function xs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function $o(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qo(){var n=Is;return Is<<=1,(Is&4194048)===0&&(Is=256),n}function Xo(){var n=Cs;return Cs<<=1,(Cs&62914560)===0&&(Cs=4194304),n}function Oi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function ki(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Wo(n,r,a,l,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,C=n.expirationTimes,G=n.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Wt(a),ee=1<<W;T[W]=0,C[W]=-1;var K=G[W];if(K!==null)for(G[W]=null,W=0;W<K.length;W++){var Y=K[W];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&ei(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function ei(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Wt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Zo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Wt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function _r(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ia(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function vr(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:nE(n.type))}function Yu(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var st=Math.random().toString(36).slice(2),It="__reactFiber$"+st,Et="__reactProps$"+st,Cn="__reactContainer$"+st,Jo="__reactEvents$"+st,zf="__reactListeners$"+st,Er="__reactHandles$"+st,$u="__reactResources$"+st,Ns="__reactMarker$"+st;function Tr(n){delete n[It],delete n[Et],delete n[Jo],delete n[zf],delete n[Er]}function Mi(n){var r=n[It];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Cn]||a[It]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Bv(n);n!==null;){if(a=n[It])return a;n=Bv(n)}return r}n=a,a=n.parentNode}return null}function ti(n){if(n=n[It]||n[Cn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ni(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function sn(n){var r=n[$u];return r||(r=n[$u]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(n){n[Ns]=!0}var el=new Set,Ca={};function Fn(n,r){Pi(n,r),Pi(n+"Capture",r)}function Pi(n,r){for(Ca[n]=r,n=0;n<r.length;n++)el.add(r[n])}var Qu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xu={},Ds={};function Wu(n){return bs.call(Ds,n)?!0:bs.call(Xu,n)?!1:Qu.test(n)?Ds[n]=!0:(Xu[n]=!0,!1)}function br(n,r,a){if(Wu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ii(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Bt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Os,Zu;function Vi(n){if(Os===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Os=r&&r[1]||"",Zu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+n+Zu}var xa=!1;function Na(n,r){if(!n||xa)return"";xa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var K=Y}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(Y){K=Y}n.call(ee.prototype)}}else{try{throw Error()}catch(Y){K=Y}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),G=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===G.length)for(l=C.length-1,f=G.length-1;1<=l&&0<=f&&C[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==G[f]){var W=`
`+C[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{xa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Vi(a):""}function tl(n){switch(n.tag){case 26:case 27:case 5:return Vi(n.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return Na(n.type,!1);case 11:return Na(n.type.render,!1);case 1:return Na(n.type,!0);case 31:return Vi("Activity");default:return""}}function Da(n){try{var r="";do r+=tl(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function nl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Bf(n){var r=nl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Oa(n){n._valueTracker||(n._valueTracker=Bf(n))}function il(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=nl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function ks(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var qf=/[\n"\\]/g;function Tt(n){return n.replace(qf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _n(n,r,a,l,f,d,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+an(r)):n.value!==""+an(r)&&(n.value=""+an(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?wr(n,v,an(r)):a!=null?wr(n,v,an(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+an(T):n.removeAttribute("name")}function Ms(n,r,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function wr(n,r,a){r==="number"&&ks(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Li(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Ye(n,r,a){if(r!=null&&(r=""+an(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+an(a):""}function Ps(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(We(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=an(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function xn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ju(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Vs.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function rl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Ju(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Ju(n,d,r[d])}function sl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ff=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(n){return Ff.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ui=null;function Nn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ji=null,zi=null;function al(n){var r=ti(n);if(r&&(n=r.stateNode)){var a=n[Et]||null;e:switch(n=r.stateNode,r.type){case"input":if(_n(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[Et]||null;if(!f)throw Error(s(90));_n(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&il(l)}break e;case"textarea":Ye(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Li(n,!!a.multiple,r,!1)}}}var ri=!1;function ec(n,r,a){if(ri)return n(r,a);ri=!0;try{var l=n(r);return l}finally{if(ri=!1,(ji!==null||zi!==null)&&(Yc(),ji&&(r=ji,n=zi,zi=ji=null,al(r),n)))for(r=0;r<n.length;r++)al(n[r])}}function Ls(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Gn)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Dn=!1}var si=null,Sr=null,Bi=null;function ol(){if(Bi)return Bi;var n,r=Sr,a=r.length,l,f="value"in si?si.value:si.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return Bi=f.slice(n,1<l?1-l:void 0)}function ai(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function oi(){return!0}function ll(){return!1}function Mt(n){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:ll,this.isPropagationStopped=ll,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Mt(qe),js=E({},qe,{view:0,detail:0}),tc=Mt(js),Pa,Va,li,zs=E({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==li&&(li&&n.type==="mousemove"?(Pa=n.screenX-li.screenX,Va=n.screenY-li.screenY):Va=Pa=0,li=n),Pa)},movementY:function(n){return"movementY"in n?n.movementY:Va}}),On=Mt(zs),nc=E({},zs,{dataTransfer:0}),Gf=Mt(nc),Bs=E({},js,{relatedTarget:0}),La=Mt(Bs),ul=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Mt(ul),ic=E({},qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ja=Mt(ic),Kf=E({},qe,{data:0}),cl=Mt(Kf),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=sc[n])?!!r[n]:!1}function Hs(){return hl}var ac=E({},js,{key:function(n){if(n.key){var r=qs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ai(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(n){return n.type==="keypress"?ai(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ai(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),za=Mt(ac),oc=E({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Mt(oc),qi=E({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),lc=Mt(qi),uc=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),cc=Mt(uc),hc=E({},zs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ba=Mt(hc),on=E({},qe,{newState:0,oldState:0}),fc=Mt(on),dc=[9,13,27,32],ui=Gn&&"CompositionEvent"in window,c=null;Gn&&"documentMode"in document&&(c=document.documentMode);var y=Gn&&"TextEvent"in window&&!c,_=Gn&&(!ui||c&&8<c&&11>=c),w=" ",H=!1;function $(n,r){switch(n){case"keyup":return dc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ve=!1;function Ct(n,r){switch(n){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(H=!0,w);case"textInput":return n=r.data,n===w&&H?null:n;default:return null}}function Le(n,r){if(Ve)return n==="compositionend"||!ui&&$(n,r)?(n=ol(),Bi=Sr=si=null,Ve=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Pt[n.type]:r==="textarea"}function Hi(n,r,a,l){ji?zi?zi.push(l):zi=[l]:ji=l,r=Jc(r,"onChange"),0<r.length&&(a=new Ma("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var qt=null,ci=null;function dl(n){Dv(n,0)}function mc(n){var r=ni(n);if(il(r))return n}function Zg(n,r){if(n==="change")return r}var Jg=!1;if(Gn){var Yf;if(Gn){var $f="oninput"in document;if(!$f){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),$f=typeof ey.oninput=="function"}Yf=$f}else Yf=!1;Jg=Yf&&(!document.documentMode||9<document.documentMode)}function ty(){qt&&(qt.detachEvent("onpropertychange",ny),ci=qt=null)}function ny(n){if(n.propertyName==="value"&&mc(ci)){var r=[];Hi(r,ci,n,Nn(n)),ec(dl,r)}}function x1(n,r,a){n==="focusin"?(ty(),qt=r,ci=a,qt.attachEvent("onpropertychange",ny)):n==="focusout"&&ty()}function N1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mc(ci)}function D1(n,r){if(n==="click")return mc(r)}function O1(n,r){if(n==="input"||n==="change")return mc(r)}function k1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var vn=typeof Object.is=="function"?Object.is:k1;function ml(n,r){if(vn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bs.call(r,f)||!vn(n[f],r[f]))return!1}return!0}function iy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ry(n,r){var a=iy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=iy(a)}}function sy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?sy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function ay(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ks(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ks(n.document)}return r}function Qf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var M1=Gn&&"documentMode"in document&&11>=document.documentMode,qa=null,Xf=null,pl=null,Wf=!1;function oy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wf||qa==null||qa!==ks(l)||(l=qa,"selectionStart"in l&&Qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&ml(pl,l)||(pl=l,l=Jc(Xf,"onSelect"),0<l.length&&(r=new Ma("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=qa)))}function Fs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ha={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},Zf={},ly={};Gn&&(ly=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Gs(n){if(Zf[n])return Zf[n];if(!Ha[n])return n;var r=Ha[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in ly)return Zf[n]=r[a];return n}var uy=Gs("animationend"),cy=Gs("animationiteration"),hy=Gs("animationstart"),P1=Gs("transitionrun"),V1=Gs("transitionstart"),L1=Gs("transitioncancel"),fy=Gs("transitionend"),dy=new Map,Jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jf.push("scrollEnd");function Kn(n,r){dy.set(n,r),Fn(r,[n])}var my=new WeakMap;function kn(n,r){if(typeof n=="object"&&n!==null){var a=my.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Da(r)},my.set(n,r),r)}return{value:n,source:r,stack:Da(r)}}var Mn=[],Fa=0,ed=0;function pc(){for(var n=Fa,r=ed=Fa=0;r<n;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var f=Mn[r];Mn[r++]=null;var d=Mn[r];if(Mn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&py(a,f,d)}}function gc(n,r,a,l){Mn[Fa++]=n,Mn[Fa++]=r,Mn[Fa++]=a,Mn[Fa++]=l,ed|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function td(n,r,a,l){return gc(n,r,a,l),yc(n)}function Ga(n,r){return gc(n,null,null,r),yc(n)}function py(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-Wt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function yc(n){if(50<zl)throw zl=0,om=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ka={};function U1(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,r,a,l){return new U1(n,r,a,l)}function nd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fi(n,r){var a=n.alternate;return a===null?(a=En(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function gy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function _c(n,r,a,l,f,d){var v=0;if(l=n,typeof n=="function")nd(n)&&(v=1);else if(typeof n=="string")v=zS(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=En(31,a,r,f),n.elementType=I,n.lanes=d,n;case U:return Ks(a.children,f,d,r);case B:v=8,f|=24;break;case P:return n=En(12,a,r,f|2),n.elementType=P,n.lanes=d,n;case se:return n=En(13,a,r,f),n.elementType=se,n.lanes=d,n;case he:return n=En(19,a,r,f),n.elementType=he,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:case Q:v=10;break e;case ne:v=9;break e;case ie:v=11;break e;case N:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=En(v,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Ks(n,r,a,l){return n=En(7,n,l,r),n.lanes=a,n}function id(n,r,a){return n=En(6,n,null,r),n.lanes=a,n}function rd(n,r,a){return r=En(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ya=[],$a=0,vc=null,Ec=0,Pn=[],Vn=0,Ys=null,Gi=1,Ki="";function $s(n,r){Ya[$a++]=Ec,Ya[$a++]=vc,vc=n,Ec=r}function yy(n,r,a){Pn[Vn++]=Gi,Pn[Vn++]=Ki,Pn[Vn++]=Ys,Ys=n;var l=Gi;n=Ki;var f=32-Wt(l)-1;l&=~(1<<f),a+=1;var d=32-Wt(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Gi=1<<32-Wt(r)+f|a<<f|l,Ki=d+n}else Gi=1<<d|a<<f|l,Ki=n}function sd(n){n.return!==null&&($s(n,1),yy(n,1,0))}function ad(n){for(;n===vc;)vc=Ya[--$a],Ya[$a]=null,Ec=Ya[--$a],Ya[$a]=null;for(;n===Ys;)Ys=Pn[--Vn],Pn[Vn]=null,Ki=Pn[--Vn],Pn[Vn]=null,Gi=Pn[--Vn],Pn[Vn]=null}var ln=null,dt=null,Be=!1,Qs=null,hi=!1,od=Error(s(519));function Xs(n){var r=Error(s(418,""));throw _l(kn(r,n)),od}function _y(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[It]=n,r[Et]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<ql.length;a++)De(ql[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),Ms(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Oa(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),Ps(r,l.value,l.defaultValue,l.children),Oa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Pv(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=eh),r=!0):r=!1,r||Xs(n)}function vy(n){for(ln=n.return;ln;)switch(ln.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:ln=ln.return}}function gl(n){if(n!==ln)return!1;if(!Be)return vy(n),Be=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||wm(n.type,n.memoizedProps)),a=!a),a&&dt&&Xs(n),vy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){dt=$n(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}dt=null}}else r===27?(r=dt,zr(n.type)?(n=Im,Im=null,dt=n):dt=r):dt=ln?$n(n.stateNode.nextSibling):null;return!0}function yl(){dt=ln=null,Be=!1}function Ey(){var n=Qs;return n!==null&&(dn===null?dn=n:dn.push.apply(dn,n),Qs=null),n}function _l(n){Qs===null?Qs=[n]:Qs.push(n)}var ld=re(null),Ws=null,Yi=null;function Ar(n,r,a){ae(ld,r._currentValue),r._currentValue=a}function $i(n){n._currentValue=ld.current,ue(ld)}function ud(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function cd(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),ud(d.return,a,n),l||(v=null);break e}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),ud(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function vl(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;vn(f.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(f===kt.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push($l):n=[$l])}f=f.return}n!==null&&cd(r,n,a,l),r.flags|=262144}function Tc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Zs(n){Ws=n,Yi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Zt(n){return Ty(Ws,n)}function bc(n,r){return Ws===null&&Zs(n),Ty(n,r)}function Ty(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Yi===null){if(n===null)throw Error(s(308));Yi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Yi=Yi.next=r;return a}var j1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},z1=i.unstable_scheduleCallback,B1=i.unstable_NormalPriority,Nt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new j1,data:new Map,refCount:0}}function El(n){n.refCount--,n.refCount===0&&z1(B1,function(){n.controller.abort()})}var Tl=null,fd=0,Qa=0,Xa=null;function q1(n,r){if(Tl===null){var a=Tl=[];fd=0,Qa=mm(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return fd++,r.then(by,by),r}function by(){if(--fd===0&&Tl!==null){Xa!==null&&(Xa.status="fulfilled");var n=Tl;Tl=null,Qa=0,Xa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function H1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var wy=X.S;X.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&q1(n,r),wy!==null&&wy(n,r)};var Js=re(null);function dd(){var n=Js.current;return n!==null?n:et.pooledCache}function wc(n,r){r===null?ae(Js,Js.current):ae(Js,r.pool)}function Sy(){var n=dd();return n===null?null:{parent:Nt._currentValue,pool:n}}var bl=Error(s(460)),Ay=Error(s(474)),Sc=Error(s(542)),md={then:function(){}};function Ry(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ac(){}function Iy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Ac,Ac),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,xy(n),n;default:if(typeof r.status=="string")r.then(Ac,Ac);else{if(n=et,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,xy(n),n}throw wl=r,bl}}var wl=null;function Cy(){if(wl===null)throw Error(s(459));var n=wl;return wl=null,n}function xy(n){if(n===bl||n===Sc)throw Error(s(483))}var Rr=!1;function pd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ir(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Cr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=yc(n),py(n,null,a),r}return gc(n,l,r,a),yc(n)}function Sl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Zo(n,a)}}function yd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var _d=!1;function Al(){if(_d){var n=Xa;if(n!==null)throw n}}function Rl(n,r,a,l){_d=!1;var f=n.updateQueue;Rr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,G=C.next;C.next=null,v===null?d=G:v.next=G,v=C;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=G:T.next=G,W.lastBaseUpdate=C))}if(d!==null){var ee=f.baseState;v=0,W=G=C=null,T=d;do{var K=T.lane&-536870913,Y=K!==T.lane;if(Y?(Ue&K)===K:(l&K)===K){K!==0&&K===Qa&&(_d=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=n,_e=T;K=r;var Xe=a;switch(_e.tag){case 1:if(be=_e.payload,typeof be=="function"){ee=be.call(Xe,ee,K);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=_e.payload,K=typeof be=="function"?be.call(Xe,ee,K):be,K==null)break e;ee=E({},ee,K);break e;case 2:Rr=!0}}K=T.callback,K!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(G=W=Y,C=ee):W=W.next=Y,v|=K;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(C=ee),f.baseState=C,f.firstBaseUpdate=G,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Vr|=v,n.lanes=v,n.memoizedState=ee}}function Ny(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Dy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Ny(a[n],r)}var Wa=re(null),Rc=re(0);function Oy(n,r){n=tr,ae(Rc,n),ae(Wa,r),tr=n|r.baseLanes}function vd(){ae(Rc,tr),ae(Wa,Wa.current)}function Ed(){tr=Rc.current,ue(Wa),ue(Rc)}var xr=0,Ie=null,$e=null,bt=null,Ic=!1,Za=!1,ea=!1,Cc=0,Il=0,Ja=null,F1=0;function gt(){throw Error(s(321))}function Td(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!vn(n[a],r[a]))return!1;return!0}function bd(n,r,a,l,f,d){return xr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=n===null||n.memoizedState===null?p_:g_,ea=!1,d=a(l,f),ea=!1,Za&&(d=My(r,a,l,f)),ky(n),d}function ky(n){X.H=Mc;var r=$e!==null&&$e.next!==null;if(xr=0,bt=$e=Ie=null,Ic=!1,Il=0,Ja=null,r)throw Error(s(300));n===null||Vt||(n=n.dependencies,n!==null&&Tc(n)&&(Vt=!0))}function My(n,r,a,l){Ie=n;var f=0;do{if(Za&&(Ja=null),Il=0,Za=!1,25<=f)throw Error(s(301));if(f+=1,bt=$e=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=W1,d=r(a,l)}while(Za);return d}function G1(){var n=X.H,r=n.useState()[0];return r=typeof r.then=="function"?Cl(r):r,n=n.useState()[0],($e!==null?$e.memoizedState:null)!==n&&(Ie.flags|=1024),r}function wd(){var n=Cc!==0;return Cc=0,n}function Sd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Ad(n){if(Ic){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ic=!1}xr=0,bt=$e=Ie=null,Za=!1,Il=Cc=0,Ja=null}function hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ie.memoizedState=bt=n:bt=bt.next=n,bt}function wt(){if($e===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=$e.next;var r=bt===null?Ie.memoizedState:bt.next;if(r!==null)bt=r,$e=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));$e=n,n={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},bt===null?Ie.memoizedState=bt=n:bt=bt.next=n}return bt}function Rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(n){var r=Il;return Il+=1,Ja===null&&(Ja=[]),n=Iy(Ja,n,r),r=Ie,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?p_:g_),n}function xc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Cl(n);if(n.$$typeof===Q)return Zt(n)}throw Error(s(438,String(n)))}function Id(n){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Rd(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=O;return r.index++,a}function Qi(n,r){return typeof r=="function"?r(n):r}function Nc(n){var r=wt();return Cd(r,$e,n)}function Cd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var T=v=null,C=null,G=r,W=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(Ue&ee)===ee:(xr&ee)===ee){var K=G.revertLane;if(K===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===Qa&&(W=!0);else if((xr&K)===K){G=G.next,K===Qa&&(W=!0);continue}else ee={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(T=C=ee,v=d):C=C.next=ee,Ie.lanes|=K,Vr|=K;ee=G.action,ea&&a(d,ee),d=G.hasEagerState?G.eagerState:a(d,ee)}else K={lane:ee,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(T=C=K,v=d):C=C.next=K,Ie.lanes|=ee,Vr|=ee;G=G.next}while(G!==null&&G!==r);if(C===null?v=d:C.next=T,!vn(d,n.memoizedState)&&(Vt=!0,W&&(a=Xa,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function xd(n){var r=wt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);vn(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Py(n,r,a){var l=Ie,f=wt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!vn(($e||f).memoizedState,a);v&&(f.memoizedState=a,Vt=!0),f=f.queue;var T=Uy.bind(null,l,f,n);if(xl(2048,8,T,[n]),f.getSnapshot!==r||v||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,eo(9,Dc(),Ly.bind(null,l,f,a,r),null),et===null)throw Error(s(349));d||(xr&124)!==0||Vy(l,r,a)}return a}function Vy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Rd(),Ie.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Ly(n,r,a,l){r.value=a,r.getSnapshot=l,jy(r)&&zy(n)}function Uy(n,r,a){return a(function(){jy(r)&&zy(n)})}function jy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!vn(n,a)}catch{return!0}}function zy(n){var r=Ga(n,2);r!==null&&An(r,n,2)}function Nd(n){var r=hn();if(typeof n=="function"){var a=n;if(n=a(),ea){yn(!0);try{a()}finally{yn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:n},r}function By(n,r,a,l){return n.baseState=a,Cd(n,$e,typeof l=="function"?l:Qi)}function K1(n,r,a,l,f){if(kc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,qy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function qy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=X.T,v={};X.T=v;try{var T=a(f,l),C=X.S;C!==null&&C(v,T),Hy(n,r,T)}catch(G){Dd(n,r,G)}finally{X.T=d}}else try{d=a(f,l),Hy(n,r,d)}catch(G){Dd(n,r,G)}}function Hy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fy(n,r,l)},function(l){return Dd(n,r,l)}):Fy(n,r,a)}function Fy(n,r,a){r.status="fulfilled",r.value=a,Gy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,qy(n,a)))}function Dd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Gy(r),r=r.next;while(r!==l)}n.action=null}function Gy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ky(n,r){return r}function Yy(n,r){if(Be){var a=et.formState;if(a!==null){e:{var l=Ie;if(Be){if(dt){t:{for(var f=dt,d=hi;f.nodeType!==8;){if(!d){f=null;break t}if(f=$n(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){dt=$n(f.nextSibling),l=f.data==="F!";break e}}Xs(l)}l=!1}l&&(r=a[0])}}return a=hn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ky,lastRenderedState:r},a.queue=l,a=f_.bind(null,Ie,l),l.dispatch=a,l=Nd(!1),d=Vd.bind(null,Ie,!1,l.queue),l=hn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=K1.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function $y(n){var r=wt();return Qy(r,$e,n)}function Qy(n,r,a){if(r=Cd(n,r,Ky)[0],n=Nc(Qi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Cl(r)}catch(v){throw v===bl?Sc:v}else l=r;r=wt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,eo(9,Dc(),Y1.bind(null,f,a),null)),[l,d,n]}function Y1(n,r){n.action=r}function Xy(n){var r=wt(),a=$e;if(a!==null)return Qy(r,a,n);wt(),r=r.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function eo(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Rd(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Dc(){return{destroy:void 0,resource:void 0}}function Wy(){return wt().memoizedState}function Oc(n,r,a,l){var f=hn();l=l===void 0?null:l,Ie.flags|=n,f.memoizedState=eo(1|r,Dc(),a,l)}function xl(n,r,a,l){var f=wt();l=l===void 0?null:l;var d=f.memoizedState.inst;$e!==null&&l!==null&&Td(l,$e.memoizedState.deps)?f.memoizedState=eo(r,d,a,l):(Ie.flags|=n,f.memoizedState=eo(1|r,d,a,l))}function Zy(n,r){Oc(8390656,8,n,r)}function Jy(n,r){xl(2048,8,n,r)}function e_(n,r){return xl(4,2,n,r)}function t_(n,r){return xl(4,4,n,r)}function n_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function i_(n,r,a){a=a!=null?a.concat([n]):null,xl(4,4,n_.bind(null,r,n),a)}function Od(){}function r_(n,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Td(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function s_(n,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Td(r,l[1]))return l[0];if(l=n(),ea){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[l,r],l}function kd(n,r,a){return a===void 0||(xr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=lv(),Ie.lanes|=n,Vr|=n,a)}function a_(n,r,a,l){return vn(a,r)?a:Wa.current!==null?(n=kd(n,a,l),vn(n,r)||(Vt=!0),n):(xr&42)===0?(Vt=!0,n.memoizedState=a):(n=lv(),Ie.lanes|=n,Vr|=n,r)}function o_(n,r,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var v=X.T,T={};X.T=T,Vd(n,!1,r,a);try{var C=f(),G=X.S;if(G!==null&&G(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=H1(C,l);Nl(n,r,W,Sn(n))}else Nl(n,r,l,Sn(n))}catch(ee){Nl(n,r,{then:function(){},status:"rejected",reason:ee},Sn())}finally{le.p=d,X.T=v}}function $1(){}function Md(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=l_(n).queue;o_(n,f,r,me,a===null?$1:function(){return u_(n),a(l)})}function l_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function u_(n){var r=l_(n).next.queue;Nl(n,r,{},Sn())}function Pd(){return Zt($l)}function c_(){return wt().memoizedState}function h_(){return wt().memoizedState}function Q1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Sn();n=Ir(a);var l=Cr(r,n,a);l!==null&&(An(l,r,a),Sl(l,r,a)),r={cache:hd()},n.payload=r;return}r=r.return}}function X1(n,r,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},kc(n)?d_(r,a):(a=td(n,r,a,l),a!==null&&(An(a,n,l),m_(a,r,l)))}function f_(n,r,a){var l=Sn();Nl(n,r,a,l)}function Nl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(n))d_(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,vn(T,v))return gc(n,r,f,0),et===null&&pc(),!1}catch{}finally{}if(a=td(n,r,f,l),a!==null)return An(a,n,l),m_(a,r,l),!0}return!1}function Vd(n,r,a,l){if(l={lane:2,revertLane:mm(),action:l,hasEagerState:!1,eagerState:null,next:null},kc(n)){if(r)throw Error(s(479))}else r=td(n,a,l,2),r!==null&&An(r,n,2)}function kc(n){var r=n.alternate;return n===Ie||r!==null&&r===Ie}function d_(n,r){Za=Ic=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function m_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Zo(n,a)}}var Mc={readContext:Zt,use:xc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},p_={readContext:Zt,use:xc,useCallback:function(n,r){return hn().memoizedState=[n,r===void 0?null:r],n},useContext:Zt,useEffect:Zy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Oc(4194308,4,n_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Oc(4194308,4,n,r)},useInsertionEffect:function(n,r){Oc(4,2,n,r)},useMemo:function(n,r){var a=hn();r=r===void 0?null:r;var l=n();if(ea){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=hn();if(a!==void 0){var f=a(r);if(ea){yn(!0);try{a(r)}finally{yn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=X1.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var r=hn();return n={current:n},r.memoizedState=n},useState:function(n){n=Nd(n);var r=n.queue,a=f_.bind(null,Ie,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Od,useDeferredValue:function(n,r){var a=hn();return kd(a,n,r)},useTransition:function(){var n=Nd(!1);return n=o_.bind(null,Ie,n.queue,!0,!1),hn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ie,f=hn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(Ue&124)!==0||Vy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Zy(Uy.bind(null,l,d,n),[n]),l.flags|=2048,eo(9,Dc(),Ly.bind(null,l,d,a,r),null),a},useId:function(){var n=hn(),r=et.identifierPrefix;if(Be){var a=Ki,l=Gi;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Cc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=F1++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Pd,useFormState:Yy,useActionState:Yy,useOptimistic:function(n){var r=hn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Vd.bind(null,Ie,!0,a),a.dispatch=r,[n,r]},useMemoCache:Id,useCacheRefresh:function(){return hn().memoizedState=Q1.bind(null,Ie)}},g_={readContext:Zt,use:xc,useCallback:r_,useContext:Zt,useEffect:Jy,useImperativeHandle:i_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:Nc,useRef:Wy,useState:function(){return Nc(Qi)},useDebugValue:Od,useDeferredValue:function(n,r){var a=wt();return a_(a,$e.memoizedState,n,r)},useTransition:function(){var n=Nc(Qi)[0],r=wt().memoizedState;return[typeof n=="boolean"?n:Cl(n),r]},useSyncExternalStore:Py,useId:c_,useHostTransitionStatus:Pd,useFormState:$y,useActionState:$y,useOptimistic:function(n,r){var a=wt();return By(a,$e,n,r)},useMemoCache:Id,useCacheRefresh:h_},W1={readContext:Zt,use:xc,useCallback:r_,useContext:Zt,useEffect:Jy,useImperativeHandle:i_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:xd,useRef:Wy,useState:function(){return xd(Qi)},useDebugValue:Od,useDeferredValue:function(n,r){var a=wt();return $e===null?kd(a,n,r):a_(a,$e.memoizedState,n,r)},useTransition:function(){var n=xd(Qi)[0],r=wt().memoizedState;return[typeof n=="boolean"?n:Cl(n),r]},useSyncExternalStore:Py,useId:c_,useHostTransitionStatus:Pd,useFormState:Xy,useActionState:Xy,useOptimistic:function(n,r){var a=wt();return $e!==null?By(a,$e,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Id,useCacheRefresh:h_},to=null,Dl=0;function Pc(n){var r=Dl;return Dl+=1,to===null&&(to=[]),Iy(to,n,r)}function Ol(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Vc(n,r){throw r.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function y_(n){var r=n._init;return r(n._payload)}function __(n){function r(z,k){if(n){var F=z.deletions;F===null?(z.deletions=[k],z.flags|=16):F.push(k)}}function a(z,k){if(!n)return null;for(;k!==null;)r(z,k),k=k.sibling;return null}function l(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=Fi(z,k),z.index=0,z.sibling=null,z}function d(z,k,F){return z.index=F,n?(F=z.alternate,F!==null?(F=F.index,F<k?(z.flags|=67108866,k):F):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function v(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function T(z,k,F,Z){return k===null||k.tag!==6?(k=id(F,z.mode,Z),k.return=z,k):(k=f(k,F),k.return=z,k)}function C(z,k,F,Z){var de=F.type;return de===U?W(z,k,F.props.children,Z,F.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&y_(de)===k.type)?(k=f(k,F.props),Ol(k,F),k.return=z,k):(k=_c(F.type,F.key,F.props,null,z.mode,Z),Ol(k,F),k.return=z,k)}function G(z,k,F,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=rd(F,z.mode,Z),k.return=z,k):(k=f(k,F.children||[]),k.return=z,k)}function W(z,k,F,Z,de){return k===null||k.tag!==7?(k=Ks(F,z.mode,Z,de),k.return=z,k):(k=f(k,F),k.return=z,k)}function ee(z,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=id(""+k,z.mode,F),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return F=_c(k.type,k.key,k.props,null,z.mode,F),Ol(F,k),F.return=z,F;case M:return k=rd(k,z.mode,F),k.return=z,k;case R:var Z=k._init;return k=Z(k._payload),ee(z,k,F)}if(We(k)||j(k))return k=Ks(k,z.mode,F,null),k.return=z,k;if(typeof k.then=="function")return ee(z,Pc(k),F);if(k.$$typeof===Q)return ee(z,bc(z,k),F);Vc(z,k)}return null}function K(z,k,F,Z){var de=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return de!==null?null:T(z,k,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return F.key===de?C(z,k,F,Z):null;case M:return F.key===de?G(z,k,F,Z):null;case R:return de=F._init,F=de(F._payload),K(z,k,F,Z)}if(We(F)||j(F))return de!==null?null:W(z,k,F,Z,null);if(typeof F.then=="function")return K(z,k,Pc(F),Z);if(F.$$typeof===Q)return K(z,k,bc(z,F),Z);Vc(z,F)}return null}function Y(z,k,F,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(F)||null,T(k,z,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return z=z.get(Z.key===null?F:Z.key)||null,C(k,z,Z,de);case M:return z=z.get(Z.key===null?F:Z.key)||null,G(k,z,Z,de);case R:var xe=Z._init;return Z=xe(Z._payload),Y(z,k,F,Z,de)}if(We(Z)||j(Z))return z=z.get(F)||null,W(k,z,Z,de,null);if(typeof Z.then=="function")return Y(z,k,F,Pc(Z),de);if(Z.$$typeof===Q)return Y(z,k,F,bc(k,Z),de);Vc(k,Z)}return null}function be(z,k,F,Z){for(var de=null,xe=null,pe=k,ve=k=0,Ut=null;pe!==null&&ve<F.length;ve++){pe.index>ve?(Ut=pe,pe=null):Ut=pe.sibling;var ze=K(z,pe,F[ve],Z);if(ze===null){pe===null&&(pe=Ut);break}n&&pe&&ze.alternate===null&&r(z,pe),k=d(ze,k,ve),xe===null?de=ze:xe.sibling=ze,xe=ze,pe=Ut}if(ve===F.length)return a(z,pe),Be&&$s(z,ve),de;if(pe===null){for(;ve<F.length;ve++)pe=ee(z,F[ve],Z),pe!==null&&(k=d(pe,k,ve),xe===null?de=pe:xe.sibling=pe,xe=pe);return Be&&$s(z,ve),de}for(pe=l(pe);ve<F.length;ve++)Ut=Y(pe,z,ve,F[ve],Z),Ut!==null&&(n&&Ut.alternate!==null&&pe.delete(Ut.key===null?ve:Ut.key),k=d(Ut,k,ve),xe===null?de=Ut:xe.sibling=Ut,xe=Ut);return n&&pe.forEach(function(Gr){return r(z,Gr)}),Be&&$s(z,ve),de}function _e(z,k,F,Z){if(F==null)throw Error(s(151));for(var de=null,xe=null,pe=k,ve=k=0,Ut=null,ze=F.next();pe!==null&&!ze.done;ve++,ze=F.next()){pe.index>ve?(Ut=pe,pe=null):Ut=pe.sibling;var Gr=K(z,pe,ze.value,Z);if(Gr===null){pe===null&&(pe=Ut);break}n&&pe&&Gr.alternate===null&&r(z,pe),k=d(Gr,k,ve),xe===null?de=Gr:xe.sibling=Gr,xe=Gr,pe=Ut}if(ze.done)return a(z,pe),Be&&$s(z,ve),de;if(pe===null){for(;!ze.done;ve++,ze=F.next())ze=ee(z,ze.value,Z),ze!==null&&(k=d(ze,k,ve),xe===null?de=ze:xe.sibling=ze,xe=ze);return Be&&$s(z,ve),de}for(pe=l(pe);!ze.done;ve++,ze=F.next())ze=Y(pe,z,ve,ze.value,Z),ze!==null&&(n&&ze.alternate!==null&&pe.delete(ze.key===null?ve:ze.key),k=d(ze,k,ve),xe===null?de=ze:xe.sibling=ze,xe=ze);return n&&pe.forEach(function(ZS){return r(z,ZS)}),Be&&$s(z,ve),de}function Xe(z,k,F,Z){if(typeof F=="object"&&F!==null&&F.type===U&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case A:e:{for(var de=F.key;k!==null;){if(k.key===de){if(de=F.type,de===U){if(k.tag===7){a(z,k.sibling),Z=f(k,F.props.children),Z.return=z,z=Z;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&y_(de)===k.type){a(z,k.sibling),Z=f(k,F.props),Ol(Z,F),Z.return=z,z=Z;break e}a(z,k);break}else r(z,k);k=k.sibling}F.type===U?(Z=Ks(F.props.children,z.mode,Z,F.key),Z.return=z,z=Z):(Z=_c(F.type,F.key,F.props,null,z.mode,Z),Ol(Z,F),Z.return=z,z=Z)}return v(z);case M:e:{for(de=F.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){a(z,k.sibling),Z=f(k,F.children||[]),Z.return=z,z=Z;break e}else{a(z,k);break}else r(z,k);k=k.sibling}Z=rd(F,z.mode,Z),Z.return=z,z=Z}return v(z);case R:return de=F._init,F=de(F._payload),Xe(z,k,F,Z)}if(We(F))return be(z,k,F,Z);if(j(F)){if(de=j(F),typeof de!="function")throw Error(s(150));return F=de.call(F),_e(z,k,F,Z)}if(typeof F.then=="function")return Xe(z,k,Pc(F),Z);if(F.$$typeof===Q)return Xe(z,k,bc(z,F),Z);Vc(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(a(z,k.sibling),Z=f(k,F),Z.return=z,z=Z):(a(z,k),Z=id(F,z.mode,Z),Z.return=z,z=Z),v(z)):a(z,k)}return function(z,k,F,Z){try{Dl=0;var de=Xe(z,k,F,Z);return to=null,de}catch(pe){if(pe===bl||pe===Sc)throw pe;var xe=En(29,pe,null,z.mode);return xe.lanes=Z,xe.return=z,xe}finally{}}}var no=__(!0),v_=__(!1),Ln=re(null),fi=null;function Nr(n){var r=n.alternate;ae(Dt,Dt.current&1),ae(Ln,n),fi===null&&(r===null||Wa.current!==null||r.memoizedState!==null)&&(fi=n)}function E_(n){if(n.tag===22){if(ae(Dt,Dt.current),ae(Ln,n),fi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(fi=n)}}else Dr()}function Dr(){ae(Dt,Dt.current),ae(Ln,Ln.current)}function Xi(n){ue(Ln),fi===n&&(fi=null),ue(Dt)}var Dt=re(0);function Lc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Rm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ld(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ud={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Sn(),f=Ir(l);f.payload=r,a!=null&&(f.callback=a),r=Cr(n,f,l),r!==null&&(An(r,n,l),Sl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Sn(),f=Ir(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Cr(n,f,l),r!==null&&(An(r,n,l),Sl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Sn(),l=Ir(a);l.tag=2,r!=null&&(l.callback=r),r=Cr(n,l,a),r!==null&&(An(r,n,a),Sl(r,n,a))}};function T_(n,r,a,l,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!ml(a,l)||!ml(f,d):!0}function b_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Ud.enqueueReplaceState(r,r.state,null)}function ta(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Uc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function w_(n){Uc(n)}function S_(n){console.error(n)}function A_(n){Uc(n)}function jc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function R_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function jd(n,r,a){return a=Ir(a),a.tag=3,a.payload={element:null},a.callback=function(){jc(n,r)},a}function I_(n){return n=Ir(n),n.tag=3,n}function C_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){R_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){R_(r,a,l),typeof f!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Z1(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&vl(r,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return fi===null?um():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===md?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),hm(n,l,f)),!1;case 22:return a.flags|=65536,l===md?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),hm(n,l,f)),!1}throw Error(s(435,a.tag))}return hm(n,l,f),um(),!1}if(Be)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==od&&(n=Error(s(422),{cause:l}),_l(kn(n,a)))):(l!==od&&(r=Error(s(423),{cause:l}),_l(kn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=kn(l,a),f=jd(n.stateNode,l,f),yd(n,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),jl===null?jl=[d]:jl.push(d),mt!==4&&(mt=2),r===null)return!0;l=kn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=jd(a.stateNode,l,n),yd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Lr===null||!Lr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=I_(f),C_(f,n,a,l),yd(a,f),!1}a=a.return}while(a!==null);return!1}var x_=Error(s(461)),Vt=!1;function Ht(n,r,a,l){r.child=n===null?v_(r,null,a,l):no(r,n.child,a,l)}function N_(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Zs(r),l=bd(n,r,a,v,d,f),T=wd(),n!==null&&!Vt?(Sd(n,r,f),Wi(n,r,f)):(Be&&T&&sd(r),r.flags|=1,Ht(n,r,l,f),r.child)}function D_(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!nd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,O_(n,r,d,l,f)):(n=_c(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Yd(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(v,l)&&n.ref===r.ref)return Wi(n,r,f)}return r.flags|=1,n=Fi(d,l),n.ref=r.ref,n.return=r,r.child=n}function O_(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(ml(d,l)&&n.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,Yd(n,f))(n.flags&131072)!==0&&(Vt=!0);else return r.lanes=n.lanes,Wi(n,r,f)}return zd(n,r,a,l,f)}function k_(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return M_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&wc(r,d!==null?d.cachePool:null),d!==null?Oy(r,d):vd(),E_(r);else return r.lanes=r.childLanes=536870912,M_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(wc(r,d.cachePool),Oy(r,d),Dr(),r.memoizedState=null):(n!==null&&wc(r,null),vd(),Dr());return Ht(n,r,f,a),r.child}function M_(n,r,a,l){var f=dd();return f=f===null?null:{parent:Nt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&wc(r,null),vd(),E_(r),n!==null&&vl(n,r,l,!0),null}function zc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function zd(n,r,a,l,f){return Zs(r),a=bd(n,r,a,l,void 0,f),l=wd(),n!==null&&!Vt?(Sd(n,r,f),Wi(n,r,f)):(Be&&l&&sd(r),r.flags|=1,Ht(n,r,a,f),r.child)}function P_(n,r,a,l,f,d){return Zs(r),r.updateQueue=null,a=My(r,l,a,f),ky(n),l=wd(),n!==null&&!Vt?(Sd(n,r,d),Wi(n,r,d)):(Be&&l&&sd(r),r.flags|=1,Ht(n,r,a,d),r.child)}function V_(n,r,a,l,f){if(Zs(r),r.stateNode===null){var d=Ka,v=a.contextType;typeof v=="object"&&v!==null&&(d=Zt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ud,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},pd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Zt(v):Ka,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ld(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ud.enqueueReplaceState(d,d.state,null),Rl(r,l,d,f),Al(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,C=ta(a,T);d.props=C;var G=d.context,W=a.contextType;v=Ka,typeof W=="object"&&W!==null&&(v=Zt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||G!==v)&&b_(r,d,l,v),Rr=!1;var K=r.memoizedState;d.state=K,Rl(r,l,d,f),Al(),G=r.memoizedState,T||K!==G||Rr?(typeof ee=="function"&&(Ld(r,a,ee,l),G=r.memoizedState),(C=Rr||T_(r,a,C,l,K,G,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,gd(n,r),v=r.memoizedProps,W=ta(a,v),d.props=W,ee=r.pendingProps,K=d.context,G=a.contextType,C=Ka,typeof G=="object"&&G!==null&&(C=Zt(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||K!==C)&&b_(r,d,l,C),Rr=!1,K=r.memoizedState,d.state=K,Rl(r,l,d,f),Al();var Y=r.memoizedState;v!==ee||K!==Y||Rr||n!==null&&n.dependencies!==null&&Tc(n.dependencies)?(typeof T=="function"&&(Ld(r,a,T,l),Y=r.memoizedState),(W=Rr||T_(r,a,W,l,K,Y,C)||n!==null&&n.dependencies!==null&&Tc(n.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,zc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=no(r,n.child,null,f),r.child=no(r,null,a,f)):Ht(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Wi(n,r,f),n}function L_(n,r,a,l){return yl(),r.flags|=256,Ht(n,r,a,l),r.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qd(n){return{baseLanes:n,cachePool:Sy()}}function Hd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Un),n}function U_(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(Dt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Be){if(f?Nr(r):Dr(),Be){var T=dt,C;if(C=T){e:{for(C=T,T=hi;C.nodeType!==8;){if(!T){T=null;break e}if(C=$n(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ys!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},C=En(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,ln=r,dt=null,C=!0):C=!1}C||Xs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Rm(T)?r.lanes=32:r.lanes=536870912,null;Xi(r)}return T=l.children,l=l.fallback,f?(Dr(),f=r.mode,T=Bc({mode:"hidden",children:T},f),l=Ks(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=qd(a),f.childLanes=Hd(n,v,a),r.memoizedState=Bd,l):(Nr(r),Fd(r,T))}if(C=n.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(Nr(r),r.flags&=-257,r=Gd(n,r,a)):r.memoizedState!==null?(Dr(),r.child=n.child,r.flags|=128,r=null):(Dr(),f=l.fallback,T=r.mode,l=Bc({mode:"visible",children:l.children},T),f=Ks(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,no(r,n.child,null,a),l=r.child,l.memoizedState=qd(a),l.childLanes=Hd(n,v,a),r.memoizedState=Bd,r=f);else if(Nr(r),Rm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(s(419)),l.stack="",l.digest=v,_l({value:l,source:null,stack:null}),r=Gd(n,r,a)}else if(Vt||vl(n,r,a,!1),v=(a&n.childLanes)!==0,Vt||v){if(v=et,v!==null&&(l=a&-a,l=(l&42)!==0?1:_r(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ga(n,l),An(v,n,l),x_;T.data==="$?"||um(),r=Gd(n,r,a)}else T.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=C.treeContext,dt=$n(T.nextSibling),ln=r,Be=!0,Qs=null,hi=!1,n!==null&&(Pn[Vn++]=Gi,Pn[Vn++]=Ki,Pn[Vn++]=Ys,Gi=n.id,Ki=n.overflow,Ys=r),r=Fd(r,l.children),r.flags|=4096);return r}return f?(Dr(),f=l.fallback,T=r.mode,C=n.child,G=C.sibling,l=Fi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,G!==null?f=Fi(G,f):(f=Ks(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=n.child.memoizedState,T===null?T=qd(a):(C=T.cachePool,C!==null?(G=Nt._currentValue,C=C.parent!==G?{parent:G,pool:G}:C):C=Sy(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=Hd(n,v,a),r.memoizedState=Bd,l):(Nr(r),a=n.child,n=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function Fd(n,r){return r=Bc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Bc(n,r){return n=En(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Gd(n,r,a){return no(r,n.child,null,a),n=Fd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function j_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),ud(n.return,r,a)}function Kd(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function z_(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Ht(n,r,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&j_(n,a,r);else if(n.tag===19)j_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ae(Dt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Lc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Kd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Lc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Kd(r,!0,a,null,d);break;case"together":Kd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Wi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Vr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(vl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Fi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Fi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Yd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Tc(n)))}function J1(n,r,a){switch(r.tag){case 3:Je(r,r.stateNode.containerInfo),Ar(r,Nt,n.memoizedState.cache),yl();break;case 27:case 5:yr(r);break;case 4:Je(r,r.stateNode.containerInfo);break;case 10:Ar(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Nr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?U_(n,r,a):(Nr(r),n=Wi(n,r,a),n!==null?n.sibling:null);Nr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(vl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return z_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(Dt,Dt.current),l)break;return null;case 22:case 23:return r.lanes=0,k_(n,r,a);case 24:Ar(r,Nt,n.memoizedState.cache)}return Wi(n,r,a)}function B_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Yd(n,a)&&(r.flags&128)===0)return Vt=!1,J1(n,r,a);Vt=(n.flags&131072)!==0}else Vt=!1,Be&&(r.flags&1048576)!==0&&yy(r,Ec,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")nd(l)?(n=ta(l,n),r.tag=1,r=V_(null,r,l,n,a)):(r.tag=0,r=zd(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===ie){r.tag=11,r=N_(null,r,l,n,a);break e}else if(f===N){r.tag=14,r=D_(null,r,l,n,a);break e}}throw r=ht(l)||l,Error(s(306,r,""))}}return r;case 0:return zd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ta(l,r.pendingProps),V_(n,r,l,f,a);case 3:e:{if(Je(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,gd(n,r),Rl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Ar(r,Nt,l),l!==d.cache&&cd(r,[Nt],a,!0),Al(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=L_(n,r,l,a);break e}else if(l!==f){f=kn(Error(s(424)),r),_l(f),r=L_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(dt=$n(n.firstChild),ln=r,Be=!0,Qs=null,hi=!0,a=v_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yl(),l===f){r=Wi(n,r,a);break e}Ht(n,r,l,a)}r=r.child}return r;case 26:return zc(n,r),n===null?(a=Gv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,n=r.pendingProps,l=th(we.current).createElement(a),l[It]=r,l[Et]=n,Gt(l,a,n),pt(l),r.stateNode=l):r.memoizedState=Gv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return yr(r),n===null&&Be&&(l=r.stateNode=qv(r.type,r.pendingProps,we.current),ln=r,hi=!0,f=dt,zr(r.type)?(Im=f,dt=$n(l.firstChild)):dt=f),Ht(n,r,r.pendingProps.children,a),zc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Be&&((f=l=dt)&&(l=IS(l,r.type,r.pendingProps,hi),l!==null?(r.stateNode=l,ln=r,dt=$n(l.firstChild),hi=!1,f=!0):f=!1),f||Xs(r)),yr(r),f=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,wm(f,d)?l=null:v!==null&&wm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=bd(n,r,G1,null,null,a),$l._currentValue=f),zc(n,r),Ht(n,r,l,a),r.child;case 6:return n===null&&Be&&((n=a=dt)&&(a=CS(a,r.pendingProps,hi),a!==null?(r.stateNode=a,ln=r,dt=null,n=!0):n=!1),n||Xs(r)),null;case 13:return U_(n,r,a);case 4:return Je(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=no(r,null,l,a):Ht(n,r,l,a),r.child;case 11:return N_(n,r,r.type,r.pendingProps,a);case 7:return Ht(n,r,r.pendingProps,a),r.child;case 8:return Ht(n,r,r.pendingProps.children,a),r.child;case 12:return Ht(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ar(r,r.type,l.value),Ht(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Zs(r),f=Zt(f),l=l(f),r.flags|=1,Ht(n,r,l,a),r.child;case 14:return D_(n,r,r.type,r.pendingProps,a);case 15:return O_(n,r,r.type,r.pendingProps,a);case 19:return z_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Bc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Fi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return k_(n,r,a);case 24:return Zs(r),l=Zt(Nt),n===null?(f=dd(),f===null&&(f=et,d=hd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},pd(r),Ar(r,Nt,f)):((n.lanes&a)!==0&&(gd(n,r),Rl(r,null,null,a),Al()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ar(r,Nt,l)):(l=d.cache,Ar(r,Nt,l),l!==f.cache&&cd(r,[Nt],a,!0))),Ht(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zi(n){n.flags|=4}function q_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Xv(r)){if(r=Ln.current,r!==null&&((Ue&4194048)===Ue?fi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==fi))throw wl=md,Ay;n.flags|=8192}}function qc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Xo():536870912,n.lanes|=r,ao|=r)}function kl(n,r){if(!Be)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ot(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function eS(n,r,a){var l=r.pendingProps;switch(ad(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),$i(Nt),Jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(gl(r)?Zi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ey())),ot(r),null;case 26:return a=r.memoizedState,n===null?(Zi(r),a!==null?(ot(r),q_(r,a)):(ot(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Zi(r),ot(r),q_(r,a)):(ot(r),r.flags&=-16777217):(n.memoizedProps!==l&&Zi(r),ot(r),r.flags&=-16777217),null;case 27:Di(r),a=we.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}n=ye.current,gl(r)?_y(r):(n=qv(f,l,a),r.stateNode=n,Zi(r))}return ot(r),null;case 5:if(Di(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(n=ye.current,gl(r))_y(r);else{switch(f=th(we.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[It]=r,n[Et]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Gt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Zi(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Zi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=we.current,gl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=ln,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[It]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Pv(n.nodeValue,a)),n||Xs(r)}else n=th(n).createTextNode(l),n[It]=r,r.stateNode=n}return ot(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=gl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[It]=r}else yl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),f=!1}else f=Ey(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Xi(r),r):(Xi(r),null)}if(Xi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),qc(r,r.updateQueue),ot(r),null;case 4:return Jn(),n===null&&_m(r.stateNode.containerInfo),ot(r),null;case 10:return $i(r.type),ot(r),null;case 19:if(ue(Dt),f=r.memoizedState,f===null)return ot(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)kl(f,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Lc(n),d!==null){for(r.flags|=128,kl(f,!1),n=d.updateQueue,r.updateQueue=n,qc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)gy(a,n),a=a.sibling;return ae(Dt,Dt.current&1|2),r.child}n=n.sibling}f.tail!==null&&In()>Gc&&(r.flags|=128,l=!0,kl(f,!1),r.lanes=4194304)}else{if(!l)if(n=Lc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,qc(r,n),kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Be)return ot(r),null}else 2*In()-f.renderingStartTime>Gc&&a!==536870912&&(r.flags|=128,l=!0,kl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=In(),r.sibling=null,n=Dt.current,ae(Dt,l?n&1|2:n&1),r):(ot(r),null);case 22:case 23:return Xi(r),Ed(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&qc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ue(Js),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),$i(Nt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function tS(n,r){switch(ad(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return $i(Nt),Jn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Di(r),null;case 13:if(Xi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));yl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ue(Dt),null;case 4:return Jn(),null;case 10:return $i(r.type),null;case 22:case 23:return Xi(r),Ed(),n!==null&&ue(Js),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return $i(Nt),null;case 25:return null;default:return null}}function H_(n,r){switch(ad(r),r.tag){case 3:$i(Nt),Jn();break;case 26:case 27:case 5:Di(r);break;case 4:Jn();break;case 13:Xi(r);break;case 19:ue(Dt);break;case 10:$i(r.type);break;case 22:case 23:Xi(r),Ed(),n!==null&&ue(Js);break;case 24:$i(Nt)}}function Ml(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){Ze(r,r.return,T)}}function Or(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=r;var C=a,G=T;try{G()}catch(W){Ze(f,C,W)}}}l=l.next}while(l!==d)}}catch(W){Ze(r,r.return,W)}}function F_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Dy(r,a)}catch(l){Ze(n,n.return,l)}}}function G_(n,r,a){a.props=ta(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(n,r,l)}}function Pl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Ze(n,r,f)}}function di(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(n,r,f)}else a.current=null}function K_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(n,n.return,f)}}function $d(n,r,a){try{var l=n.stateNode;bS(l,n.type,a,r),l[Et]=r}catch(f){Ze(n,n.return,f)}}function Y_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&zr(n.type)||n.tag===4}function Qd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Y_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&zr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=eh));else if(l!==4&&(l===27&&zr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Xd(n,r,a),n=n.sibling;n!==null;)Xd(n,r,a),n=n.sibling}function Hc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&zr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Hc(n,r,a),n=n.sibling;n!==null;)Hc(n,r,a),n=n.sibling}function $_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Gt(r,l,a),r[It]=n,r[Et]=a}catch(d){Ze(n,n.return,d)}}var Ji=!1,yt=!1,Wd=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function nS(n,r){if(n=n.containerInfo,Tm=oh,n=ay(n),Qf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,C=-1,G=0,W=0,ee=n,K=null;t:for(;;){for(var Y;ee!==a||f!==0&&ee.nodeType!==3||(T=v+f),ee!==d||l!==0&&ee.nodeType!==3||(C=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)K=ee,ee=Y;for(;;){if(ee===n)break t;if(K===a&&++G===f&&(T=v),K===d&&++W===l&&(C=v),(Y=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=Y}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(bm={focusedElem:n,selectionRange:a},oh=!1,Lt=r;Lt!==null;)if(r=Lt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Lt=n;else for(;Lt!==null;){switch(r=Lt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=ta(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Am(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Am(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Lt=n;break}Lt=r.return}}function X_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:kr(n,a),l&4&&Ml(5,a);break;case 1:if(kr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var f=ta(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&F_(a),l&512&&Pl(a,a.return);break;case 3:if(kr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Dy(n,r)}catch(v){Ze(a,a.return,v)}}break;case 27:r===null&&l&4&&$_(a);case 26:case 5:kr(n,a),r===null&&l&4&&K_(a),l&512&&Pl(a,a.return);break;case 12:kr(n,a);break;case 13:kr(n,a),l&4&&J_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=hS.bind(null,a),xS(n,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){r=r!==null&&r.memoizedState!==null||yt,f=Ji;var d=yt;Ji=l,(yt=r)&&!d?Mr(n,a,(a.subtreeFlags&8772)!==0):kr(n,a),Ji=f,yt=d}break;case 30:break;default:kr(n,a)}}function W_(n){var r=n.alternate;r!==null&&(n.alternate=null,W_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Tr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var at=null,fn=!1;function er(n,r,a){for(a=a.child;a!==null;)Z_(n,r,a),a=a.sibling}function Z_(n,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:yt||di(a,r),er(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||di(a,r);var l=at,f=fn;zr(a.type)&&(at=a.stateNode,fn=!1),er(n,r,a),Fl(a.stateNode),at=l,fn=f;break;case 5:yt||di(a,r);case 6:if(l=at,f=fn,at=null,er(n,r,a),at=l,fn=f,at!==null)if(fn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{at.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:at!==null&&(fn?(n=at,zv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Zl(n)):zv(at,a.stateNode));break;case 4:l=at,f=fn,at=a.stateNode.containerInfo,fn=!0,er(n,r,a),at=l,fn=f;break;case 0:case 11:case 14:case 15:yt||Or(2,a,r),yt||Or(4,a,r),er(n,r,a);break;case 1:yt||(di(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&G_(a,r,l)),er(n,r,a);break;case 21:er(n,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,er(n,r,a),yt=l;break;default:er(n,r,a)}}function J_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Zl(n)}catch(a){Ze(r,r.return,a)}}function iS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Q_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Q_),r;default:throw Error(s(435,n.tag))}}function Zd(n,r){var a=iS(n);r.forEach(function(l){var f=fS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Tn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(zr(T.type)){at=T.stateNode,fn=!1;break e}break;case 5:at=T.stateNode,fn=!1;break e;case 3:case 4:at=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(at===null)throw Error(s(160));Z_(d,v,f),at=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)ev(r,n),r=r.sibling}var Yn=null;function ev(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Tn(r,n),bn(n),l&4&&(Or(3,n,n.return),Ml(3,n),Or(5,n,n.return));break;case 1:Tn(r,n),bn(n),l&512&&(yt||a===null||di(a,a.return)),l&64&&Ji&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Yn;if(Tn(r,n),bn(n),l&512&&(yt||a===null||di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ns]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Gt(d,l,a),d[It]=n,pt(d),l=d;break e;case"link":var v=$v("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=$v("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=n,pt(d),l=d}n.stateNode=l}else Qv(f,n.type,n.stateNode);else n.stateNode=Yv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Qv(f,n.type,n.stateNode):Yv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&$d(n,n.memoizedProps,a.memoizedProps)}break;case 27:Tn(r,n),bn(n),l&512&&(yt||a===null||di(a,a.return)),a!==null&&l&4&&$d(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Tn(r,n),bn(n),l&512&&(yt||a===null||di(a,a.return)),n.flags&32){f=n.stateNode;try{xn(f,"")}catch(Y){Ze(n,n.return,Y)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,$d(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Wd=!0);break;case 6:if(Tn(r,n),bn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Y){Ze(n,n.return,Y)}}break;case 3:if(rh=null,f=Yn,Yn=nh(r.containerInfo),Tn(r,n),Yn=f,bn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Zl(r.containerInfo)}catch(Y){Ze(n,n.return,Y)}Wd&&(Wd=!1,tv(n));break;case 4:l=Yn,Yn=nh(n.stateNode.containerInfo),Tn(r,n),bn(n),Yn=l;break;case 12:Tn(r,n),bn(n);break;case 13:Tn(r,n),bn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rm=In()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Zd(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,G=Ji,W=yt;if(Ji=G||f,yt=W||C,Tn(r,n),yt=W,Ji=G,bn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||Ji||yt||na(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var ee=C.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Y){Ze(C,C.return,Y)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(Y){Ze(C,C.return,Y)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zd(n,a))));break;case 19:Tn(r,n),bn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Zd(n,l)));break;case 30:break;case 21:break;default:Tn(r,n),bn(n)}}function bn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(Y_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Qd(n);Hc(n,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(xn(v,""),a.flags&=-33);var T=Qd(n);Hc(n,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,G=Qd(n);Xd(n,G,C);break;default:throw Error(s(161))}}catch(W){Ze(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function tv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;tv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function kr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)X_(n,r.alternate,r),r=r.sibling}function na(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Or(4,r,r.return),na(r);break;case 1:di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&G_(r,r.return,a),na(r);break;case 27:Fl(r.stateNode);case 26:case 5:di(r,r.return),na(r);break;case 22:r.memoizedState===null&&na(r);break;case 30:na(r);break;default:na(r)}n=n.sibling}}function Mr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Mr(f,d,a),Ml(4,d);break;case 1:if(Mr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Ze(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Ny(C[f],T)}catch(G){Ze(l,l.return,G)}}a&&v&64&&F_(d),Pl(d,d.return);break;case 27:$_(d);case 26:case 5:Mr(f,d,a),a&&l===null&&v&4&&K_(d),Pl(d,d.return);break;case 12:Mr(f,d,a);break;case 13:Mr(f,d,a),a&&v&4&&J_(f,d);break;case 22:d.memoizedState===null&&Mr(f,d,a),Pl(d,d.return);break;case 30:break;default:Mr(f,d,a)}r=r.sibling}}function Jd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&El(a))}function em(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&El(n))}function mi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)nv(n,r,a,l),r=r.sibling}function nv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:mi(n,r,a,l),f&2048&&Ml(9,r);break;case 1:mi(n,r,a,l);break;case 3:mi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&El(n)));break;case 12:if(f&2048){mi(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Ze(r,r.return,C)}}else mi(n,r,a,l);break;case 13:mi(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?mi(n,r,a,l):Vl(n,r):d._visibility&2?mi(n,r,a,l):(d._visibility|=2,io(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Jd(v,r);break;case 24:mi(n,r,a,l),f&2048&&em(r.alternate,r);break;default:mi(n,r,a,l)}}function io(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,v=r,T=a,C=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:io(d,v,T,C,f),Ml(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?io(d,v,T,C,f):Vl(d,v):(W._visibility|=2,io(d,v,T,C,f)),f&&G&2048&&Jd(v.alternate,v);break;case 24:io(d,v,T,C,f),f&&G&2048&&em(v.alternate,v);break;default:io(d,v,T,C,f)}r=r.sibling}}function Vl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Vl(a,l),f&2048&&Jd(l.alternate,l);break;case 24:Vl(a,l),f&2048&&em(l.alternate,l);break;default:Vl(a,l)}r=r.sibling}}var Ll=8192;function ro(n){if(n.subtreeFlags&Ll)for(n=n.child;n!==null;)iv(n),n=n.sibling}function iv(n){switch(n.tag){case 26:ro(n),n.flags&Ll&&n.memoizedState!==null&&qS(Yn,n.memoizedState,n.memoizedProps);break;case 5:ro(n);break;case 3:case 4:var r=Yn;Yn=nh(n.stateNode.containerInfo),ro(n),Yn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ll,Ll=16777216,ro(n),Ll=r):ro(n));break;default:ro(n)}}function rv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ul(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,av(l,n)}rv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sv(n),n=n.sibling}function sv(n){switch(n.tag){case 0:case 11:case 15:Ul(n),n.flags&2048&&Or(9,n,n.return);break;case 3:Ul(n);break;case 12:Ul(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Fc(n)):Ul(n);break;default:Ul(n)}}function Fc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,av(l,n)}rv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Or(8,r,r.return),Fc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Fc(r));break;default:Fc(r)}n=n.sibling}}function av(n,r){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Or(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=n;Lt!==null;){l=Lt;var f=l.sibling,d=l.return;if(W_(l),l===a){Lt=null;break e}if(f!==null){f.return=d,Lt=f;break e}Lt=d}}}var rS={getCacheForType:function(n){var r=Zt(Nt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},sS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Ne=null,Ue=0,Ke=0,wn=null,Pr=!1,so=!1,tm=!1,tr=0,mt=0,Vr=0,ia=0,nm=0,Un=0,ao=0,jl=null,dn=null,im=!1,rm=0,Gc=1/0,Kc=null,Lr=null,Ft=0,Ur=null,oo=null,lo=0,sm=0,am=null,ov=null,zl=0,om=null;function Sn(){if((Ge&2)!==0&&Ue!==0)return Ue&-Ue;if(X.T!==null){var n=Qa;return n!==0?n:mm()}return vr()}function lv(){Un===0&&(Un=(Ue&536870912)===0||Be?Qo():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),Un}function An(n,r,a){(n===et&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)&&(uo(n,0),jr(n,Ue,Un,!1)),ki(n,a),((Ge&2)===0||n!==et)&&(n===et&&((Ge&2)===0&&(ia|=a),mt===4&&jr(n,Ue,Un,!1)),pi(n))}function uv(n,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||xs(n,r),f=l?lS(n,r):cm(n,r,!0),d=l;do{if(f===0){so&&!l&&jr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!aS(a)){f=cm(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=n;f=jl;var C=T.current.memoizedState.isDehydrated;if(C&&(uo(T,v).flags|=256),v=cm(T,v,!1),v!==2){if(tm&&!C){T.errorRecoveryDisabledLanes|=d,ia|=d,f=4;break e}d=dn,dn=f,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){uo(n,0),jr(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:jr(l,r,Un,!Pr);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=rm+300-In(),10<f)){if(jr(l,r,Un,!Pr),Ra(l,0,!0)!==0)break e;l.timeoutHandle=Uv(cv.bind(null,l,a,dn,Kc,im,r,Un,ia,ao,Pr,d,2,-0,0),f);break e}cv(l,a,dn,Kc,im,r,Un,ia,ao,Pr,d,0,-0,0)}}break}while(!0);pi(n)}function cv(n,r,a,l,f,d,v,T,C,G,W,ee,K,Y){if(n.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:BS},iv(r),ee=HS(),ee!==null)){n.cancelPendingCommit=ee(yv.bind(null,n,r,d,a,l,f,v,T,C,W,1,K,Y)),jr(n,d,v,!G);return}yv(n,r,d,a,l,f,v,T,C)}function aS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!vn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(n,r,a,l){r&=~nm,r&=~ia,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-Wt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&ei(n,a,r)}function Yc(){return(Ge&6)===0?(Bl(0),!1):!0}function lm(){if(Ne!==null){if(Ke===0)var n=Ne.return;else n=Ne,Yi=Ws=null,Ad(n),to=null,Dl=0,n=Ne;for(;n!==null;)H_(n.alternate,n),n=n.return;Ne=null}}function uo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,SS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),lm(),et=n,Ne=a=Fi(n.current,null),Ue=r,Ke=0,wn=null,Pr=!1,so=xs(n,r),tm=!1,ao=Un=nm=ia=Vr=mt=0,dn=jl=null,im=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Wt(l),d=1<<f;r|=n[f],l&=~d}return tr=r,pc(),a}function hv(n,r){Ie=null,X.H=Mc,r===bl||r===Sc?(r=Cy(),Ke=3):r===Ay?(r=Cy(),Ke=4):Ke=r===x_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Ne===null&&(mt=1,jc(n,kn(r,n.current)))}function fv(){var n=X.H;return X.H=Mc,n===null?Mc:n}function dv(){var n=X.A;return X.A=rS,n}function um(){mt=4,Pr||(Ue&4194048)!==Ue&&Ln.current!==null||(so=!0),(Vr&134217727)===0&&(ia&134217727)===0||et===null||jr(et,Ue,Un,!1)}function cm(n,r,a){var l=Ge;Ge|=2;var f=fv(),d=dv();(et!==n||Ue!==r)&&(Kc=null,uo(n,r)),r=!1;var v=mt;e:do try{if(Ke!==0&&Ne!==null){var T=Ne,C=wn;switch(Ke){case 8:lm(),v=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var G=Ke;if(Ke=0,wn=null,co(n,T,C,G),a&&so){v=0;break e}break;default:G=Ke,Ke=0,wn=null,co(n,T,C,G)}}oS(),v=mt;break}catch(W){hv(n,W)}while(!0);return r&&n.shellSuspendCounter++,Yi=Ws=null,Ge=l,X.H=f,X.A=d,Ne===null&&(et=null,Ue=0,pc()),v}function oS(){for(;Ne!==null;)mv(Ne)}function lS(n,r){var a=Ge;Ge|=2;var l=fv(),f=dv();et!==n||Ue!==r?(Kc=null,Gc=In()+500,uo(n,r)):so=xs(n,r);e:do try{if(Ke!==0&&Ne!==null){r=Ne;var d=wn;t:switch(Ke){case 1:Ke=0,wn=null,co(n,r,d,1);break;case 2:case 9:if(Ry(d)){Ke=0,wn=null,pv(r);break}r=function(){Ke!==2&&Ke!==9||et!==n||(Ke=7),pi(n)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Ry(d)?(Ke=0,wn=null,pv(r)):(Ke=0,wn=null,co(n,r,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(!v||Xv(v)){Ke=0,wn=null;var C=T.sibling;if(C!==null)Ne=C;else{var G=T.return;G!==null?(Ne=G,$c(G)):Ne=null}break t}}Ke=0,wn=null,co(n,r,d,5);break;case 6:Ke=0,wn=null,co(n,r,d,6);break;case 8:lm(),mt=6;break e;default:throw Error(s(462))}}uS();break}catch(W){hv(n,W)}while(!0);return Yi=Ws=null,X.H=l,X.A=f,Ge=a,Ne!==null?0:(et=null,Ue=0,pc(),mt)}function uS(){for(;Ne!==null&&!Go();)mv(Ne)}function mv(n){var r=B_(n.alternate,n,tr);n.memoizedProps=n.pendingProps,r===null?$c(n):Ne=r}function pv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=P_(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=P_(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Ad(r);default:H_(a,r),r=Ne=gy(r,tr),r=B_(a,r,tr)}n.memoizedProps=n.pendingProps,r===null?$c(n):Ne=r}function co(n,r,a,l){Yi=Ws=null,Ad(r),to=null,Dl=0;var f=r.return;try{if(Z1(n,f,r,a,Ue)){mt=1,jc(n,kn(a,n.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;mt=1,jc(n,kn(a,n.current)),Ne=null;return}r.flags&32768?(Be||l===1?n=!0:so||(Ue&536870912)!==0?n=!1:(Pr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),gv(r,n)):$c(r)}function $c(n){var r=n;do{if((r.flags&32768)!==0){gv(r,Pr);return}n=r.return;var a=eS(r.alternate,r,tr);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=n}while(r!==null);mt===0&&(mt=5)}function gv(n,r){do{var a=tS(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);mt=6,Ne=null}function yv(n,r,a,l,f,d,v,T,C){n.cancelPendingCommit=null;do Qc();while(Ft!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=ed,Wo(n,a,d,v,T,C),n===et&&(Ne=et=null,Ue=0),oo=r,Ur=n,lo=a,sm=d,am=f,ov=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,dS(As,function(){return bv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=le.p,le.p=2,v=Ge,Ge|=4;try{nS(n,r,a)}finally{Ge=v,le.p=f,X.T=l}}Ft=1,_v(),vv(),Ev()}}function _v(){if(Ft===1){Ft=0;var n=Ur,r=oo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var f=Ge;Ge|=4;try{ev(r,n);var d=bm,v=ay(n.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&sy(T.ownerDocument.documentElement,T)){if(C!==null&&Qf(T)){var G=C.start,W=C.end;if(W===void 0&&(W=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(W,T.value.length);else{var ee=T.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var Y=K.getSelection(),be=T.textContent.length,_e=Math.min(C.start,be),Xe=C.end===void 0?_e:Math.min(C.end,be);!Y.extend&&_e>Xe&&(v=Xe,Xe=_e,_e=v);var z=ry(T,_e),k=ry(T,Xe);if(z&&k&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var F=ee.createRange();F.setStart(z.node,z.offset),Y.removeAllRanges(),_e>Xe?(Y.addRange(F),Y.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),Y.addRange(F))}}}}for(ee=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}oh=!!Tm,bm=Tm=null}finally{Ge=f,le.p=l,X.T=a}}n.current=r,Ft=2}}function vv(){if(Ft===2){Ft=0;var n=Ur,r=oo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var f=Ge;Ge|=4;try{X_(n,r.alternate,r)}finally{Ge=f,le.p=l,X.T=a}}Ft=3}}function Ev(){if(Ft===4||Ft===3){Ft=0,Fu();var n=Ur,r=oo,a=lo,l=ov;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,oo=Ur=null,Tv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Lr=null),Ia(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=le.p,le.p=2,X.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{X.T=r,le.p=f}}(lo&3)!==0&&Qc(),pi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===om?zl++:(zl=0,om=n):zl=0,Bl(0)}}function Tv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,El(r)))}function Qc(n){return _v(),vv(),Ev(),bv()}function bv(){if(Ft!==5)return!1;var n=Ur,r=sm;sm=0;var a=Ia(lo),l=X.T,f=le.p;try{le.p=32>a?32:a,X.T=null,a=am,am=null;var d=Ur,v=lo;if(Ft=0,oo=Ur=null,lo=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,sv(d.current),nv(d,d.current,v,a),Ge=T,Bl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{le.p=f,X.T=l,Tv(n,r)}}function wv(n,r,a){r=kn(a,r),r=jd(n.stateNode,r,2),n=Cr(n,r,2),n!==null&&(ki(n,2),pi(n))}function Ze(n,r,a){if(n.tag===3)wv(n,n,a);else for(;r!==null;){if(r.tag===3){wv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Lr===null||!Lr.has(l))){n=kn(a,n),a=I_(2),l=Cr(r,a,2),l!==null&&(C_(a,l,r,n),ki(l,2),pi(l));break}}r=r.return}}function hm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new sS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(tm=!0,f.add(a),n=cS.bind(null,n,r,a),r.then(n,n))}function cS(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,et===n&&(Ue&a)===a&&(mt===4||mt===3&&(Ue&62914560)===Ue&&300>In()-rm?(Ge&2)===0&&uo(n,0):nm|=a,ao===Ue&&(ao=0)),pi(n)}function Sv(n,r){r===0&&(r=Xo()),n=Ga(n,r),n!==null&&(ki(n,r),pi(n))}function hS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Sv(n,a)}function fS(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Sv(n,a)}function dS(n,r){return ws(n,r)}var Xc=null,ho=null,fm=!1,Wc=!1,dm=!1,ra=0;function pi(n){n!==ho&&n.next===null&&(ho===null?Xc=ho=n:ho=ho.next=n),Wc=!0,fm||(fm=!0,pS())}function Bl(n,r){if(!dm&&Wc){dm=!0;do for(var a=!1,l=Xc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Wt(42|n)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Cv(l,d))}else d=Ue,d=Ra(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||xs(l,d)||(a=!0,Cv(l,d));l=l.next}while(a);dm=!1}}function mS(){Av()}function Av(){Wc=fm=!1;var n=0;ra!==0&&(wS()&&(n=ra),ra=0);for(var r=In(),a=null,l=Xc;l!==null;){var f=l.next,d=Rv(l,r);d===0?(l.next=null,a===null?Xc=f:a.next=f,f===null&&(ho=a)):(a=l,(n!==0||(d&3)!==0)&&(Wc=!0)),l=f}Bl(n)}function Rv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-Wt(d),T=1<<v,C=f[v];C===-1?((T&a)===0||(T&l)!==0)&&(f[v]=$o(T,r)):C<=r&&(n.expiredLanes|=T),d&=~T}if(r=et,a=Ue,a=Ra(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ss(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||xs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Ss(l),Ia(a)){case 2:case 8:a=Sa;break;case 32:a=As;break;case 268435456:a=Aa;break;default:a=As}return l=Iv.bind(null,n),a=ws(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Ss(l),n.callbackPriority=2,n.callbackNode=null,2}function Iv(n,r){if(Ft!==0&&Ft!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Qc()&&n.callbackNode!==a)return null;var l=Ue;return l=Ra(n,n===et?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(uv(n,l,r),Rv(n,In()),n.callbackNode!=null&&n.callbackNode===a?Iv.bind(null,n):null)}function Cv(n,r){if(Qc())return null;uv(n,r,!0)}function pS(){AS(function(){(Ge&6)!==0?ws(Ko,mS):Av()})}function mm(){return ra===0&&(ra=Qo()),ra}function xv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ka(""+n)}function Nv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function gS(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=xv((f[Et]||null).action),v=l.submitter;v&&(r=(r=v[Et]||null)?xv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new Ma("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var C=v?Nv(f,v):new FormData(f);Md(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?Nv(f,v):new FormData(f),Md(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var pm=0;pm<Jf.length;pm++){var gm=Jf[pm],yS=gm.toLowerCase(),_S=gm[0].toUpperCase()+gm.slice(1);Kn(yS,"on"+_S)}Kn(uy,"onAnimationEnd"),Kn(cy,"onAnimationIteration"),Kn(hy,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(P1,"onTransitionRun"),Kn(V1,"onTransitionStart"),Kn(L1,"onTransitionCancel"),Kn(fy,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Dv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,G=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=G;try{d(f)}catch(W){Uc(W)}f.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,G=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=G;try{d(f)}catch(W){Uc(W)}f.currentTarget=null,d=C}}}}function De(n,r){var a=r[Jo];a===void 0&&(a=r[Jo]=new Set);var l=n+"__bubble";a.has(l)||(Ov(r,n,2,!1),a.add(l))}function ym(n,r,a){var l=0;r&&(l|=4),Ov(a,n,l,r)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function _m(n){if(!n[Zc]){n[Zc]=!0,el.forEach(function(a){a!=="selectionchange"&&(vS.has(a)||ym(a,!1,n),ym(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Zc]||(r[Zc]=!0,ym("selectionchange",!1,r))}}function Ov(n,r,a,l){switch(nE(r)){case 2:var f=KS;break;case 8:f=YS;break;default:f=Om}a=f.bind(null,r,a,n),f=void 0,!Dn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function vm(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=Mi(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}T=T.parentNode}}l=l.return}ec(function(){var G=d,W=Nn(a),ee=[];e:{var K=dy.get(n);if(K!==void 0){var Y=Ma,be=n;switch(n){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":Y=za;break;case"focusin":be="focus",Y=La;break;case"focusout":be="blur",Y=La;break;case"beforeblur":case"afterblur":Y=La;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=lc;break;case uy:case cy:case hy:Y=Ua;break;case fy:Y=cc;break;case"scroll":case"scrollend":Y=tc;break;case"wheel":Y=Ba;break;case"copy":case"cut":case"paste":Y=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=fl;break;case"toggle":case"beforetoggle":Y=fc}var _e=(r&4)!==0,Xe=!_e&&(n==="scroll"||n==="scrollend"),z=_e?K!==null?K+"Capture":null:K;_e=[];for(var k=G,F;k!==null;){var Z=k;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||z===null||(Z=Ls(k,z),Z!=null&&_e.push(Hl(k,Z,F))),Xe)break;k=k.return}0<_e.length&&(K=new Y(K,be,null,a,W),ee.push({event:K,listeners:_e}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",K&&a!==Ui&&(be=a.relatedTarget||a.fromElement)&&(Mi(be)||be[Cn]))break e;if((Y||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(be=a.relatedTarget||a.toElement,Y=G,be=be?Mi(be):null,be!==null&&(Xe=u(be),_e=be.tag,be!==Xe||_e!==5&&_e!==27&&_e!==6)&&(be=null)):(Y=null,be=G),Y!==be)){if(_e=On,Z="onMouseLeave",z="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(_e=fl,Z="onPointerLeave",z="onPointerEnter",k="pointer"),Xe=Y==null?K:ni(Y),F=be==null?K:ni(be),K=new _e(Z,k+"leave",Y,a,W),K.target=Xe,K.relatedTarget=F,Z=null,Mi(W)===G&&(_e=new _e(z,k+"enter",be,a,W),_e.target=F,_e.relatedTarget=Xe,Z=_e),Xe=Z,Y&&be)t:{for(_e=Y,z=be,k=0,F=_e;F;F=fo(F))k++;for(F=0,Z=z;Z;Z=fo(Z))F++;for(;0<k-F;)_e=fo(_e),k--;for(;0<F-k;)z=fo(z),F--;for(;k--;){if(_e===z||z!==null&&_e===z.alternate)break t;_e=fo(_e),z=fo(z)}_e=null}else _e=null;Y!==null&&kv(ee,K,Y,_e,!1),be!==null&&Xe!==null&&kv(ee,Xe,be,_e,!0)}}e:{if(K=G?ni(G):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var de=Zg;else if(xt(K))if(Jg)de=O1;else{de=N1;var xe=x1}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&sl(G.elementType)&&(de=Zg):de=D1;if(de&&(de=de(n,G))){Hi(ee,de,a,W);break e}xe&&xe(n,K,G),n==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&wr(K,"number",K.value)}switch(xe=G?ni(G):window,n){case"focusin":(xt(xe)||xe.contentEditable==="true")&&(qa=xe,Xf=G,pl=null);break;case"focusout":pl=Xf=qa=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,oy(ee,a,W);break;case"selectionchange":if(M1)break;case"keydown":case"keyup":oy(ee,a,W)}var pe;if(ui)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?$(n,a)&&(ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(pe=ol()):(si=W,Sr="value"in si?si.value:si.textContent,Ve=!0)),xe=Jc(G,ve),0<xe.length&&(ve=new cl(ve,n,null,a,W),ee.push({event:ve,listeners:xe}),pe?ve.data=pe:(pe=oe(a),pe!==null&&(ve.data=pe)))),(pe=y?Ct(n,a):Le(n,a))&&(ve=Jc(G,"onBeforeInput"),0<ve.length&&(xe=new cl("onBeforeInput","beforeinput",null,a,W),ee.push({event:xe,listeners:ve}),xe.data=pe)),gS(ee,n,G,a,W)}Dv(ee,r)})}function Hl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Jc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ls(n,a),f!=null&&l.unshift(Hl(n,f,d)),f=Ls(n,r),f!=null&&l.push(Hl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function fo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function kv(n,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,G=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||G===null||(C=G,f?(G=Ls(a,d),G!=null&&v.unshift(Hl(a,G,C))):f||(G=Ls(a,d),G!=null&&v.push(Hl(a,G,C)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var ES=/\r\n?/g,TS=/\u0000|\uFFFD/g;function Mv(n){return(typeof n=="string"?n:""+n).replace(ES,`
`).replace(TS,"")}function Pv(n,r){return r=Mv(r),Mv(n)===r}function eh(){}function Qe(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||xn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&xn(n,""+l);break;case"className":ii(n,"class",l);break;case"tabIndex":ii(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(n,a,l);break;case"style":rl(n,l,d);break;case"data":if(r!=="object"){ii(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ka(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Qe(n,r,"name",f.name,f,null),Qe(n,r,"formEncType",f.formEncType,f,null),Qe(n,r,"formMethod",f.formMethod,f,null),Qe(n,r,"formTarget",f.formTarget,f,null)):(Qe(n,r,"encType",f.encType,f,null),Qe(n,r,"method",f.method,f,null),Qe(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ka(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=eh);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ka(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":De("beforetoggle",n),De("toggle",n),br(n,"popover",l);break;case"xlinkActuate":Bt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":br(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hf.get(a)||a,br(n,a,l))}}function Em(n,r,a,l,f,d){switch(a){case"style":rl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?xn(n,l):(typeof l=="number"||typeof l=="bigint")&&xn(n,""+l);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"onClick":l!=null&&(n.onclick=eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):br(n,a,l)}}}function Gt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",n),De("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(n,r,d,v,a,null)}}f&&Qe(n,r,"srcSet",a.srcSet,a,null),l&&Qe(n,r,"src",a.src,a,null);return;case"input":De("invalid",n);var T=d=v=f=null,C=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":v=W;break;case"checked":C=W;break;case"defaultChecked":G=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Qe(n,r,l,W,a,null)}}Ms(n,d,T,C,G,v,f,!1),Oa(n);return;case"select":De("invalid",n),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Qe(n,r,f,T,a,null)}r=d,a=v,n.multiple=!!l,r!=null?Li(n,!!l,r,!1):a!=null&&Li(n,!!l,a,!0);return;case"textarea":De("invalid",n),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Qe(n,r,v,T,a,null)}Ps(n,l,f,d),Oa(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(n,r,C,l,a,null)}return;case"dialog":De("beforetoggle",n),De("toggle",n),De("cancel",n),De("close",n);break;case"iframe":case"object":De("load",n);break;case"video":case"audio":for(l=0;l<ql.length;l++)De(ql[l],n);break;case"image":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"embed":case"source":case"link":De("error",n),De("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(n,r,G,l,a,null)}return;default:if(sl(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Em(n,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Qe(n,r,T,l,a,null))}function bS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,C=null,G=null,W=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=ee;default:l.hasOwnProperty(Y)||Qe(n,r,Y,null,l,ee)}}for(var K in l){var Y=l[K];if(ee=a[K],l.hasOwnProperty(K)&&(Y!=null||ee!=null))switch(K){case"type":d=Y;break;case"name":f=Y;break;case"checked":G=Y;break;case"defaultChecked":W=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ee&&Qe(n,r,K,Y,l,ee)}}_n(n,v,T,C,G,W,d,f);return;case"select":Y=v=T=K=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(d)||Qe(n,r,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Qe(n,r,f,d,l,C)}r=T,a=v,l=Y,K!=null?Li(n,!!a,K,!1):!!l!=!!a&&(r!=null?Li(n,!!a,r,!0):Li(n,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Qe(n,r,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":K=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Qe(n,r,v,f,l,d)}Ye(n,K,Y);return;case"option":for(var be in a)if(K=a[be],a.hasOwnProperty(be)&&K!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:Qe(n,r,be,null,l,K)}for(C in l)if(K=l[C],Y=a[C],l.hasOwnProperty(C)&&K!==Y&&(K!=null||Y!=null))switch(C){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Qe(n,r,C,K,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!l.hasOwnProperty(_e)&&Qe(n,r,_e,null,l,K);for(G in l)if(K=l[G],Y=a[G],l.hasOwnProperty(G)&&K!==Y&&(K!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Qe(n,r,G,K,l,Y)}return;default:if(sl(r)){for(var Xe in a)K=a[Xe],a.hasOwnProperty(Xe)&&K!==void 0&&!l.hasOwnProperty(Xe)&&Em(n,r,Xe,void 0,l,K);for(W in l)K=l[W],Y=a[W],!l.hasOwnProperty(W)||K===Y||K===void 0&&Y===void 0||Em(n,r,W,K,l,Y);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&Qe(n,r,z,null,l,K);for(ee in l)K=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||K===Y||K==null&&Y==null||Qe(n,r,ee,K,l,Y)}var Tm=null,bm=null;function th(n){return n.nodeType===9?n:n.ownerDocument}function Vv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function wm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sm=null;function wS(){var n=window.event;return n&&n.type==="popstate"?n===Sm?!1:(Sm=n,!0):(Sm=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,SS=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,AS=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(n){return jv.resolve(null).then(n).catch(RS)}:Uv;function RS(n){setTimeout(function(){throw n})}function zr(n){return n==="head"}function zv(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&Fl(v.documentElement),a&2&&Fl(v.body),a&4)for(a=v.head,Fl(a),v=a.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[Ns]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(f===0){n.removeChild(d),Zl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Zl(r)}function Am(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Am(a),Tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function IS(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ns])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=$n(n.nextSibling),n===null)break}return null}function CS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=$n(n.nextSibling),n===null))return null;return n}function Rm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function xS(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function $n(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Im=null;function Bv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function qv(n,r,a){switch(r=th(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Fl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Tr(n)}var jn=new Map,Hv=new Set;function nh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var nr=le.d;le.d={f:NS,r:DS,D:OS,C:kS,L:MS,m:PS,X:LS,S:VS,M:US};function NS(){var n=nr.f(),r=Yc();return n||r}function DS(n){var r=ti(n);r!==null&&r.tag===5&&r.type==="form"?u_(r):nr.r(n)}var mo=typeof document>"u"?null:document;function Fv(n,r,a){var l=mo;if(l&&typeof r=="string"&&r){var f=Tt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Hv.has(f)||(Hv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Gt(r,"link",n),pt(r),l.head.appendChild(r)))}}function OS(n){nr.D(n),Fv("dns-prefetch",n,null)}function kS(n,r){nr.C(n,r),Fv("preconnect",n,r)}function MS(n,r,a){nr.L(n,r,a);var l=mo;if(l&&n&&r){var f='link[rel="preload"][as="'+Tt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Tt(a.imageSizes)+'"]')):f+='[href="'+Tt(n)+'"]';var d=f;switch(r){case"style":d=po(n);break;case"script":d=go(n)}jn.has(d)||(n=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),jn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Gl(d))||r==="script"&&l.querySelector(Kl(d))||(r=l.createElement("link"),Gt(r,"link",n),pt(r),l.head.appendChild(r)))}}function PS(n,r){nr.m(n,r);var a=mo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=go(n)}if(!jn.has(d)&&(n=E({rel:"modulepreload",href:n},r),jn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kl(d)))return}l=a.createElement("link"),Gt(l,"link",n),pt(l),a.head.appendChild(l)}}}function VS(n,r,a){nr.S(n,r,a);var l=mo;if(l&&n){var f=sn(l).hoistableStyles,d=po(n);r=r||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Gl(d)))T.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},a),(a=jn.get(d))&&Cm(n,a);var C=v=l.createElement("link");pt(C),Gt(C,"link",n),C._p=new Promise(function(G,W){C.onload=G,C.onerror=W}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ih(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function LS(n,r){nr.X(n,r);var a=mo;if(a&&n){var l=sn(a).hoistableScripts,f=go(n),d=l.get(f);d||(d=a.querySelector(Kl(f)),d||(n=E({src:n,async:!0},r),(r=jn.get(f))&&xm(n,r),d=a.createElement("script"),pt(d),Gt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function US(n,r){nr.M(n,r);var a=mo;if(a&&n){var l=sn(a).hoistableScripts,f=go(n),d=l.get(f);d||(d=a.querySelector(Kl(f)),d||(n=E({src:n,async:!0,type:"module"},r),(r=jn.get(f))&&xm(n,r),d=a.createElement("script"),pt(d),Gt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Gv(n,r,a,l){var f=(f=we.current)?nh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=po(a.href),a=sn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=po(a.href);var d=sn(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(Gl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),jn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(n,a),d||jS(f,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=go(a),a=sn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function po(n){return'href="'+Tt(n)+'"'}function Gl(n){return'link[rel="stylesheet"]['+n+"]"}function Kv(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function jS(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Gt(r,"link",a),pt(r),n.head.appendChild(r))}function go(n){return'[src="'+Tt(n)+'"]'}function Kl(n){return"script[async]"+n}function Yv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return r.instance=l,pt(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),pt(l),Gt(l,"style",f),ih(l,a.precedence,n),r.instance=l;case"stylesheet":f=po(a.href);var d=n.querySelector(Gl(f));if(d)return r.state.loading|=4,r.instance=d,pt(d),d;l=Kv(a),(f=jn.get(f))&&Cm(l,f),d=(n.ownerDocument||n).createElement("link"),pt(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Gt(d,"link",l),r.state.loading|=4,ih(d,a.precedence,n),r.instance=d;case"script":return d=go(a.src),(f=n.querySelector(Kl(d)))?(r.instance=f,pt(f),f):(l=a,(f=jn.get(d))&&(l=E({},a),xm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),pt(f),Gt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ih(l,a.precedence,n));return r.instance}function ih(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Cm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function xm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var rh=null;function $v(n,r,a){if(rh===null){var l=new Map,f=rh=new Map;f.set(a,l)}else f=rh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Ns]||d[It]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Qv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function zS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Xv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Yl=null;function BS(){}function qS(n,r,a){if(Yl===null)throw Error(s(475));var l=Yl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=po(a.href),d=n.querySelector(Gl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=sh.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,pt(d);return}d=n.ownerDocument||n,a=Kv(a),(f=jn.get(f))&&Cm(a,f),d=d.createElement("link"),pt(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Gt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=sh.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function HS(){if(Yl===null)throw Error(s(475));var n=Yl;return n.stylesheets&&n.count===0&&Nm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Nm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function sh(){if(this.count--,this.count===0){if(this.stylesheets)Nm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ah=null;function Nm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ah=new Map,r.forEach(FS,n),ah=null,sh.call(n))}function FS(n,r){if(!(r.state.loading&4)){var a=ah.get(n);if(a)var l=a.get(null);else{a=new Map,ah.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=sh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var $l={$$typeof:Q,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function GS(n,r,a,l,f,d,v,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Wv(n,r,a,l,f,d,v,T,C,G,W,ee){return n=new GS(n,r,a,v,T,C,G,ee),r=1,d===!0&&(r|=24),d=En(3,null,null,r),n.current=d,d.stateNode=n,r=hd(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},pd(d),n}function Zv(n){return n?(n=Ka,n):Ka}function Jv(n,r,a,l,f,d){f=Zv(f),l.context===null?l.context=f:l.pendingContext=f,l=Ir(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Cr(n,l,r),a!==null&&(An(a,n,r),Sl(a,n,r))}function eE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Dm(n,r){eE(n,r),(n=n.alternate)&&eE(n,r)}function tE(n){if(n.tag===13){var r=Ga(n,67108864);r!==null&&An(r,n,67108864),Dm(n,67108864)}}var oh=!0;function KS(n,r,a,l){var f=X.T;X.T=null;var d=le.p;try{le.p=2,Om(n,r,a,l)}finally{le.p=d,X.T=f}}function YS(n,r,a,l){var f=X.T;X.T=null;var d=le.p;try{le.p=8,Om(n,r,a,l)}finally{le.p=d,X.T=f}}function Om(n,r,a,l){if(oh){var f=km(l);if(f===null)vm(n,r,l,lh,a),iE(n,l);else if(QS(f,n,r,a,l))l.stopPropagation();else if(iE(n,l),r&4&&-1<$S.indexOf(n)){for(;f!==null;){var d=ti(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Hn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Wt(v);T.entanglements[1]|=C,v&=~C}pi(d),(Ge&6)===0&&(Gc=In()+500,Bl(0))}}break;case 13:T=Ga(d,2),T!==null&&An(T,d,2),Yc(),Dm(d,2)}if(d=km(l),d===null&&vm(n,r,l,lh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else vm(n,r,l,null,a)}}function km(n){return n=Nn(n),Mm(n)}var lh=null;function Mm(n){if(lh=null,n=Mi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return lh=n,null}function nE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lf()){case Ko:return 2;case Sa:return 8;case As:case Uf:return 32;case Aa:return 268435456;default:return 32}default:return 32}}var Pm=!1,Br=null,qr=null,Hr=null,Ql=new Map,Xl=new Map,Fr=[],$S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iE(n,r){switch(n){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Ql.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(r.pointerId)}}function Wl(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ti(r),r!==null&&tE(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function QS(n,r,a,l,f){switch(r){case"focusin":return Br=Wl(Br,n,r,a,l,f),!0;case"dragenter":return qr=Wl(qr,n,r,a,l,f),!0;case"mouseover":return Hr=Wl(Hr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ql.set(d,Wl(Ql.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Xl.set(d,Wl(Xl.get(d)||null,n,r,a,l,f)),!0}return!1}function rE(n){var r=Mi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Yu(n.priority,function(){if(a.tag===13){var l=Sn();l=_r(l);var f=Ga(a,l);f!==null&&An(f,a,l),Dm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=km(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Ui=l,a.target.dispatchEvent(l),Ui=null}else return r=ti(a),r!==null&&tE(r),n.blockedOn=a,!1;r.shift()}return!0}function sE(n,r,a){uh(n)&&a.delete(r)}function XS(){Pm=!1,Br!==null&&uh(Br)&&(Br=null),qr!==null&&uh(qr)&&(qr=null),Hr!==null&&uh(Hr)&&(Hr=null),Ql.forEach(sE),Xl.forEach(sE)}function ch(n,r){n.blockedOn===r&&(n.blockedOn=null,Pm||(Pm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,XS)))}var hh=null;function aE(n){hh!==n&&(hh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){hh===n&&(hh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(Mm(l||a)===null)continue;break}var d=ti(a);d!==null&&(n.splice(r,3),r-=3,Md(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Zl(n){function r(C){return ch(C,n)}Br!==null&&ch(Br,n),qr!==null&&ch(qr,n),Hr!==null&&ch(Hr,n),Ql.forEach(r),Xl.forEach(r);for(var a=0;a<Fr.length;a++){var l=Fr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)rE(a),a.blockedOn===null&&Fr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Et]||null;if(typeof d=="function")v||aE(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Et]||null)T=v.formAction;else if(Mm(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),aE(a)}}}function Vm(n){this._internalRoot=n}fh.prototype.render=Vm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Sn();Jv(a,l,n,r,null,null)},fh.prototype.unmount=Vm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Jv(n.current,2,null,n,null,null),Yc(),r[Cn]=null}};function fh(n){this._internalRoot=n}fh.prototype.unstable_scheduleHydration=function(n){if(n){var r=vr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Fr.length&&r!==0&&r<Fr[a].priority;a++);Fr.splice(a,0,n),a===0&&rE(n)}};var oE=e.version;if(oE!=="19.1.1")throw Error(s(527,oE,"19.1.1"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var WS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{ft=dh.inject(WS),Fe=dh}catch{}}return eu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=w_,d=S_,v=A_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Wv(n,1,!1,null,null,a,l,f,d,v,T,null),n[Cn]=r.current,_m(n),new Vm(r)},eu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=w_,v=S_,T=A_,C=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),r=Wv(n,1,!0,r,a??null,l,f,d,v,T,C,G),r.context=Zv(null),a=r.current,l=Sn(),l=_r(l),f=Ir(l),f.callback=null,Cr(a,f,l),a=l,r.current.lanes=a,ki(r,a),pi(r),n[Cn]=r.current,_m(n),new fh(r)},eu.version="19.1.1",eu}var yE;function aA(){if(yE)return jm.exports;yE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jm.exports=sA(),jm.exports}var oA=aA();const lA=c0(oA);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _E="popstate";function uA(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=_a(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ap("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:gu(u))}function s(o,u){Xn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return hA(e,t,s,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Xn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cA(){return Math.random().toString(36).substring(2,10)}function vE(i,e){return{usr:i.state,key:i.key,idx:e}}function ap(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?_a(e):e,state:t,key:e&&e.key||s||cA()}}function gu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function _a(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function hA(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let P=E(),q=P==null?null:P-g;g=P,p&&p({action:m,location:B.location,delta:q})}function A(P,q){m="PUSH";let ne=ap(B.location,P,q);t&&t(ne,P),g=E()+1;let Q=vE(ne,g),ie=B.createHref(ne);try{h.pushState(Q,"",ie)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(ie)}u&&p&&p({action:m,location:B.location,delta:1})}function M(P,q){m="REPLACE";let ne=ap(B.location,P,q);t&&t(ne,P),g=E();let Q=vE(ne,g),ie=B.createHref(ne);h.replaceState(Q,"",ie),u&&p&&p({action:m,location:B.location,delta:0})}function U(P){return fA(P)}let B={get action(){return m},get location(){return i(o,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_E,S),p=P,()=>{o.removeEventListener(_E,S),p=null}},createHref(P){return e(o,P)},createURL:U,encodeLocation(P){let q=U(P);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:M,go(P){return h.go(P)}};return B}function fA(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:gu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function f0(i,e,t="/"){return dA(i,e,t,!1)}function dA(i,e,t,s){let o=typeof e=="string"?_a(e):e,u=cr(o.pathname||"/",t);if(u==null)return null;let h=d0(i);mA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=AA(u);m=wA(h[p],g,s)}return m}function d0(i,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=or([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),d0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:TA(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of m0(u.path))o(u,h,m)}),e}function m0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=m0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function mA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:bA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var pA=/^:[\w-]+$/,gA=3,yA=2,_A=1,vA=10,EA=-2,EE=i=>i==="*";function TA(i,e){let t=i.split("/"),s=t.length;return t.some(EE)&&(s+=EA),e&&(s+=yA),t.filter(o=>!EE(o)).reduce((o,u)=>o+(pA.test(u)?gA:u===""?_A:vA),s)}function bA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function wA(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!S&&g&&t&&!s[s.length-1].route.index&&(S=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:or([u,S.pathname]),pathnameBase:xA(or([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=or([u,S.pathnameBase]))}return h}function Ph(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=SA(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},A)=>{if(E==="*"){let U=m[A]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const M=m[A];return S&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function SA(i,e=!1,t=!0){Xn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function AA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function cr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function RA(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?_a(i):i;return{pathname:t?t.startsWith("/")?t:IA(t,e):e,search:NA(s),hash:DA(o)}}function IA(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Hm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CA(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function p0(i){let e=CA(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function g0(i,e,t,s=!1){let o;typeof i=="string"?o=_a(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let S=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}m=S>=0?e[S]:"/"}let p=RA(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var or=i=>i.join("/").replace(/\/\/+/g,"/"),xA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),NA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,DA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function OA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var y0=["POST","PUT","PATCH","DELETE"];new Set(y0);var kA=["GET",...y0];new Set(kA);var Vo=L.createContext(null);Vo.displayName="DataRouter";var af=L.createContext(null);af.displayName="DataRouterState";L.createContext(!1);var _0=L.createContext({isTransitioning:!1});_0.displayName="ViewTransition";var MA=L.createContext(new Map);MA.displayName="Fetchers";var PA=L.createContext(null);PA.displayName="Await";var Ci=L.createContext(null);Ci.displayName="Navigation";var Cu=L.createContext(null);Cu.displayName="Location";var xi=L.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var Lp=L.createContext(null);Lp.displayName="RouteError";function VA(i,{relative:e}={}){lt(xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=L.useContext(Ci),{hash:o,pathname:u,search:h}=Nu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:or([t,u])),s.createHref({pathname:m,search:h,hash:o})}function xu(){return L.useContext(Cu)!=null}function gr(){return lt(xu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Cu).location}var v0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E0(i){L.useContext(Ci).static||L.useLayoutEffect(i)}function Up(){let{isDataRoute:i}=L.useContext(xi);return i?WA():LA()}function LA(){lt(xu(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Vo),{basename:e,navigator:t}=L.useContext(Ci),{matches:s}=L.useContext(xi),{pathname:o}=gr(),u=JSON.stringify(p0(s)),h=L.useRef(!1);return E0(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(Xn(h.current,v0),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=g0(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:or([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}var UA=L.createContext(null);function jA(i){let e=L.useContext(xi).outlet;return e&&L.createElement(UA.Provider,{value:i},e)}function Nu(i,{relative:e}={}){let{matches:t}=L.useContext(xi),{pathname:s}=gr(),o=JSON.stringify(p0(t));return L.useMemo(()=>g0(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function zA(i,e){return T0(i,e)}function T0(i,e,t,s){lt(xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(Ci),{matches:u}=L.useContext(xi),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",E=h&&h.route;{let q=E&&E.path||"";b0(p,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let S=gr(),A;if(e){let q=typeof e=="string"?_a(e):e;lt(g==="/"||q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${q.pathname}" was given in the \`location\` prop.`),A=q}else A=S;let M=A.pathname||"/",U=M;if(g!=="/"){let q=g.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(q.length).join("/")}let B=f0(i,{pathname:U});Xn(E||B!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Xn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=GA(B&&B.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:or([g,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?g:or([g,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),u,t,s);return e&&P?L.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},P):P}function BA(){let i=XA(),e=OA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:o},t):null,h)}var qA=L.createElement(BA,null),HA=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?L.createElement(xi.Provider,{value:this.props.routeContext},L.createElement(Lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FA({routeContext:i,match:e,children:t}){let s=L.useContext(Vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(xi.Provider,{value:i},t)}function GA(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:S}=t,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||A){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let S,A=!1,M=null,U=null;t&&(S=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||qA,h&&(m<0&&E===0?(b0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,U=null):m===E&&(A=!0,U=g.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,E+1)),P=()=>{let q;return S?q=M:A?q=U:g.route.Component?q=L.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=p,L.createElement(FA,{match:g,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?L.createElement(HA,{location:t.location,revalidation:t.revalidation,component:M,error:S,children:P(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):P()},null)}function jp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KA(i){let e=L.useContext(Vo);return lt(e,jp(i)),e}function YA(i){let e=L.useContext(af);return lt(e,jp(i)),e}function $A(i){let e=L.useContext(xi);return lt(e,jp(i)),e}function zp(i){let e=$A(i),t=e.matches[e.matches.length-1];return lt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function QA(){return zp("useRouteId")}function XA(){let i=L.useContext(Lp),e=YA("useRouteError"),t=zp("useRouteError");return i!==void 0?i:e.errors?.[t]}function WA(){let{router:i}=KA("useNavigate"),e=zp("useNavigate"),t=L.useRef(!1);return E0(()=>{t.current=!0}),L.useCallback(async(o,u={})=>{Xn(t.current,v0),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var TE={};function b0(i,e,t){!e&&!TE[i]&&(TE[i]=!0,Xn(!1,t))}L.memo(ZA);function ZA({routes:i,future:e,state:t}){return T0(i,void 0,t,e)}function JA(i){return jA(i.context)}function Yr(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){lt(!xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=_a(t));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:A="default"}=t,M=L.useMemo(()=>{let U=cr(p,h);return U==null?null:{location:{pathname:U,search:g,hash:E,state:S,key:A},navigationType:s}},[h,p,g,E,S,A,s]);return Xn(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:L.createElement(Ci.Provider,{value:m},L.createElement(Cu.Provider,{children:e,value:M}))}function tR({children:i,location:e}){return zA(op(i),e)}function op(i,e=[]){let t=[];return L.Children.forEach(i,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){t.push.apply(t,op(s.props.children,u));return}lt(s.type===Yr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=op(s.props.children,u)),t.push(h)}),t}var wh="get",Sh="application/x-www-form-urlencoded";function of(i){return i!=null&&typeof i.tagName=="string"}function nR(i){return of(i)&&i.tagName.toLowerCase()==="button"}function iR(i){return of(i)&&i.tagName.toLowerCase()==="form"}function rR(i){return of(i)&&i.tagName.toLowerCase()==="input"}function sR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function aR(i,e){return i.button===0&&(!e||e==="_self")&&!sR(i)}var mh=null;function oR(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var lR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fm(i){return i!=null&&!lR.has(i)?(Xn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sh}"`),null):i}function uR(i,e){let t,s,o,u,h;if(iR(i)){let m=i.getAttribute("action");s=m?cr(m,e):null,t=i.getAttribute("method")||wh,o=Fm(i.getAttribute("enctype"))||Sh,u=new FormData(i)}else if(nR(i)||rR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?cr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||wh,o=Fm(i.getAttribute("formenctype"))||Fm(m.getAttribute("enctype"))||Sh,u=new FormData(m,i),!oR()){let{name:g,type:E,value:S}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,S)}}else{if(of(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wh,s=null,o=Sh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function cR(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&cr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function hR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function dR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await hR(u,t);return h.links?h.links():[]}return[]}));return yR(s.flat(1).filter(fR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bE(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function mR(i,e,{includeHydrateFallback:t}={}){return pR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function pR(i){return[...new Set(i)]}function gR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function yR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(gR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function w0(){let i=L.useContext(Vo);return Bp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function _R(){let i=L.useContext(af);return Bp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var qp=L.createContext(void 0);qp.displayName="FrameworkContext";function S0(){let i=L.useContext(qp);return Bp(i,"You must render this element inside a <HydratedRouter> element"),i}function vR(i,e){let t=L.useContext(qp),[s,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,A=L.useRef(null);L.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=q=>{q.forEach(ne=>{h(ne.isIntersecting)})},P=new IntersectionObserver(B,{threshold:.5});return A.current&&P.observe(A.current),()=>{P.disconnect()}}},[i]),L.useEffect(()=>{if(s){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[s]);let M=()=>{o(!0)},U=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,A,{}]:[u,A,{onFocus:tu(m,M),onBlur:tu(p,U),onMouseEnter:tu(g,M),onMouseLeave:tu(E,U),onTouchStart:tu(S,M)}]:[!1,A,{}]}function tu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function ER({page:i,...e}){let{router:t}=w0(),s=L.useMemo(()=>f0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?L.createElement(bR,{page:i,matches:s,...e}):null}function TR(i){let{manifest:e,routeModules:t}=S0(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return dR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function bR({page:i,matches:e,...t}){let s=gr(),{manifest:o,routeModules:u}=S0(),{basename:h}=w0(),{loaderData:m,matches:p}=_R(),g=L.useMemo(()=>bE(i,e,p,o,s,"data"),[i,e,p,o,s]),E=L.useMemo(()=>bE(i,e,p,o,s,"assets"),[i,e,p,o,s]),S=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,B=!1;if(e.forEach(q=>{let ne=o.routes[q.route.id];!ne||!ne.hasLoader||(!g.some(Q=>Q.route.id===q.route.id)&&q.route.id in m&&u[q.route.id]?.shouldRevalidate||ne.hasClientLoader?B=!0:U.add(q.route.id))}),U.size===0)return[];let P=cR(i,h,"data");return B&&U.size>0&&P.searchParams.set("_routes",e.filter(q=>U.has(q.route.id)).map(q=>q.route.id).join(",")),[P.pathname+P.search]},[h,m,s,o,g,e,i,u]),A=L.useMemo(()=>mR(E,o),[E,o]),M=TR(E);return L.createElement(L.Fragment,null,S.map(U=>L.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),A.map(U=>L.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),M.map(({key:U,link:B})=>L.createElement("link",{key:U,nonce:t.nonce,...B})))}function wR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var A0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A0&&(window.__reactRouterVersion="7.8.0")}catch{}function SR({basename:i,children:e,window:t}){let s=L.useRef();s.current==null&&(s.current=uA({window:t,v5Compat:!0}));let o=s.current,[u,h]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(eR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var R0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zt=L.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...A},M){let{basename:U}=L.useContext(Ci),B=typeof g=="string"&&R0.test(g),P,q=!1;if(typeof g=="string"&&B&&(P=g,A0))try{let I=new URL(window.location.href),O=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=cr(O.pathname,U);O.origin===I.origin&&V!=null?g=V+O.search+O.hash:q=!0}catch{Xn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=VA(g,{relative:o}),[Q,ie,se]=vR(s,A),he=CR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function N(I){e&&e(I),I.defaultPrevented||he(I)}let R=L.createElement("a",{...A,...se,href:P||ne,onClick:q||u?e:N,ref:wR(M,ie),target:p,"data-discover":!B&&t==="render"?"true":void 0});return Q&&!B?L.createElement(L.Fragment,null,R,L.createElement(ER,{page:ne})):R});zt.displayName="Link";var AR=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let S=Nu(h,{relative:g.relative}),A=gr(),M=L.useContext(af),{navigator:U,basename:B}=L.useContext(Ci),P=M!=null&&kR(S)&&m===!0,q=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,ne=A.pathname,Q=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;t||(ne=ne.toLowerCase(),Q=Q?Q.toLowerCase():null,q=q.toLowerCase()),Q&&B&&(Q=cr(Q,B)||Q);const ie=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let se=ne===q||!o&&ne.startsWith(q)&&ne.charAt(ie)==="/",he=Q!=null&&(Q===q||!o&&Q.startsWith(q)&&Q.charAt(q.length)==="/"),N={isActive:se,isPending:he,isTransitioning:P},R=se?e:void 0,I;typeof s=="function"?I=s(N):I=[s,se?"active":null,he?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return L.createElement(zt,{...g,"aria-current":R,className:I,ref:E,style:O,to:h,viewTransition:m},typeof p=="function"?p(N):p)});AR.displayName="NavLink";var RR=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=wh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...A},M)=>{let U=DR(),B=OR(m,{relative:g}),P=h.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&R0.test(m),ne=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let ie=Q.nativeEvent.submitter,se=ie?.getAttribute("formmethod")||h;U(ie||Q.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return L.createElement("form",{ref:M,method:P,action:B,onSubmit:s?p:ne,...A,"data-discover":!q&&i==="render"?"true":void 0})});RR.displayName="Form";function IR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I0(i){let e=L.useContext(Vo);return lt(e,IR(i)),e}function CR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Up(),p=gr(),g=Nu(i,{relative:u});return L.useCallback(E=>{if(aR(E,e)){E.preventDefault();let S=t!==void 0?t:gu(p)===gu(g);m(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,i,o,u,h])}var xR=0,NR=()=>`__${String(++xR)}__`;function DR(){let{router:i}=I0("useSubmit"),{basename:e}=L.useContext(Ci),t=QA();return L.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=uR(s,e);if(o.navigate===!1){let E=o.fetcherKey||NR();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function OR(i,{relative:e}={}){let{basename:t}=L.useContext(Ci),s=L.useContext(xi);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Nu(i||".",{relative:e})},h=gr();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:or([t,u.pathname])),gu(u)}function kR(i,{relative:e}={}){let t=L.useContext(_0);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=I0("useViewTransitionState"),o=Nu(i,{relative:e});if(!t.isTransitioning)return!1;let u=cr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=cr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ph(o.pathname,h)!=null||Ph(o.pathname,u)!=null}var MR=h0();const PR=()=>{};var wE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},VR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},x0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(A=64)),s.push(t[E],t[S],t[A],t[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(C0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):VR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const S=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new LR;const A=u<<2|m>>4;if(s.push(A),g!==64){const M=m<<4&240|g>>2;if(s.push(M),S!==64){const U=g<<6&192|S;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class LR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UR=function(i){const e=C0(i);return x0.encodeByteArray(e,!0)},Vh=function(i){return UR(i).replace(/\./g,"")},N0=function(i){try{return x0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=()=>jR().__FIREBASE_DEFAULTS__,BR=()=>{if(typeof process>"u"||typeof wE>"u")return;const i=wE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},qR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&N0(i[1]);return e&&JSON.parse(e)},lf=()=>{try{return PR()||zR()||BR()||qR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},D0=i=>lf()?.emulatorHosts?.[i],O0=i=>{const e=D0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},k0=()=>lf()?.config,M0=i=>lf()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Vh(JSON.stringify(t)),Vh(JSON.stringify(h)),""].join(".")}const uu={};function FR(){const i={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?i.emulator.push(e):i.prod.push(e);return i}function GR(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let SE=!1;function Fp(i,e){if(typeof window>"u"||typeof document>"u"||!gs(window.location.host)||uu[i]===e||uu[i]||SE)return;uu[i]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=FR().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{SE=!0,h()},A}function E(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=GR(s),M=t("text"),U=document.getElementById(M)||document.createElement("span"),B=t("learnmore"),P=document.getElementById(B)||document.createElement("a"),q=t("preprendIcon"),ne=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Q=A.element;m(Q),E(P,B);const ie=g();p(ne,q),Q.append(ne,U,P,ie),document.body.appendChild(Q)}u?(U.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function YR(){const i=lf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function XR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WR(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function ZR(){return!YR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JR(){try{return typeof indexedDB=="object"}catch{return!1}}function eI(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="FirebaseError";class Ni extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=tI,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?nI(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ni(o,m,s)}}function nI(i,e){return i.replace(iI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const iI=/\{\$([^}]+)}/g;function rI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ca(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(AE(u)&&AE(h)){if(!ca(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function AE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function iu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ru(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function sI(i,e){const t=new aI(i,e);return t.subscribe.bind(t)}class aI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");oI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Gm),o.error===void 0&&(o.error=Gm),o.complete===void 0&&(o.complete=Gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(i){return i&&i._delegate?i._delegate:i}class as{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new HR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cI(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(i){return i===sa?void 0:i}function cI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const fI={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},dI=Oe.INFO,mI={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},pI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=mI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gp{constructor(e){this.name=e,this._logLevel=dI,this._logHandler=pI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const gI=(i,e)=>e.some(t=>i instanceof t);let RE,IE;function yI(){return RE||(RE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _I(){return IE||(IE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,lp=new WeakMap,L0=new WeakMap,Km=new WeakMap,Kp=new WeakMap;function vI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(ts(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&V0.set(t,i)}).catch(()=>{}),Kp.set(e,i),e}function EI(i){if(lp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});lp.set(i,e)}let up={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return lp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||L0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ts(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function TI(i){up=i(up)}function bI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Ym(this),e,...t);return L0.set(s,e.sort?e.sort():[e]),ts(s)}:_I().includes(i)?function(...e){return i.apply(Ym(this),e),ts(V0.get(this))}:function(...e){return ts(i.apply(Ym(this),e))}}function wI(i){return typeof i=="function"?bI(i):(i instanceof IDBTransaction&&EI(i),gI(i,yI())?new Proxy(i,up):i)}function ts(i){if(i instanceof IDBRequest)return vI(i);if(Km.has(i))return Km.get(i);const e=wI(i);return e!==i&&(Km.set(i,e),Kp.set(e,i)),e}const Ym=i=>Kp.get(i);function SI(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ts(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ts(h.result),p.oldVersion,p.newVersion,ts(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const AI=["get","getKey","getAll","getAllKeys","count"],RI=["put","add","delete","clear"],$m=new Map;function CE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=RI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||AI.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return $m.set(e,u),u}TI(i=>({...i,get:(e,t,s)=>CE(e,t)||i.get(e,t,s),has:(e,t)=>!!CE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function CI(i){return i.getComponent()?.type==="VERSION"}const cp="@firebase/app",xE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new Gp("@firebase/app"),xI="@firebase/app-compat",NI="@firebase/analytics-compat",DI="@firebase/analytics",OI="@firebase/app-check-compat",kI="@firebase/app-check",MI="@firebase/auth",PI="@firebase/auth-compat",VI="@firebase/database",LI="@firebase/data-connect",UI="@firebase/database-compat",jI="@firebase/functions",zI="@firebase/functions-compat",BI="@firebase/installations",qI="@firebase/installations-compat",HI="@firebase/messaging",FI="@firebase/messaging-compat",GI="@firebase/performance",KI="@firebase/performance-compat",YI="@firebase/remote-config",$I="@firebase/remote-config-compat",QI="@firebase/storage",XI="@firebase/storage-compat",WI="@firebase/firestore",ZI="@firebase/ai",JI="@firebase/firestore-compat",e2="firebase",t2="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",n2={[cp]:"fire-core",[xI]:"fire-core-compat",[DI]:"fire-analytics",[NI]:"fire-analytics-compat",[kI]:"fire-app-check",[OI]:"fire-app-check-compat",[MI]:"fire-auth",[PI]:"fire-auth-compat",[VI]:"fire-rtdb",[LI]:"fire-data-connect",[UI]:"fire-rtdb-compat",[jI]:"fire-fn",[zI]:"fire-fn-compat",[BI]:"fire-iid",[qI]:"fire-iid-compat",[HI]:"fire-fcm",[FI]:"fire-fcm-compat",[GI]:"fire-perf",[KI]:"fire-perf-compat",[YI]:"fire-rc",[$I]:"fire-rc-compat",[QI]:"fire-gcs",[XI]:"fire-gcs-compat",[WI]:"fire-fst",[JI]:"fire-fst-compat",[ZI]:"fire-vertex","fire-js":"fire-js",[e2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,i2=new Map,fp=new Map;function NE(i,e){try{i.container.addComponent(e)}catch(t){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ha(i){const e=i.name;if(fp.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,i);for(const t of Lh.values())NE(t,i);for(const t of i2.values())NE(t,i);return!0}function uf(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function zn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new Du("app","Firebase",r2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=t2;function U0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:hp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(t||(t=k0()),!t)throw ns.create("no-options");const u=Lh.get(o);if(u){if(ca(t,u.options)&&ca(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const h=new hI(o);for(const p of fp.values())h.addComponent(p);const m=new s2(t,s,h);return Lh.set(o,m),m}function Yp(i=hp){const e=Lh.get(i);if(!e&&i===hp&&k0())return U0();if(!e)throw ns.create("no-app",{appName:i});return e}function _i(i,e,t){let s=n2[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(h.join(" "));return}ha(new as(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="firebase-heartbeat-database",o2=1,yu="firebase-heartbeat-store";let Qm=null;function j0(){return Qm||(Qm=SI(a2,o2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(yu)}catch(t){console.warn(t)}}}}).catch(i=>{throw ns.create("idb-open",{originalErrorMessage:i.message})})),Qm}async function l2(i){try{const t=(await j0()).transaction(yu),s=await t.objectStore(yu).get(z0(i));return await t.done,s}catch(e){if(e instanceof Ni)hr.warn(e.message);else{const t=ns.create("idb-get",{originalErrorMessage:e?.message});hr.warn(t.message)}}}async function DE(i,e){try{const s=(await j0()).transaction(yu,"readwrite");await s.objectStore(yu).put(e,z0(i)),await s.done}catch(t){if(t instanceof Ni)hr.warn(t.message);else{const s=ns.create("idb-set",{originalErrorMessage:t?.message});hr.warn(s.message)}}}function z0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=1024,c2=30;class h2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new d2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=OE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>c2){const o=m2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=OE(),{heartbeatsToSend:t,unsentEntries:s}=f2(this._heartbeatsCache.heartbeats),o=Vh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hr.warn(e),""}}}function OE(){return new Date().toISOString().substring(0,10)}function f2(i,e=u2){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),kE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),kE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class d2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JR()?eI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await l2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return DE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return DE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kE(i){return Vh(JSON.stringify({version:2,heartbeats:i})).length}function m2(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(i){ha(new as("platform-logger",e=>new II(e),"PRIVATE")),ha(new as("heartbeat",e=>new h2(e),"PRIVATE")),_i(cp,xE,i),_i(cp,xE,"esm2020"),_i("fire-js","")}p2("");var g2="firebase",y2="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(g2,y2,"app");function B0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _2=B0,q0=new Du("auth","Firebase",B0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Gp("@firebase/auth");function v2(i,...e){Uh.logLevel<=Oe.WARN&&Uh.warn(`Auth (${va}): ${i}`,...e)}function Ah(i,...e){Uh.logLevel<=Oe.ERROR&&Uh.error(`Auth (${va}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(i,...e){throw $p(i,...e)}function vi(i,...e){return $p(i,...e)}function H0(i,e,t){const s={..._2(),[e]:t};return new Du("auth","Firebase",s).create(e,{appName:i.name})}function is(i){return H0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $p(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return q0.create(i,...e)}function Ee(i,e,...t){if(!i)throw $p(e,...t)}function rr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ah(e),new Error(e)}function fr(i,e){i||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){return typeof self<"u"&&self.location?.href||""}function E2(){return ME()==="http:"||ME()==="https:"}function ME(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E2()||QR()||"connection"in navigator)?navigator.onLine:!0}function b2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,fr(t>e,"Short delay should be less than long delay!"),this.isMobile=KR()||XR()}get(){return T2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(i,e){fr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A2=new ku(3e4,6e4);function Ea(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ys(i,e,t,s,o={}){return G0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Ou({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return $R()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&gs(i.emulatorConfig.host)&&(g.credentials="include"),F0.fetch()(await K0(i,i.config.apiHost,t,m),g)})}async function G0(i,e,t){i._canInitEmulator=!1;const s={...w2,...e};try{const o=new I2(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ph(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ph(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw ph(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw H0(i,E,g);Wn(i,E)}}catch(o){if(o instanceof Ni)throw o;Wn(i,"network-request-failed",{message:String(o)})}}async function cf(i,e,t,s,o={}){const u=await ys(i,e,t,s,o);return"mfaPendingCredential"in u&&Wn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function K0(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?Qp(i.config,o):`${i.config.apiScheme}://${o}`;return S2.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function R2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class I2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),A2.get())})}}function ph(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=vi(i,e,s);return o.customData._tokenResponse=t,o}function PE(i){return i!==void 0&&i.enterprise!==void 0}class C2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return R2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function x2(i,e){return ys(i,"GET","/v2/recaptchaConfig",Ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(i,e){return ys(i,"POST","/v1/accounts:delete",e)}async function jh(i,e){return ys(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D2(i,e=!1){const t=nt(i),s=await t.getIdToken(e),o=Xp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:cu(Xm(o.auth_time)),issuedAtTime:cu(Xm(o.iat)),expirationTime:cu(Xm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Xm(i){return Number(i)*1e3}function Xp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=N0(t);return o?JSON.parse(o):(Ah("Failed to decode base64 JWT payload"),null)}catch(o){return Ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function VE(i){const e=Xp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ni&&O2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function O2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(i){const e=i.auth,t=await i.getIdToken(),s=await _u(i,jh(e,{idToken:t}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Y0(o.providerUserInfo):[],h=P2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function M2(i){const e=nt(i);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function P2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Y0(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(i,e){const t=await G0(i,{},async()=>{const s=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await K0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&gs(i.emulatorConfig.host)&&(p.credentials="include"),F0.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function L2(i,e){return ys(i,"POST","/v2/accounts:revokeToken",Ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=VE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await V2(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new wo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Qn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new k2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return D2(this,e)}reload(){return M2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await zh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await _u(this,N2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:S,emailVerified:A,isAnonymous:M,providerData:U,stsTokenManager:B}=t;Ee(S&&B,e,"internal-error");const P=wo.fromJSON(this.name,B);Ee(typeof S=="string",e,"internal-error"),Kr(s,e.name),Kr(o,e.name),Ee(typeof A=="boolean",e,"internal-error"),Ee(typeof M=="boolean",e,"internal-error"),Kr(u,e.name),Kr(h,e.name),Kr(m,e.name),Kr(p,e.name),Kr(g,e.name),Kr(E,e.name);const q=new Qn({uid:S,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:E});return U&&Array.isArray(U)&&(q.providerData=U.map(ne=>({...ne}))),p&&(q._redirectEventId=p),q}static async _fromIdTokenResponse(e,t,s=!1){const o=new wo;o.updateFromServerResponse(t);const u=new Qn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await zh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Y0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new wo;m.updateFromIdToken(s);const p=new Qn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;function sr(i){fr(i instanceof Function,"Expected a class definition");let e=LE.get(i);return e?(fr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,LE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$0.type="NONE";const UE=$0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(i,e,t){return`firebase:${i}:${e}:${t}`}class So{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Rh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jh(this.auth,{idToken:e}).catch(()=>{});return t?Qn._fromGetAccountInfoResponse(this.auth,t,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new So(sr(UE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||sr(UE);const h=Rh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(h);if(E){let S;if(typeof E=="string"){const A=await jh(e,{idToken:E}).catch(()=>{});if(!A)break;S=await Qn._fromGetAccountInfoResponse(e,A,E)}else S=Qn._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new So(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new So(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eb(e))return"Blackberry";if(tb(e))return"Webos";if(X0(e))return"Safari";if((e.includes("chrome/")||W0(e))&&!e.includes("edge/"))return"Chrome";if(J0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function Q0(i=rn()){return/firefox\//i.test(i)}function X0(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W0(i=rn()){return/crios\//i.test(i)}function Z0(i=rn()){return/iemobile/i.test(i)}function J0(i=rn()){return/android/i.test(i)}function eb(i=rn()){return/blackberry/i.test(i)}function tb(i=rn()){return/webos/i.test(i)}function Wp(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function U2(i=rn()){return Wp(i)&&!!window.navigator?.standalone}function j2(){return WR()&&document.documentMode===10}function nb(i=rn()){return Wp(i)||J0(i)||tb(i)||eb(i)||/windows phone/i.test(i)||Z0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(i,e=[]){let t;switch(i){case"Browser":t=jE(rn());break;case"Worker":t=`${jE(rn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${va}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(i,e={}){return ys(i,"GET","/v2/passwordPolicy",Ea(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=6;class H2{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??q2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zE(this),this.idTokenSubscription=new zE(this),this.beforeStateQueue=new z2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jh(this,{idToken:e}),s=await Qn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(is(this));const t=e?nt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await B2(this),t=new H2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await L2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&sr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ib(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&v2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lo(i){return nt(i)}class zE{constructor(e){this.auth=e,this.observer=null,this.addObserver=sI(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G2(i){hf=i}function rb(i){return hf.loadJS(i)}function K2(){return hf.recaptchaEnterpriseScript}function Y2(){return hf.gapiScript}function $2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Q2{constructor(){this.enterprise=new X2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class X2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const W2="recaptcha-enterprise",sb="NO_RECAPTCHA";class Z2{constructor(e){this.type=W2,this.auth=Lo(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{x2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new C2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;PE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(sb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Q2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&PE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=K2();p.length!==0&&(p+=m),rb(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function BE(i,e,t,s=!1,o=!1){const u=new Z2(i);let h;if(o)h=sb;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function qE(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await BE(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await BE(i,e,t,t==="getOobCode");return s(i,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(i,e){const t=uf(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ca(u,e??{}))return o;Wn(o,"already-initialized")}return t.initialize({options:e})}function eC(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(sr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function tC(i,e,t){const s=Lo(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ab(e),{host:h,port:m}=nC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ca(g,s.config.emulator)&&ca(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,gs(h)?(Hp(`${u}//${h}${p}`),Fp("Auth",!0)):iC()}function ab(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function nC(i){const e=ab(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:HE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:HE(h)}}}function HE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function iC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,t){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function rC(i,e){return ys(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(i,e){return cf(i,"POST","/v1/accounts:signInWithPassword",Ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(i,e){return cf(i,"POST","/v1/accounts:signInWithEmailLink",Ea(i,e))}async function oC(i,e){return cf(i,"POST","/v1/accounts:signInWithEmailLink",Ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends Zp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new vu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new vu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qE(e,t,"signInWithPassword",sC);case"emailLink":return aC(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qE(e,s,"signUpPassword",rC);case"emailLink":return oC(e,{idToken:t,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i,e){return cf(i,"POST","/v1/accounts:signInWithIdp",Ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="http://localhost";class fa extends Zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new fa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ao(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ao(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ao(e,t)}buildRequest(){const e={requestUri:lC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cC(i){const e=iu(ru(i)).link,t=e?iu(ru(e)).deep_link_id:null,s=iu(ru(i)).deep_link_id;return(s?iu(ru(s)).link:null)||s||t||e||i}class Jp{constructor(e){const t=iu(ru(e)),s=t.apiKey??null,o=t.oobCode??null,u=uC(t.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=cC(e);try{return new Jp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,t){return vu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Jp.parseLink(t);return Ee(s,"argument-error"),vu._fromEmailAndCode(e,s.code,s.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Mu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fa._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Qr.credential(t,s)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Mu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Mu{constructor(){super("twitter.com")}static credential(e,t){return fa._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Wr.credential(t,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Qn._fromIdTokenResponse(e,s,o),h=FE(s);return new xo({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=FE(s);return new xo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function FE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends Ni{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Bh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Bh(e,t,s,o)}}function lb(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Bh._fromErrorAndOperation(i,u,e,s):u})}async function hC(i,e,t=!1){const s=await _u(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return xo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(i,e,t=!1){const{auth:s}=i;if(zn(s.app))return Promise.reject(is(s));const o="reauthenticate";try{const u=await _u(i,lb(s,o,e,i),t);Ee(u.idToken,s,"internal-error");const h=Xp(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(i.uid===m,s,"user-mismatch"),xo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(i,e,t=!1){if(zn(i.app))return Promise.reject(is(i));const s="signIn",o=await lb(i,s,e),u=await xo._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function dC(i,e){return ub(Lo(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(i){const e=Lo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function pC(i,e,t){return zn(i.app)?Promise.reject(is(i)):dC(nt(i),Uo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&mC(i),s})}function gC(i,e,t,s){return nt(i).onIdTokenChanged(e,t,s)}function yC(i,e,t){return nt(i).beforeAuthStateChanged(e,t)}function cb(i,e,t,s){return nt(i).onAuthStateChanged(e,t,s)}function pp(i){return nt(i).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=1e3,vC=10;class fb extends hb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);j2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},_C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fb.type="LOCAL";const EC=fb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends hb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}db.type="SESSION";const mb=db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new ff(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await TC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=eg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function wC(i){Ei().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function SC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AC(){return navigator?.serviceWorker?.controller||null}function RC(){return pb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="firebaseLocalStorageDb",IC=1,Hh="firebaseLocalStorage",yb="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function df(i,e){return i.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function CC(){const i=indexedDB.deleteDatabase(gb);return new Pu(i).toPromise()}function gp(){const i=indexedDB.open(gb,IC);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Hh,{keyPath:yb})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Hh)?e(s):(s.close(),await CC(),e(await gp()))})})}async function GE(i,e,t){const s=df(i,!0).put({[yb]:e,value:t});return new Pu(s).toPromise()}async function xC(i,e){const t=df(i,!1).get(e),s=await new Pu(t).toPromise();return s===void 0?null:s.value}function KE(i,e){const t=df(i,!0).delete(e);return new Pu(t).toPromise()}const NC=800,DC=3;class _b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>DC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(RC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SC(),!this.activeServiceWorker)return;this.sender=new bC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gp();return await GE(e,qh,"1"),await KE(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>GE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>xC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>KE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=df(o,!1).getAll();return new Pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_b.type="LOCAL";const OC=_b;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(i,e){return e?sr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends Zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function MC(i){return ub(i.auth,new tg(i),i.bypassAuthState)}function PC(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),fC(t,new tg(i),i.bypassAuthState)}async function VC(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),hC(t,new tg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MC;case"linkViaPopup":case"linkViaRedirect":return VC;case"reauthViaPopup":case"reauthViaRedirect":return PC;default:Wn(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new ku(2e3,1e4);class bo extends vb{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LC.get())};e()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="pendingRedirect",Ih=new Map;class jC extends vb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ih.get(this.auth._key());if(!e){try{const s=await zC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ih.set(this.auth._key(),e)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zC(i,e){const t=HC(e),s=qC(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function BC(i,e){Ih.set(i._key(),e)}function qC(i){return sr(i._redirectPersistence)}function HC(i){return Rh(UC,i.config.apiKey,i.name)}async function FC(i,e,t=!1){if(zn(i.app))return Promise.reject(is(i));const s=Lo(i),o=kC(s,e),h=await new jC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=600*1e3;class KC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Eb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(vi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GC&&this.cachedEventUids.clear(),this.cachedEventUids.has(YE(e))}saveEventToCache(e){this.cachedEventUids.add(YE(e)),this.lastProcessedEventTime=Date.now()}}function YE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Eb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function YC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Eb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(i,e={}){return ys(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;async function WC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await $C(i);for(const t of e)try{if(ZC(t))return}catch{}Wn(i,"unauthorized-domain")}function ZC(i){const e=dp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!XC.test(t))return!1;if(QC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new ku(3e4,6e4);function $E(){const i=Ei().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function ex(i){return new Promise((e,t)=>{function s(){$E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$E(),t(vi(i,"network-request-failed"))},timeout:JC.get()})}if(Ei().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ei().gapi?.load)s();else{const o=$2("iframefcb");return Ei()[o]=()=>{gapi.load?s():t(vi(i,"network-request-failed"))},rb(`${Y2()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Ch=null,e})}let Ch=null;function tx(i){return Ch=Ch||ex(i),Ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new ku(5e3,15e3),ix="__/auth/iframe",rx="emulator/auth/iframe",sx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ax=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ox(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Qp(e,rx):`https://${i.config.authDomain}/${ix}`,s={apiKey:e.apiKey,appName:i.name,v:va},o=ax.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Ou(s).slice(1)}`}async function lx(i){const e=await tx(i),t=Ei().gapi;return Ee(t,i,"internal-error"),e.open({where:document.body,url:ox(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=vi(i,"network-request-failed"),m=Ei().setTimeout(()=>{u(h)},nx.get());function p(){Ei().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cx=500,hx=600,fx="_blank",dx="http://localhost";class QE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mx(i,e,t,s=cx,o=hx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...ux,width:s.toString(),height:o.toString(),top:u,left:h},g=rn().toLowerCase();t&&(m=W0(g)?fx:t),Q0(g)&&(e=e||dx,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[M,U])=>`${A}${M}=${U},`,"");if(U2(g)&&m!=="_self")return px(e||"",m),new QE(null);const S=window.open(e||"",m,E);Ee(S,i,"popup-blocked");try{S.focus()}catch{}return new QE(S)}function px(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="__/auth/handler",yx="emulator/auth/handler",_x=encodeURIComponent("fac");async function XE(i,e,t,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:va,eventId:o};if(e instanceof ob){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",rI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof Mu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${_x}=${encodeURIComponent(p)}`:"";return`${vx(i)}?${Ou(m).slice(1)}${g}`}function vx({config:i}){return i.emulator?Qp(i,yx):`https://${i.authDomain}/${gx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="webStorageSupport";class Ex{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mb,this._completeRedirectFn=FC,this._overrideRedirectResult=BC}async _openPopup(e,t,s,o){fr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await XE(e,t,s,dp(),o);return mx(e,u,eg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await XE(e,t,s,dp(),o);return wC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(fr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await lx(e),s=new KC(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wm,{type:Wm},o=>{const u=o?.[0]?.[Wm];u!==void 0&&t(!!u),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nb()||X0()||Wp()}}const Tx=Ex;var WE="@firebase/auth",ZE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sx(i){ha(new as("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ib(i)},g=new F2(s,o,u,p);return eC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ha(new as("auth-internal",e=>{const t=Lo(e.getProvider("auth").getImmediate());return(s=>new bx(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(WE,ZE,wx(i)),_i(WE,ZE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=300,Rx=M0("authIdTokenMaxAge")||Ax;let JE=null;const Ix=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Rx)return;const o=t?.token;JE!==o&&(JE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Cx(i=Yp()){const e=uf(i,"auth");if(e.isInitialized())return e.getImmediate();const t=J2(i,{popupRedirectResolver:Tx,persistence:[OC,EC,mb]}),s=M0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Ix(u.toString());yC(t,h,()=>h(t.currentUser)),gC(t,m=>h(m))}}const o=D0("auth");return o&&tC(t,`http://${o}`),t}function xx(){return document.getElementsByTagName("head")?.[0]??document}G2({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=vi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",xx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sx("Browser");var eT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rs,Tb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function I(){}I.prototype=R.prototype,N.D=R.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(O,V,j){for(var x=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)x[ht-2]=arguments[ht];return R.prototype[V].apply(O,x)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,I){I||(I=0);var O=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)O[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;16>V;++V)O[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=N.g[0],I=N.g[1],V=N.g[2];var j=N.g[3],x=R+(j^I&(V^j))+O[0]+3614090360&4294967295;R=I+(x<<7&4294967295|x>>>25),x=j+(V^R&(I^V))+O[1]+3905402710&4294967295,j=R+(x<<12&4294967295|x>>>20),x=V+(I^j&(R^I))+O[2]+606105819&4294967295,V=j+(x<<17&4294967295|x>>>15),x=I+(R^V&(j^R))+O[3]+3250441966&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(j^I&(V^j))+O[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=j+(V^R&(I^V))+O[5]+1200080426&4294967295,j=R+(x<<12&4294967295|x>>>20),x=V+(I^j&(R^I))+O[6]+2821735955&4294967295,V=j+(x<<17&4294967295|x>>>15),x=I+(R^V&(j^R))+O[7]+4249261313&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(j^I&(V^j))+O[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=j+(V^R&(I^V))+O[9]+2336552879&4294967295,j=R+(x<<12&4294967295|x>>>20),x=V+(I^j&(R^I))+O[10]+4294925233&4294967295,V=j+(x<<17&4294967295|x>>>15),x=I+(R^V&(j^R))+O[11]+2304563134&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(j^I&(V^j))+O[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=j+(V^R&(I^V))+O[13]+4254626195&4294967295,j=R+(x<<12&4294967295|x>>>20),x=V+(I^j&(R^I))+O[14]+2792965006&4294967295,V=j+(x<<17&4294967295|x>>>15),x=I+(R^V&(j^R))+O[15]+1236535329&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(V^j&(I^V))+O[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^V&(R^I))+O[6]+3225465664&4294967295,j=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(j^R))+O[11]+643717713&4294967295,V=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(V^j))+O[0]+3921069994&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(V^j&(I^V))+O[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^V&(R^I))+O[10]+38016083&4294967295,j=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(j^R))+O[15]+3634488961&4294967295,V=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(V^j))+O[4]+3889429448&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(V^j&(I^V))+O[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^V&(R^I))+O[14]+3275163606&4294967295,j=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(j^R))+O[3]+4107603335&4294967295,V=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(V^j))+O[8]+1163531501&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(V^j&(I^V))+O[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^V&(R^I))+O[2]+4243563512&4294967295,j=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(j^R))+O[7]+1735328473&4294967295,V=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(V^j))+O[12]+2368359562&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(I^V^j)+O[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^V)+O[8]+2272392833&4294967295,j=R+(x<<11&4294967295|x>>>21),x=V+(j^R^I)+O[11]+1839030562&4294967295,V=j+(x<<16&4294967295|x>>>16),x=I+(V^j^R)+O[14]+4259657740&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(I^V^j)+O[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^V)+O[4]+1272893353&4294967295,j=R+(x<<11&4294967295|x>>>21),x=V+(j^R^I)+O[7]+4139469664&4294967295,V=j+(x<<16&4294967295|x>>>16),x=I+(V^j^R)+O[10]+3200236656&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(I^V^j)+O[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^V)+O[0]+3936430074&4294967295,j=R+(x<<11&4294967295|x>>>21),x=V+(j^R^I)+O[3]+3572445317&4294967295,V=j+(x<<16&4294967295|x>>>16),x=I+(V^j^R)+O[6]+76029189&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(I^V^j)+O[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^V)+O[12]+3873151461&4294967295,j=R+(x<<11&4294967295|x>>>21),x=V+(j^R^I)+O[15]+530742520&4294967295,V=j+(x<<16&4294967295|x>>>16),x=I+(V^j^R)+O[2]+3299628645&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(V^(I|~j))+O[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~V))+O[7]+1126891415&4294967295,j=R+(x<<10&4294967295|x>>>22),x=V+(R^(j|~I))+O[14]+2878612391&4294967295,V=j+(x<<15&4294967295|x>>>17),x=I+(j^(V|~R))+O[5]+4237533241&4294967295,I=V+(x<<21&4294967295|x>>>11),x=R+(V^(I|~j))+O[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~V))+O[3]+2399980690&4294967295,j=R+(x<<10&4294967295|x>>>22),x=V+(R^(j|~I))+O[10]+4293915773&4294967295,V=j+(x<<15&4294967295|x>>>17),x=I+(j^(V|~R))+O[1]+2240044497&4294967295,I=V+(x<<21&4294967295|x>>>11),x=R+(V^(I|~j))+O[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~V))+O[15]+4264355552&4294967295,j=R+(x<<10&4294967295|x>>>22),x=V+(R^(j|~I))+O[6]+2734768916&4294967295,V=j+(x<<15&4294967295|x>>>17),x=I+(j^(V|~R))+O[13]+1309151649&4294967295,I=V+(x<<21&4294967295|x>>>11),x=R+(V^(I|~j))+O[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~V))+O[11]+3174756917&4294967295,j=R+(x<<10&4294967295|x>>>22),x=V+(R^(j|~I))+O[2]+718787259&4294967295,V=j+(x<<15&4294967295|x>>>17),x=I+(j^(V|~R))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var I=R-this.blockSize,O=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=I;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<R;)if(O[V++]=N.charCodeAt(j++),V==this.blockSize){o(this,O),V=0;break}}else for(;j<R;)if(O[V++]=N[j++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var I=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=I&255,I/=256;for(this.u(N),N=Array(16),R=I=0;4>R;++R)for(var O=0;32>O;O+=8)N[I++]=this.g[R]>>>O&255;return N};function u(N,R){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=R(N)}function h(N,R){this.h=R;for(var I=[],O=!0,V=N.length-1;0<=V;V--){var j=N[V]|0;O&&j==R||(I[V]=j,O=!1)}this.g=I}var m={};function p(N){return-128<=N&&128>N?u(N,function(R){return new h([R|0],0>R?-1:0)}):new h([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return P(g(-N));for(var R=[],I=1,O=0;N>=I;O++)R[O]=N/I|0,I*=4294967296;return new h(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return P(E(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),O=S,V=0;V<N.length;V+=8){var j=Math.min(8,N.length-V),x=parseInt(N.substring(V,V+j),R);8>j?(j=g(Math.pow(R,j)),O=O.j(j).add(g(x))):(O=O.j(I),O=O.add(g(x)))}return O}var S=p(0),A=p(1),M=p(16777216);i=h.prototype,i.m=function(){if(B(this))return-P(this).m();for(var N=0,R=1,I=0;I<this.g.length;I++){var O=this.i(I);N+=(0<=O?O:4294967296+O)*R,R*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(U(this))return"0";if(B(this))return"-"+P(this).toString(N);for(var R=g(Math.pow(N,6)),I=this,O="";;){var V=ie(I,R).g;I=q(I,V.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=V,U(I))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function U(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function B(N){return N.h==-1}i.l=function(N){return N=q(this,N),B(N)?-1:U(N)?0:1};function P(N){for(var R=N.g.length,I=[],O=0;O<R;O++)I[O]=~N.g[O];return new h(I,~N.h).add(A)}i.abs=function(){return B(this)?P(this):this},i.add=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],O=0,V=0;V<=R;V++){var j=O+(this.i(V)&65535)+(N.i(V)&65535),x=(j>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);O=x>>>16,j&=65535,x&=65535,I[V]=x<<16|j}return new h(I,I[I.length-1]&-2147483648?-1:0)};function q(N,R){return N.add(P(R))}i.j=function(N){if(U(this)||U(N))return S;if(B(this))return B(N)?P(this).j(P(N)):P(P(this).j(N));if(B(N))return P(this.j(P(N)));if(0>this.l(M)&&0>N.l(M))return g(this.m()*N.m());for(var R=this.g.length+N.g.length,I=[],O=0;O<2*R;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<N.g.length;V++){var j=this.i(O)>>>16,x=this.i(O)&65535,ht=N.i(V)>>>16,We=N.i(V)&65535;I[2*O+2*V]+=x*We,ne(I,2*O+2*V),I[2*O+2*V+1]+=j*We,ne(I,2*O+2*V+1),I[2*O+2*V+1]+=x*ht,ne(I,2*O+2*V+1),I[2*O+2*V+2]+=j*ht,ne(I,2*O+2*V+2)}for(O=0;O<R;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=R;O<2*R;O++)I[O]=0;return new h(I,0)};function ne(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function Q(N,R){this.g=N,this.h=R}function ie(N,R){if(U(R))throw Error("division by zero");if(U(N))return new Q(S,S);if(B(N))return R=ie(P(N),R),new Q(P(R.g),P(R.h));if(B(R))return R=ie(N,P(R)),new Q(P(R.g),R.h);if(30<N.g.length){if(B(N)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var I=A,O=R;0>=O.l(N);)I=se(I),O=se(O);var V=he(I,1),j=he(O,1);for(O=he(O,2),I=he(I,2);!U(O);){var x=j.add(O);0>=x.l(N)&&(V=V.add(I),j=x),O=he(O,1),I=he(I,1)}return R=q(N,V.j(R)),new Q(V,R)}for(V=S;0<=N.l(R);){for(I=Math.max(1,Math.floor(N.m()/R.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=g(I),x=j.j(R);B(x)||0<x.l(N);)I-=O,j=g(I),x=j.j(R);U(j)&&(j=A),V=V.add(j),N=q(N,x)}return new Q(V,N)}i.A=function(N){return ie(this,N).h},i.and=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)&N.i(O);return new h(I,this.h&N.h)},i.or=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)|N.i(O);return new h(I,this.h|N.h)},i.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)^N.i(O);return new h(I,this.h^N.h)};function se(N){for(var R=N.g.length+1,I=[],O=0;O<R;O++)I[O]=N.i(O)<<1|N.i(O-1)>>>31;return new h(I,N.h)}function he(N,R){var I=R>>5;R%=32;for(var O=N.g.length-I,V=[],j=0;j<O;j++)V[j]=0<R?N.i(j+I)>>>R|N.i(j+I+1)<<32-R:N.i(j+I);return new h(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Tb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,rs=h}).apply(typeof eT<"u"?eT:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bb,su,wb,xh,yp,Sb,Ab,Rb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var H=c[w];if(!(H in _))break e;_=_[H]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,H={next:function(){if(!w&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,w),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function M(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,H,$){for(var oe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)oe[Ve-2]=arguments[Ve];return y.prototype[H].apply(w,oe)}}function B(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function P(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const H=c.length||0,$=w.length||0;c.length=H+$;for(let oe=0;oe<$;oe++)c[H+oe]=w[oe]}else c.push(w)}}class q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ne(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var se=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function he(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(_ in w)c[_]=w[_];for(let $=0;$<I.length;$++)_=I[$],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Pe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ht{constructor(){this.h=this.g=null}add(y,_){const w=We.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var We=new q(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,Pe=new ht,D=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(re)}};var re=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){j(_)}var y=We;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(se){e:{try{ie(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}U(Ce,ae);var we={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Jn(c,y,_,w,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=H,this.key=++Je,this.da=this.fa=!1}function yr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Di(c){this.src=c,this.g={},this.h=0}Di.prototype.add=function(c,y,_,w,H){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var oe=ws(c,y,w,H);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new Jn(y,this.src,$,!!w,H),y.fa=_,c.push(y)),y};function bs(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],H=Array.prototype.indexOf.call(w,y,void 0),$;($=0<=H)&&Array.prototype.splice.call(w,H,1),$&&(yr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ws(c,y,_,w){for(var H=0;H<c.length;++H){var $=c[H];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==w)return H}return-1}var Ss="closure_lm_"+(1e6*Math.random()|0),Go={};function Fu(c,y,_,w,H){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Fu(c,y[$],_,w,H);return null}return _=Gu(_),c&&c[kt]?c.K(y,_,g(w)?!!w.capture:!1,H):In(c,y,_,!1,w,H)}function In(c,y,_,w,H,$){if(!y)throw Error("Invalid event type");var oe=g(H)?!!H.capture:!!H,Ve=Aa(c);if(Ve||(c[Ss]=Ve=new Di(c)),_=Ve.add(y,_,w,oe,$),_.proxy)return _;if(w=Lf(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)ye||(H=oe),H===void 0&&(H=!1),c.addEventListener(y.toString(),w,H);else if(c.attachEvent)c.attachEvent(As(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Lf(){function c(_){return y.call(c.src,c.listener,_)}const y=Uf;return c}function Ko(c,y,_,w,H){if(Array.isArray(y))for(var $=0;$<y.length;$++)Ko(c,y[$],_,w,H);else w=g(w)?!!w.capture:!!w,_=Gu(_),c&&c[kt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=ws($,_,w,H),-1<_&&(yr($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Aa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ws(y,_,w,H)),(_=-1<c?y[c]:null)&&Sa(_))}function Sa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[kt])bs(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(As(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Aa(y))?(bs(_,c),_.h==0&&(_.src=null,y[Ss]=null)):yr(c)}}}function As(c){return c in Go?Go[c]:Go[c]="on"+c}function Uf(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&Sa(c),c=_.call(w,y)}return c}function Aa(c){return c=c[Ss],c instanceof Di?c:null}var Yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gu(c){return typeof c=="function"?c:(c[Yo]||(c[Yo]=function(y){return c.handleEvent(y)}),c[Yo])}function ft(){ue.call(this),this.i=new Di(this),this.M=this,this.F=null}U(ft,ue),ft.prototype[kt]=!0,ft.prototype.removeEventListener=function(c,y,_,w){Ko(this,c,y,_,w)};function Fe(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var H=y;y=new ae(w,c),O(y,H)}if(H=!0,_)for(var $=_.length-1;0<=$;$--){var oe=y.g=_[$];H=yn(oe,w,!0,y)&&H}if(oe=y.g=c,H=yn(oe,w,!0,y)&&H,H=yn(oe,w,!1,y)&&H,_)for($=0;$<_.length;$++)oe=y.g=_[$],H=yn(oe,w,!1,y)&&H}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)yr(_[w]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ft.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function yn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,$=0;$<y.length;++$){var oe=y[$];if(oe&&!oe.da&&oe.capture==_){var Ve=oe.listener,Ct=oe.ha||oe.src;oe.fa&&bs(c.i,oe),H=Ve.call(Ct,w)!==!1&&H}}return H&&!w.defaultPrevented}function Wt(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ku(c){c.g=Wt(()=>{c.g=null,c.i&&(c.i=!1,Ku(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class jf extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ku(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){ue.call(this),this.h=c,this.g={}}U(Rs,ue);var Is=[];function Cs(c){he(c.g,function(y,_){this.g.hasOwnProperty(_)&&Sa(y)},c),c.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),Cs(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=m.JSON.stringify,Ra=m.JSON.parse,xs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function $o(){}$o.prototype.h=null;function Qo(c){return c.h||(c.h=c.i())}function Xo(){}var Oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){ae.call(this,"d")}U(ki,ae);function Wo(){ae.call(this,"c")}U(Wo,ae);var ei={},Zo=null;function _r(){return Zo=Zo||new ft}ei.La="serverreachability";function Ia(c){ae.call(this,ei.La,c)}U(Ia,ae);function vr(c){const y=_r();Fe(y,new Ia(y))}ei.STAT_EVENT="statevent";function Yu(c,y){ae.call(this,ei.STAT_EVENT,c),this.stat=y}U(Yu,ae);function st(c){const y=_r();Fe(y,new Yu(y,c))}ei.Ma="timingevent";function It(c,y){ae.call(this,ei.Ma,c),this.size=y}U(It,ae);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function Jo(c,y,_,w,H,$){c.info(function(){if(c.g)if($)for(var oe="",Ve=$.split("&"),Ct=0;Ct<Ve.length;Ct++){var Le=Ve[Ct].split("=");if(1<Le.length){var Pt=Le[0];Le=Le[1];var xt=Pt.split("_");oe=2<=xt.length&&xt[1]=="type"?oe+(Pt+"="+Le+"&"):oe+(Pt+"=redacted&")}}else oe=null;else oe=$;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+y+`
`+_+`
`+oe})}function zf(c,y,_,w,H,$,oe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+y+`
`+_+`
`+$+" "+oe})}function Er(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ns(c,_)+(w?" "+w:"")})}function $u(c,y){c.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function Ns(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var H=w[1];if(Array.isArray(H)&&!(1>H.length)){var $=H[0];if($!="noop"&&$!="stop"&&$!="close")for(var oe=1;oe<H.length;oe++)H[oe]=""}}}}return Hn(_)}catch{return y}}var Tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ni(){}U(ni,$o),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ti=new ni;function sn(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var el={},Ca={};function Fn(c,y,_){c.L=1,c.v=Ps(_n(y)),c.m=_,c.P=!0,Pi(c,null)}function Pi(c,y){c.F=Date.now(),Ds(c),c.A=_n(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),al(_.i,"t",w),c.C=0,_=c.j.J,c.h=new pt,c.g=cc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new jf(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Is[0]=H.toString()),H=Is);for(var $=0;$<H.length;$++){var oe=Fu(_,H[$],w||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),vr(),Jo(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const xt=On(this.g);var y=this.g.Ba();const Hi=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||xt!=4||y==7||(y==8||0>=Hi?vr(3):vr(2)),br(this);var _=this.g.Z();this.X=_;t:if(Qu(this)){var w=nc(this.g);c="";var H=w.length,$=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),ii(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!($&&y==H-1)});w.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,zf(this.i,this.u,this.A,this.l,this.R,xt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Ct=this.g;if((Ve=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Ve)){var Le=Ve;break t}}Le=null}if(_=Le)Er(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Os(this,_);else{this.o=!1,this.s=3,st(12),Bt(this),ii(this);break e}}if(this.P){_=!0;let qt;for(;!this.J&&this.C<oe.length;)if(qt=Xu(this,oe),qt==Ca){xt==4&&(this.s=4,st(14),_=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==el){this.s=4,st(15),Er(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else Er(this.i,this.l,qt,null),Os(this,qt);if(Qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||oe.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)Er(this.i,this.l,oe,"[Invalid Chunked Response]"),Bt(this),ii(this);else if(0<oe.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Hs(Pt),Pt.M=!0,st(11))}}else Er(this.i,this.l,oe,null),Os(this,oe);xt==4&&Bt(this),this.o&&!this.J&&(xt==4?oc(this.j,this):(this.o=!1,Ds(this)))}else Gf(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Bt(this),ii(this)}}}catch{}finally{}};function Qu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Xu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?Ca:(_=Number(y.substring(_,w)),isNaN(_)?el:(w+=1,w+_>y.length?Ca:(y=y.slice(w,w+_),c.C=w+_,y)))}sn.prototype.cancel=function(){this.J=!0,Bt(this)};function Ds(c){c.S=Date.now()+c.I,Wu(c,c.I)}function Wu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(A(c.ba,c),y)}function br(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?($u(this.i,this.A),this.L!=2&&(vr(),st(17)),Bt(this),this.s=2,ii(this)):Wu(this,this.S-c)};function ii(c){c.j.G==0||c.J||oc(c.j,c)}function Bt(c){br(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Cs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Os(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||tl(_.h,c))){if(!c.K&&tl(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)za(_),Ua(_);else break e;hl(_),st(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Et(A(_.Za,_),6e3));if(1>=Na(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else qi(_,11)}else if((c.K||_.g==c)&&za(_),!ne(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let Le=H[y];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Pt=Le[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const xt=Le[4];xt!=null&&(_.Aa=xt,_.j.info("SVER="+_.Aa));const Hi=Le[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(w=1.5*Hi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const qt=c.g;if(qt){const ci=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var $=w.h;$.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Da($,$.h),$.h=null))}if(w.D){const dl=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(w.ya=dl,Ye(w.I,w.D,dl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var oe=c;if(w.qa=uc(w,w.J?w.ia:null,w.W),oe.K){an(w.h,oe);var Ve=oe,Ct=w.L;Ct&&(Ve.I=Ct),Ve.B&&(br(Ve),Ds(Ve)),w.g=oe}else sc(w);0<_.i.length&&ja(_)}else Le[0]!="stop"&&Le[0]!="close"||qi(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?qi(_,7):ul(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}vr(4)}catch{}}var Zu=class{constructor(c,y){this.g=c,this.map=y}};function Vi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Na(c){return c.h?1:c.g?c.g.size:0}function tl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Da(c,y){c.g?c.g.add(y):c.h=y}function an(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vi.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return B(c.i)}function Bf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function Oa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function il(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Oa(c),w=Bf(c),H=w.length,$=0;$<H;$++)y.call(void 0,w[$],_&&_[$],c)}var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),H=null;if(0<=w){var $=c[_].substring(0,w);H=c[_].substring(w+1)}else $=c[_];y($,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,Ms(this,c.j),this.o=c.o,this.g=c.g,wr(this,c.s),this.l=c.l;var y=c.i,_=new Ui;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Li(this,_),this.m=c.m}else c&&(y=String(c).match(ks))?(this.h=!1,Ms(this,y[1]||"",!0),this.o=xn(y[2]||""),this.g=xn(y[3]||"",!0),wr(this,y[4]),this.l=xn(y[5]||"",!0),Li(this,y[6]||"",!0),this.m=xn(y[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Vs(y,rl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Vs(y,rl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Vs(_,_.charAt(0)=="/"?Hf:sl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Vs(_,ka)),c.join("")};function _n(c){return new Tt(c)}function Ms(c,y,_){c.j=_?xn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Li(c,y,_){y instanceof Ui?(c.i=y,ec(c.i,c.h)):(_||(y=Vs(y,Ff)),c.i=new Ui(y,c.h))}function Ye(c,y,_){c.i.set(y,_)}function Ps(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Ju),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ju(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var rl=/[#\/\?@]/g,sl=/[#\?:]/g,Hf=/[#\?]/g,Ff=/[#\?@]/g,ka=/#/g;function Ui(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&qf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Ui.prototype,i.add=function(c,y){Nn(this),this.i=null,c=ri(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ji(c,y){Nn(c),y=ri(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function zi(c,y){return Nn(c),y=ri(c,y),c.g.has(y)}i.forEach=function(c,y){Nn(this),this.g.forEach(function(_,w){_.forEach(function(H){c.call(y,H,w,this)},this)},this)},i.na=function(){Nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const H=c[w];for(let $=0;$<H.length;$++)_.push(y[w])}return _},i.V=function(c){Nn(this);let y=[];if(typeof c=="string")zi(this,c)&&(y=y.concat(this.g.get(ri(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Nn(this),this.i=null,c=ri(this,c),zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function al(c,y,_){ji(c,y),0<_.length&&(c.i=null,c.g.set(ri(c,y),B(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const $=encodeURIComponent(String(w)),oe=this.V(w);for(w=0;w<oe.length;w++){var H=$;oe[w]!==""&&(H+="="+encodeURIComponent(String(oe[w]))),c.push(H)}}return this.i=c.join("&")};function ri(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ec(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(_,w){var H=w.toLowerCase();w!=H&&(ji(this,w),al(this,H,_))},c)),c.j=y}function Ls(c,y){const _=new Cn;if(m.Image){const w=new Image;w.onload=M(Dn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=M(Dn,_,"TestLoadImage: error",!1,y,w),w.onabort=M(Dn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=M(Dn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Gn(c,y){const _=new Cn,w=new AbortController,H=setTimeout(()=>{w.abort(),Dn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then($=>{clearTimeout(H),$.ok?Dn(_,"TestPingServer: ok",!0,y):Dn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Dn(_,"TestPingServer: error",!1,y)})}function Dn(c,y,_,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(_)}catch{}}function Us(){this.g=new xs}function si(c,y,_){const w=_||"";try{il(c,function(H,$){let oe=H;g(H)&&(oe=Hn(H)),y.push(w+$+"="+encodeURIComponent(oe))})}catch(H){throw y.push(w+"type="+encodeURIComponent("_badmap")),H}}function Sr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Sr,$o),Sr.prototype.g=function(){return new Bi(this.l,this.j)},Sr.prototype.i=function(c){return function(){return c}}({});function Bi(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Bi,ft),i=Bi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,oi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ai(this):oi(this),this.readyState==3&&ol(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},i.Qa=function(c){this.g&&(this.response=c,ai(this))},i.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ll(c){let y="";return he(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Mt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=ll(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,y,_))}function qe(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(qe,ft);var Ma=/^https?$/i,js=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?Qo(this.o):Qo(ti),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){tc(this,$);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)_.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())_.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(js,y,void 0))||w||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,oe]of _)this.g.setRequestHeader($,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zs(this),this.u=!0,this.g.send(c),this.u=!1}catch($){tc(this,$)}};function tc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Pa(c),li(c)}function Pa(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),li(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},i.bb=function(){Va(this)};function Va(c){if(c.h&&typeof h<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Wt(c.Ea,0,c);else if(Fe(c,"readystatechange"),On(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=oe===0){var H=String(c.D).match(ks)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),w=!Ma.test(H?H.toLowerCase():"")}_=w}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var $=2<On(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Pa(c)}}finally{li(c)}}}}function li(c,y){if(c.g){zs(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=w}catch{}}}function zs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ra(y)}};function nc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gf(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(ne(c[w]))continue;var _=V(c[w]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[H]||[];y[H]=$,$.push(_)}N(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function La(c){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,c),this.cb=Bs("retryDelaySeedMs",1e4,c),this.Wa=Bs("forwardChannelMaxRetries",2,c),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(c&&c.concurrentRequestLimit),this.Da=new Us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=La.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){st(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=uc(this,null,this.W),ja(this)};function ul(c){if(ic(c),c.G==3){var y=c.U++,_=_n(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",y),Ye(_,"TYPE","terminate"),qs(c,_),y=new sn(c,c.j,y),y.L=2,y.v=Ps(_n(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=cc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ds(y)}lc(c)}function Ua(c){c.g&&(Hs(c),c.g.cancel(),c.g=null)}function ic(c){Ua(c),c.u&&(m.clearTimeout(c.u),c.u=null),za(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ja(c){if(!xa(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||D(),me||(le(),me=!0),Pe.add(y,c),c.B=0}}function Kf(c,y){return Na(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(A(c.Ga,c,y),fl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new sn(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),O($,this.S)):$=this.S),this.m!==null||this.O||(H.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=rc(this,H,y),_=_n(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),qs(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(ll($)))+"&"+y:this.m&&Mt(_,this.m,$)),Da(this.h,H),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",y),Ye(_,"SID","null"),H.T=!0,Fn(H,_,null)):Fn(H,_,y),this.G=2}}else this.G==3&&(c?cl(this,c):this.i.length==0||xa(this.h)||cl(this))};function cl(c,y){var _;y?_=y.l:_=c.U++;const w=_n(c.I);Ye(w,"SID",c.K),Ye(w,"RID",_),Ye(w,"AID",c.T),qs(c,w),c.m&&c.o&&Mt(w,c.m,c.o),_=new sn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=rc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Da(c.h,_),Fn(_,w,y)}function qs(c,y){c.H&&he(c.H,function(_,w){Ye(y,w,_)}),c.l&&il({},function(_,w){Ye(y,w,_)})}function rc(c,y,_){_=Math.min(c.i.length,_);var w=c.l?A(c.l.Na,c.l,c):null;e:{var H=c.i;let $=-1;for(;;){const oe=["count="+_];$==-1?0<_?($=H[0].g,oe.push("ofs="+$)):$=0:oe.push("ofs="+$);let Ve=!0;for(let Ct=0;Ct<_;Ct++){let Le=H[Ct].g;const Pt=H[Ct].map;if(Le-=$,0>Le)$=Math.max(0,H[Ct].g-100),Ve=!1;else try{si(Pt,oe,"req"+Le+"_")}catch{w&&w(Pt)}}if(Ve){w=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function sc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||D(),me||(le(),me=!0),Pe.add(y,c),c.v=0}}function hl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(A(c.Fa,c),fl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ua(this),ac(this))};function Hs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ac(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),qs(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ps(_n(y)),_.m=null,_.P=!0,Pi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ua(this),hl(this),st(19))};function za(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function oc(c,y){var _=null;if(c.g==y){za(c),Hs(c),c.g=null;var w=2}else if(tl(c.h,y))_=y.D,an(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;w=_r(),Fe(w,new It(w,_)),ja(c)}else sc(c);else if(H=y.s,H==3||H==0&&0<y.X||!(w==1&&Kf(c,y)||w==2&&hl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:qi(c,5);break;case 4:qi(c,10);break;case 3:qi(c,6);break;default:qi(c,2)}}}function fl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function qi(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),w=c.Xa;const H=!w;w=new Tt(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ms(w,"https"),Ps(w),H?Ls(w.toString(),_):Gn(w.toString(),_)}else st(2);c.G=0,c.l&&c.l.sa(y),lc(c),ic(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function lc(c){if(c.G=0,c.ka=[],c.l){const y=nl(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function uc(c,y,_){var w=_ instanceof Tt?_n(_):new Tt(_);if(w.g!="")y&&(w.g=y+"."+w.g),wr(w,w.s);else{var H=m.location;w=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var $=new Tt(null);w&&Ms($,w),y&&($.g=y),H&&wr($,H),_&&($.l=_),w=$}return _=c.D,y=c.ya,_&&y&&Ye(w,_,y),Ye(w,"VER",c.la),qs(c,w),w}function cc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new Sr({eb:_})):new qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}i=hc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ba(){}Ba.prototype.g=function(c,y){return new on(c,y)};function on(c,y){ft.call(this),this.g=new La(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ne(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ne(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ui(this)}U(on,ft),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){ul(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Hn(c),c=_);y.i.push(new Zu(y.Ya++,c)),y.G==3&&ja(y)},on.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,on.aa.N.call(this)};function fc(c){ki.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(fc,ki);function dc(){Wo.call(this),this.status=1}U(dc,Wo);function ui(c){this.g=c}U(ui,hc),ui.prototype.ua=function(){Fe(this.g,"a")},ui.prototype.ta=function(c){Fe(this.g,new fc(c))},ui.prototype.sa=function(c){Fe(this.g,new dc)},ui.prototype.ra=function(){Fe(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Rb=function(){return new Ba},Ab=function(){return _r()},Sb=ei,yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,xh=Tr,Mi.COMPLETE="complete",wb=Mi,Xo.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",ft.prototype.listen=ft.prototype.K,su=Xo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,bb=qe}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const tT="@firebase/firestore",nT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Gp("@firebase/firestore");function _o(){return da.logLevel}function fe(i,...e){if(da.logLevel<=Oe.DEBUG){const t=e.map(ng);da.debug(`Firestore (${jo}): ${i}`,...t)}}function dr(i,...e){if(da.logLevel<=Oe.ERROR){const t=e.map(ng);da.error(`Firestore (${jo}): ${i}`,...t)}}function No(i,...e){if(da.logLevel<=Oe.WARN){const t=e.map(ng);da.warn(`Firestore (${jo}): ${i}`,...t)}}function ng(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Ib(i,s,t)}function Ib(i,e,t){let s=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw dr(s),new Error(s)}function He(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||Ib(e,o,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ni{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class Dx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ox{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new oa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new oa,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new oa)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new Cb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class kx{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mx{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new kx(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Px{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new iT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Vx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function _p(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Zm(o)===Zm(u)?ke(o,u):Zm(o)?1:-1}return ke(i.length,e.length)}const Lx=55296,Ux=57343;function Zm(i){const e=i.charCodeAt(0);return e>=Lx&&e<=Ux}function Do(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__name__";class gi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=gi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return ke(e.length,t.length)}static compareSegments(e,t){const s=gi.isNumericId(e),o=gi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(e).compare(gi.extractNumericId(t)):_p(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class tt extends gi{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const jx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends gi{construct(e,t,s){return new $t(e,t,s)}static isValidIdentifier(e){return jx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rT}static keyField(){return new $t([rT])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(i,e,t){if(!t)throw new ce(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function zx(i,e,t,s){if(e===!0&&s===!0)throw new ce(J.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function sT(i){if(!ge.isDocumentKey(i))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function aT(i){if(ge.isDocumentKey(i))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Nb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function mf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Ti(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mf(i);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Vu(i,e){if(!Nb(i))throw new ce(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ce(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=-62135596800,lT=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*lT);return new it(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<oT)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lT}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-oT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Rt("string",it._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new it(0,0))}static max(){return new Se(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function Bx(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new it(t+1,0):new it(t,s));return new os(o,ge.empty(),e)}function qx(i){return new os(i.readTime,i.key,Eu)}class os{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new os(Se.min(),ge.empty(),Eu)}static max(){return new os(Se.max(),ge.empty(),Eu)}}function Hx(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(i.documentKey,e.documentKey),t!==0?t:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==Fx)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function Kx(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function gf(i){return i==null}function Fh(i){return i===0&&1/i==-1/0}function Yx(i){return typeof i=="number"&&Number.isInteger(i)&&!Fh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="";function $x(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=uT(e)),e=Qx(i.get(t),e);return uT(e)}function Qx(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case Db:t+="";break;default:t+=u}}return t}function uT(i){return i+Db+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function _s(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ob(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Kt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hT(this.data.getIterator())}getIteratorFrom(e){return new hT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class hT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new Ot($t.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new kb("Invalid base64 string: "+u):u}}(e);return new Xt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const Xx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(i){if(He(!!i,39018),typeof i=="string"){let e=0;const t=Xx.exec(i);if(He(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function us(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="server_timestamp",Pb="__type__",Vb="__previous_value__",Lb="__local_write_time__";function sg(i){return(i?.mapValue?.fields||{})[Pb]?.stringValue===Mb}function yf(i){const e=i.mapValue.fields[Vb];return sg(e)?yf(e):e}function Tu(i){const e=ls(i.mapValue.fields[Lb].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Gh="(default)";class bu{constructor(e,t){this.projectId=e,this.database=t||Gh}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="__type__",Zx="__max__",_h={mapValue:{}},jb="__vector__",Kh="value";function cs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?sg(i)?4:eN(i)?9007199254740991:Jx(i)?10:11:Te(28295,{value:i})}function Ii(i,e){if(i===e)return!0;const t=cs(i);if(t!==cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Tu(i).isEqual(Tu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ls(o.timestampValue),m=ls(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Fh(h)===Fh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Do(i.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(cT(h)!==cT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ii(h[p],m[p])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function wu(i,e){return(i.values||[]).find(t=>Ii(t,e))!==void 0}function Oo(i,e){if(i===e)return 0;const t=cs(i),s=cs(e);if(t!==s)return ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return fT(i.timestampValue,e.timestampValue);case 4:return fT(Tu(i),Tu(e));case 5:return _p(i.stringValue,e.stringValue);case 6:return function(u,h){const m=us(u),p=us(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ke(m[g],p[g]);if(E!==0)return E}return ke(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=ke(_t(u.latitude),_t(h.latitude));return m!==0?m:ke(_t(u.longitude),_t(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return dT(i.arrayValue,e.arrayValue);case 10:return function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Kh]?.arrayValue,E=p[Kh]?.arrayValue,S=ke(g?.values?.length||0,E?.values?.length||0);return S!==0?S:dT(g,E)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===_h.mapValue&&h===_h.mapValue)return 0;if(u===_h.mapValue)return 1;if(h===_h.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const A=_p(p[S],E[S]);if(A!==0)return A;const M=Oo(m[p[S]],g[E[S]]);if(M!==0)return M}return ke(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function fT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const t=ls(i),s=ls(e),o=ke(t.seconds,s.seconds);return o!==0?o:ke(t.nanos,s.nanos)}function dT(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Oo(t[o],s[o]);if(u)return u}return ke(t.length,s.length)}function ko(i){return vp(i)}function vp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ls(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return us(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ge.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=vp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${vp(t.fields[h])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function Nh(i){switch(cs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yf(i);return e?16+Nh(e):16;case 5:return 2*i.stringValue.length;case 6:return us(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Nh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return _s(s.fields,(u,h)=>{o+=u.length+Nh(h)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function mT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ep(i){return!!i&&"integerValue"in i}function ag(i){return!!i&&"arrayValue"in i}function pT(i){return!!i&&"nullValue"in i}function gT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Dh(i){return!!i&&"mapValue"in i}function Jx(i){return(i?.mapValue?.fields||{})[Ub]?.stringValue===jb}function hu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return _s(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=hu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hu(i.arrayValue.values[t]);return e}return{...i}}function eN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Zx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(t)}setAll(e){let t=$t.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=hu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){_s(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new gn(hu(this.value))}}function zb(i){const e=[];return _s(i.fields,(t,s)=>{const o=new $t([t]);if(Dh(s)){const u=zb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Se.min(),Se.min(),Se.min(),gn.empty(),0)}static newFoundDocument(e,t,s,o){return new nn(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new nn(e,2,t,Se.min(),Se.min(),gn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,Se.min(),Se.min(),gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.position=e,this.inclusive=t}}function yT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=Oo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function _T(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ii(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t="asc"){this.field=e,this.dir=t}}function tN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{}class At extends Bb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new iN(e,t,s):t==="array-contains"?new aN(e,s):t==="in"?new oN(e,s):t==="not-in"?new lN(e,s):t==="array-contains-any"?new uN(e,s):new At(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new rN(e,s):new sN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Oo(t,this.value)):t!==null&&cs(this.value)===cs(t)&&this.matchesComparison(Oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends Bb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Zn(e,t)}matches(e){return qb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qb(i){return i.op==="and"}function Hb(i){return nN(i)&&qb(i)}function nN(i){for(const e of i.filters)if(e instanceof Zn)return!1;return!0}function Tp(i){if(i instanceof At)return i.field.canonicalString()+i.op.toString()+ko(i.value);if(Hb(i))return i.filters.map(e=>Tp(e)).join(",");{const e=i.filters.map(t=>Tp(t)).join(",");return`${i.op}(${e})`}}function Fb(i,e){return i instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&Ii(s.value,o.value)}(i,e):i instanceof Zn?function(s,o){return o instanceof Zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&Fb(h,o.filters[m]),!0):!1}(i,e):void Te(19439)}function Gb(i){return i instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${ko(t.value)}`}(i):i instanceof Zn?function(t){return t.op.toString()+" {"+t.getFilters().map(Gb).join(" ,")+"}"}(i):"Filter"}class iN extends At{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class rN extends At{constructor(e,t){super(e,"in",t),this.keys=Kb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sN extends At{constructor(e,t){super(e,"not-in",t),this.keys=Kb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Kb(i,e){return(e.arrayValue?.values||[]).map(t=>ge.fromName(t.referenceValue))}class aN extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ag(t)&&wu(t.arrayValue,this.value)}}class oN extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wu(this.value.arrayValue,t)}}class lN extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wu(this.value.arrayValue,t)}}class uN extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>wu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function vT(i,e=null,t=[],s=[],o=null,u=null,h=null){return new cN(i,e,t,s,o,u,h)}function og(i){const e=Ae(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Tp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),gf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ko(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ko(s)).join(",")),e.Te=t}return e.Te}function lg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!tN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Fb(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!_T(i.startAt,e.startAt)&&_T(i.endAt,e.endAt)}function bp(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hN(i,e,t,s,o,u,h,m){return new qo(i,e,t,s,o,u,h,m)}function ug(i){return new qo(i)}function ET(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Yb(i){return i.collectionGroup!==null}function fu(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ot($t.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Su(u,s))}),t.has($t.keyField().canonicalString())||e.Ie.push(new Su($t.keyField(),s))}return e.Ie}function bi(i){const e=Ae(i);return e.Ee||(e.Ee=fN(e,fu(i))),e.Ee}function fN(i,e){if(i.limitType==="F")return vT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Su(o.field,u)});const t=i.endAt?new Yh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Yh(i.startAt.position,i.startAt.inclusive):null;return vT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function wp(i,e){const t=i.filters.concat([e]);return new qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function $h(i,e,t){return new qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function _f(i,e){return lg(bi(i),bi(e))&&i.limitType===e.limitType}function $b(i){return`${og(bi(i))}|lt:${i.limitType}`}function vo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Gb(o)).join(", ")}]`),gf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>ko(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>ko(o)).join(",")),`Target(${s})`}(bi(i))}; limitType=${i.limitType})`}function vf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of fu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=yT(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,fu(s),o)||s.endAt&&!function(h,m,p){const g=yT(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,fu(s),o))}(i,e)}function dN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Qb(i){return(e,t)=>{let s=!1;for(const o of fu(i)){const u=mN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mN(i,e,t){const s=i.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Oo(p,g):Te(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Ob(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new ut(ge.comparator);function mr(){return pN}const Xb=new ut(ge.comparator);function au(...i){let e=Xb;for(const t of i)e=e.insert(t.key,t);return e}function Wb(i){let e=Xb;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function aa(){return du()}function Zb(){return du()}function du(){return new Ta(i=>i.toString(),(i,e)=>i.isEqual(e))}const gN=new ut(ge.comparator),yN=new Ot(ge.comparator);function Me(...i){let e=yN;for(const t of i)e=e.add(t);return e}const _N=new Ot(ke);function vN(){return _N}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function Jb(i){return{integerValue:""+i}}function EN(i,e){return Yx(e)?Jb(e):cg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function TN(i,e,t){return i instanceof Au?function(o,u){const h={fields:{[Pb]:{stringValue:Mb},[Lb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&sg(u)&&(u=yf(u)),u&&(h.fields[Vb]=u),{mapValue:h}}(t,e):i instanceof Ru?tw(i,e):i instanceof Iu?nw(i,e):function(o,u){const h=ew(o,u),m=TT(h)+TT(o.Ae);return Ep(h)&&Ep(o.Ae)?Jb(m):cg(o.serializer,m)}(i,e)}function bN(i,e,t){return i instanceof Ru?tw(i,e):i instanceof Iu?nw(i,e):t}function ew(i,e){return i instanceof Qh?function(s){return Ep(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Au extends Ef{}class Ru extends Ef{constructor(e){super(),this.elements=e}}function tw(i,e){const t=iw(e);for(const s of i.elements)t.some(o=>Ii(o,s))||t.push(s);return{arrayValue:{values:t}}}class Iu extends Ef{constructor(e){super(),this.elements=e}}function nw(i,e){let t=iw(e);for(const s of i.elements)t=t.filter(o=>!Ii(o,s));return{arrayValue:{values:t}}}class Qh extends Ef{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function TT(i){return _t(i.integerValue||i.doubleValue)}function iw(i){return ag(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t){this.field=e,this.transform=t}}function SN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Ru&&o instanceof Ru||s instanceof Iu&&o instanceof Iu?Do(s.elements,o.elements,Ii):s instanceof Qh&&o instanceof Qh?Ii(s.Ae,o.Ae):s instanceof Au&&o instanceof Au}(i.transform,e.transform)}class AN{constructor(e,t){this.version=e,this.transformResults=t}}class qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Tf{}function rw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new hg(i.key,qn.none()):new Lu(i.key,i.data,qn.none());{const t=i.data,s=gn.empty();let o=new Ot($t.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new vs(i.key,s,new Rn(o.toArray()),qn.none())}}function RN(i,e,t){i instanceof Lu?function(o,u,h){const m=o.value.clone(),p=wT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof vs?function(o,u,h){if(!Oh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=wT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(sw(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function mu(i,e,t,s){return i instanceof Lu?function(u,h,m,p){if(!Oh(u.precondition,h))return m;const g=u.value.clone(),E=ST(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof vs?function(u,h,m,p){if(!Oh(u.precondition,h))return m;const g=ST(u.fieldTransforms,p,h),E=h.data;return E.setAll(sw(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,t,s):function(u,h,m){return Oh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function IN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=ew(s.transform,o||null);u!=null&&(t===null&&(t=gn.empty()),t.set(s.field,u))}return t||null}function bT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Do(s,o,(u,h)=>SN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Lu extends Tf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends Tf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function sw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function wT(i,e,t){const s=new Map;He(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,bN(h,m,t[o]))}return s}function ST(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,TN(u,h,e))}return s}class hg extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CN extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&RN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=mu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=mu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Zb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=rw(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(t,s)=>bT(t,s))&&Do(this.baseMutations,e.baseMutations,(t,s)=>bT(t,s))}}class fg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return gN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new fg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,je;function ON(i){switch(i){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function aw(i){if(i===void 0)return dr("GRPC error has no .code"),J.UNKNOWN;switch(i){case St.OK:return J.OK;case St.CANCELLED:return J.CANCELLED;case St.UNKNOWN:return J.UNKNOWN;case St.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case St.INTERNAL:return J.INTERNAL;case St.UNAVAILABLE:return J.UNAVAILABLE;case St.UNAUTHENTICATED:return J.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case St.NOT_FOUND:return J.NOT_FOUND;case St.ALREADY_EXISTS:return J.ALREADY_EXISTS;case St.PERMISSION_DENIED:return J.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case St.ABORTED:return J.ABORTED;case St.OUT_OF_RANGE:return J.OUT_OF_RANGE;case St.UNIMPLEMENTED:return J.UNIMPLEMENTED;case St.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:i})}}(je=St||(St={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new rs([4294967295,4294967295],0);function AT(i){const e=kN().encode(i),t=new Tb;return t.update(e),new Uint8Array(t.digest())}function RT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rs([t,s],0),new rs([o,u],0)]}class dg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ou(`Invalid padding: ${t}`);if(s<0)throw new ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ou(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=rs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(rs.fromNumber(s)));return o.compare(MN)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=AT(e),[s,o]=RT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new dg(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const t=AT(e),[s,o]=RT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new bf(Se.min(),o,new ut(ke),mr(),Me())}}class Uu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Uu(s,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class ow{constructor(e,t){this.targetId=e,this.Ce=t}}class lw{constructor(e,t,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class IT{constructor(){this.ve=0,this.Fe=CT(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),t=Me(),s=Me();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new Uu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=CT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PN{constructor(e){this.Ge=e,this.ze=new Map,this.je=mr(),this.Je=vh(),this.He=vh(),this.Ye=new ut(ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(bp(u))if(s===0){const h=new ge(u.path);this.et(t,h,nn.newNoDocument(h,Se.min()))}else He(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=us(s).toUint8Array()}catch(p){if(p instanceof kb)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new dg(h,o,u)}catch(p){return No(p instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&bp(m.target)){const p=new ge(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,nn.newNoDocument(p,e))}u.Be&&(t.set(h,u.ke()),u.qe())}});let s=Me();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new bf(e,t,this.Ye,this.je,s);return this.je=mr(),this.Je=vh(),this.He=vh(),this.Ye=new ut(ke),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new IT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ot(ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ot(ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new IT),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function vh(){return new ut(ge.comparator)}function CT(){return new ut(ge.comparator)}const VN={asc:"ASCENDING",desc:"DESCENDING"},LN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UN={and:"AND",or:"OR"};class jN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sp(i,e){return i.useProto3Json||gf(e)?e:{value:e}}function Xh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function zN(i,e){return Xh(i,e.toTimestamp())}function wi(i){return He(!!i,49232),Se.fromTimestamp(function(t){const s=ls(t);return new it(s.seconds,s.nanos)}(i))}function mg(i,e){return Ap(i,e).canonicalString()}function Ap(i,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function cw(i){const e=tt.fromString(i);return He(pw(e),10190,{key:e.toString()}),e}function Rp(i,e){return mg(i.databaseId,e.path)}function Jm(i,e){const t=cw(e);if(t.get(1)!==i.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ge(fw(t))}function hw(i,e){return mg(i.databaseId,e)}function BN(i){const e=cw(i);return e.length===4?tt.emptyPath():fw(e)}function Ip(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function fw(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function xT(i,e,t){return{name:Rp(i,e),fields:t.value.mapValue.fields}}function qN(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?J.UNKNOWN:aw(g.code);return new ce(E,g.message||"")}(h);t=new lw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jm(i,s.document.name),u=wi(s.document.updateTime),h=s.document.createTime?wi(s.document.createTime):Se.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new kh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Jm(i,s.document),u=s.readTime?wi(s.readTime):Se.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];t=new kh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Jm(i,s.document),u=s.removedTargetIds||[];t=new kh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new DN(o,u),m=s.targetId;t=new ow(m,h)}}return t}function HN(i,e){let t;if(e instanceof Lu)t={update:xT(i,e.key,e.value)};else if(e instanceof hg)t={delete:Rp(i,e.key)};else if(e instanceof vs)t={update:xT(i,e.key,e.data),updateMask:ZN(e.fieldMask)};else{if(!(e instanceof CN))return Te(16599,{Vt:e.type});t={verify:Rp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Au)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ru)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Iu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Qh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:zN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),t}function FN(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?wi(o.updateTime):wi(u);return h.isEqual(Se.min())&&(h=wi(u)),new AN(h,o.transformResults||[])}(t,e))):[]}function GN(i,e){return{documents:[hw(i,e.path)]}}function KN(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=hw(i,o);const u=function(g){if(g.length!==0)return mw(Zn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:Eo(A.field),direction:QN(A.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Sp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function YN(i){let e=BN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(S){const A=dw(S);return A instanceof Zn&&Hb(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(A=>function(U){return new Su(To(U.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(A))}(t.orderBy));let m=null;t.limit&&(m=function(S){let A;return A=typeof S=="object"?S.value:S,gf(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(S){const A=!!S.before,M=S.values||[];return new Yh(M,A)}(t.startAt));let g=null;return t.endAt&&(g=function(S){const A=!S.before,M=S.values||[];return new Yh(M,A)}(t.endAt)),hN(e,o,h,u,m,"F",p,g)}function $N(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dw(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=To(t.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=To(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=To(t.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=To(t.unaryFilter.field);return At.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(t){return At.create(To(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Zn.create(t.compositeFilter.filters.map(s=>dw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(i):Te(30097,{filter:i})}function QN(i){return VN[i]}function XN(i){return LN[i]}function WN(i){return UN[i]}function Eo(i){return{fieldPath:i.canonicalString()}}function To(i){return $t.fromServerFormat(i.fieldPath)}function mw(i){return i instanceof At?function(t){if(t.op==="=="){if(gT(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(pT(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gT(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(pT(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:XN(t.op),value:t.value}}}(i):i instanceof Zn?function(t){const s=t.getFilters().map(o=>mw(o));return s.length===1?s[0]:{compositeFilter:{op:WN(t.op),filters:s}}}(i):Te(54877,{filter:i})}function ZN(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,t,s,o,u=Se.min(),h=Se.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.yt=e}}function eD(i){const e=YN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?$h(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.Cn=new nD}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(os.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(os.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class nD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ot(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gw=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(gw,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="LruGarbageCollector",iD=1048576;function OT([i,e],[t,s]){const o=ke(i,t);return o===0?ke(e,s):o}class rD{constructor(e){this.Ir=e,this.buffer=new Ot(OT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();OT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(DT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?fe(DT,"Ignoring IndexedDB error during garbage collection: ",t):await zo(t)}await this.Vr(3e5)})}}class aD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(pf.ce);const s=new rD(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(NT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NT):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,t))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),_o()<=Oe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function oD(i,e){return new aD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.changes=new Ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&mu(s.mutation,o,Rn.empty(),it.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Me()){const o=aa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=au();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=aa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Me()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=mr();const h=du(),m=function(){return du()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof vs)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),mu(E.mutation,g,E.mutation.getFieldMask(),it.now())):h.set(g.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>m.set(g,new uD(E,h.get(g)??null))),m))}recalculateAndSaveOverlays(e,t){const s=du();let o=new ut((h,m)=>h-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Rn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Me()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=Zb();E.forEach(A=>{if(!u.has(A)){const M=rw(t.get(A),s.get(A));M!==null&&S.set(A,M),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(aa());let m=Eu,p=u;return h.next(g=>te.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Me())).next(E=>({batchId:m,changes:Wb(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=au();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=au();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(S,A){return new qo(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,A)=>{h=h.insert(S,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,nn.newInvalidDocument(E)))});let m=au();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&mu(E.mutation,g,Rn.empty(),it.now()),vf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:eD(o.bundledQuery),readTime:wi(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.overlays=new ut(ge.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=aa();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=aa(),u=t.length+1,h=new ge(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ut((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=aa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new NN(t,s));let u=this.qr.get(t);u===void 0&&(u=Me(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.Qr=new Ot(jt.$r),this.Ur=new Ot(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new jt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new jt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new ge(new tt([])),s=new jt(t,e),o=new jt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ge(new tt([])),s=new jt(t,e),o=new jt(t,e+1);let u=Me();return this.Ur.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new jt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ge.comparator(e.key,t.key)||ke(e.Yr,t.Yr)}static Kr(e,t){return ke(e.Yr,t.Yr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(jt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new xN(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?rg:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],h=>{const m=this.Xr(h.Yr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ot(ke);return t.forEach(o=>{const u=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{s=s.add(m.Yr)})}),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new jt(new ge(u),0);let m=new Ot(ke);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},h),te.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){He(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(t.mutations,o=>{const u=new jt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new jt(t,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.ri=e,this.docs=function(){return new ut(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let s=mr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=mr();const h=t.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||Hx(qx(E),s)<=0||(o.has(E.key)||vf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}ii(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new gD(this)}getSize(e){return te.resolve(this.size)}}class gD extends lD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.persistence=e,this.si=new Ta(t=>og(t),lg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new pg,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Mo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t){this.ui={},this.overlays={},this.ci=new pf(0),this.li=!1,this.li=!0,this.hi=new dD,this.referenceDelegate=e(this),this.Pi=new yD(this),this.indexManager=new tD,this.remoteDocumentCache=function(o){return new pD(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new JN(t),this.Ii=new hD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new mD(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new _D(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,t){return te.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class _D extends Gx{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.Ri=new pg,this.Vi=null}static mi(e){return new gg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,s=>{const o=ge.fromPath(s);return this.gi(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Wh{constructor(e,t){this.persistence=e,this.pi=new Ta(s=>$x(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=oD(this,t)}static mi(e,t){return new Wh(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return te.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nh(e.data.value)),t}br(e,t,s){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Me(),o=Me();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return ZR()?8:Kx(rn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new vD;return this.Ss(e,t,h).next(m=>{if(u.result=m,this.Vs)return this.bs(e,t,h,m.size)})}).next(()=>u.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(_o()<=Oe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(_o()<=Oe.DEBUG&&fe("QueryEngine","Query:",vo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(_o()<=Oe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(t))):te.resolve())}ys(e,t){if(ET(t))return te.resolve(null);let s=bi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=$h(t,null,"F"),s=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Me(...u);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(t,m);return this.Cs(t,g,h,p.readTime)?this.ys(e,$h(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,s,o){return ET(t)||o.isEqual(Se.min())?te.resolve(null):this.ps.getDocuments(e,s).next(u=>{const h=this.Ds(t,u);return this.Cs(t,h,s,o)?te.resolve(null):(_o()<=Oe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(t)),this.vs(e,h,t,Bx(o,Eu)).next(m=>m))})}Ds(e,t){let s=new Ot(Qb(e));return t.forEach((o,u)=>{vf(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return _o()<=Oe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",vo(t)),this.ps.getDocumentsMatchingQuery(e,t,os.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="LocalStore",TD=3e8;class bD{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ut(ke),this.xs=new Ta(u=>og(u),lg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function wD(i,e,t,s){return new bD(i,e,t,s)}async function _w(i,e){const t=Ae(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Me();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:m}))})})}function SD(i,e){const t=Ae(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,A=S.keys();let M=te.resolve();return A.forEach(U=>{M=M.next(()=>E.getEntry(p,U)).next(B=>{const P=g.docVersions.get(U);He(P!==null,48541),B.version.compareTo(P)<0&&(S.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),E.addEntry(B)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Me();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function vw(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function AD(i,e){const t=Ae(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((E,S)=>{const A=o.get(S);if(!A)return;m.push(t.Pi.removeMatchingKeys(u,E.removedDocuments,S).next(()=>t.Pi.addMatchingKeys(u,E.addedDocuments,S)));let M=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(Xt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(S,M),function(B,P,q){return B.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=TD?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(A,M,E)&&m.push(t.Pi.updateTargetData(u,M))});let p=mr(),g=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(RD(u,h,e.documentUpdates).next(E=>{p=E.ks,g=E.qs})),!s.isEqual(Se.min())){const E=t.Pi.getLastRemoteSnapshotVersion(u).next(S=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ms=o,u))}function RD(i,e,t){let s=Me(),o=Me();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=mr();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):fe(_g,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:o}})}function ID(i,e){const t=Ae(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=rg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function CD(i,e){const t=Ae(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.Pi.allocateTargetId(s).next(h=>(o=new Jr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function Cp(i,e,t){const s=Ae(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Bo(h))throw h;fe(_g,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function kT(i,e,t){const s=Ae(i);let o=Se.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const S=Ae(p),A=S.xs.get(E);return A!==void 0?te.resolve(S.Ms.get(A)):S.Pi.getTargetData(g,E)}(s,h,bi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?u:Me())).next(m=>(xD(s,dN(e),m),{documents:m,Qs:u})))}function xD(i,e,t){let s=i.Os.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class MT{constructor(){this.activeTargetIds=vN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ND{constructor(){this.Mo=new MT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new MT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="ConnectivityMonitor";class VT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(PT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(PT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh=null;function xp(){return Eh===null?Eh=function(){return 268435456+Math.round(2147483648*Math.random())}():Eh++,"0x"+Eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="RestConnection",OD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Gh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const h=xp(),m=this.zo(e,t.toUriEncodedString());fe(ep,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=gs(g);return this.Jo(e,m,p,s,E).then(S=>(fe(ep,`Received RPC '${e}' ${h}: `,S),S),S=>{throw No(ep,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",s),S})}Ho(e,t,s,o,u,h){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,t){const s=OD[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class PD extends kD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=xp();return new Promise((m,p)=>{const g=new bb;g.setWithCredentials(!0),g.listenOnce(wb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case xh.NO_ERROR:const S=g.getResponseJson();fe(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case xh.TIMEOUT:fe(en,`RPC '${e}' ${h} timed out`),p(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const A=g.getStatus();if(fe(en,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const U=M?.error;if(U&&U.status&&U.message){const B=function(q){const ne=q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ne)>=0?ne:J.UNKNOWN}(U.status);p(new ce(B,U.message))}else p(new ce(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(en,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);fe(en,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",E,s,15)})}T_(e,t,s){const o=xp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Rb(),m=Ab(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");fe(en,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=h.createWebChannel(E,p);this.I_(S);let A=!1,M=!1;const U=new MD({Yo:P=>{M?fe(en,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(A||(fe(en,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),fe(en,`RPC '${e}' stream ${o} sending:`,P),S.send(P))},Zo:()=>S.close()}),B=(P,q,ne)=>{P.listen(q,Q=>{try{ne(Q)}catch(ie){setTimeout(()=>{throw ie},0)}})};return B(S,su.EventType.OPEN,()=>{M||(fe(en,`RPC '${e}' stream ${o} transport opened.`),U.o_())}),B(S,su.EventType.CLOSE,()=>{M||(M=!0,fe(en,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(S))}),B(S,su.EventType.ERROR,P=>{M||(M=!0,No(en,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),U.a_(new ce(J.UNAVAILABLE,"The operation could not be completed")))}),B(S,su.EventType.MESSAGE,P=>{if(!M){const q=P.data[0];He(!!q,16349);const ne=q,Q=ne?.error||ne[0]?.error;if(Q){fe(en,`RPC '${e}' stream ${o} received error:`,Q);const ie=Q.status;let se=function(R){const I=St[R];if(I!==void 0)return aw(I)}(ie),he=Q.message;se===void 0&&(se=J.INTERNAL,he="Unknown error status: "+ie+" with message "+Q.message),M=!0,U.a_(new ce(se,he)),S.close()}else fe(en,`RPC '${e}' stream ${o} received:`,q),U.u_(q)}}),B(m,Sb.STAT_EVENT,P=>{P.stat===yp.PROXY?fe(en,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===yp.NOPROXY&&fe(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(i){return new jN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="PersistentStream";class Tw{constructor(e,t,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ew(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new ce(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(LT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(fe(LT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VD extends Tw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=qN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?wi(h.readTime):Se.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Ip(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=bp(p)?{documents:GN(u,p)}:{query:KN(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=uw(u,h.resumeToken);const g=Sp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Xh(u,h.snapshotVersion.toTimestamp());const g=Sp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=$N(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Ip(this.serializer),t.removeTarget=e,this.q_(t)}}class LD extends Tw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=FN(e.writeResults,e.commitTime),s=wi(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Ip(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>HN(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{}class jD extends UD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,Ap(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(J.UNKNOWN,u.toString())})}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,Ap(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(J.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class zD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class BD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{ba(this)&&(fe(ma,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.Ea.add(4),await ju(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Sf(g)}(this))})}),this.Ra=new zD(s,o)}}async function Sf(i){if(ba(i))for(const e of i.da)await e(!0)}async function ju(i){for(const e of i.da)await e(!1)}function bw(i,e){const t=Ae(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),bg(t)?Tg(t):Ho(t).O_()&&Eg(t,e))}function vg(i,e){const t=Ae(i),s=Ho(t);t.Ia.delete(e),s.O_()&&ww(t,e),t.Ia.size===0&&(s.O_()?s.L_():ba(t)&&t.Ra.set("Unknown"))}function Eg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ho(i).Y_(e)}function ww(i,e){i.Va.Ue(e),Ho(i).Z_(e)}function Tg(i){i.Va=new PN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ho(i).start(),i.Ra.ua()}function bg(i){return ba(i)&&!Ho(i).x_()&&i.Ia.size>0}function ba(i){return Ae(i).Ea.size===0}function Sw(i){i.Va=void 0}async function qD(i){i.Ra.set("Online")}async function HD(i){i.Ia.forEach((e,t)=>{Eg(i,e)})}async function FD(i,e){Sw(i),bg(i)?(i.Ra.ha(e),Tg(i)):i.Ra.set("Unknown")}async function GD(i,e,t){if(i.Ra.set("Online"),e instanceof lw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){fe(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zh(i,s)}else if(e instanceof kh?i.Va.Ze(e):e instanceof ow?i.Va.st(e):i.Va.tt(e),!t.isEqual(Se.min()))try{const s=await vw(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),ww(u,p);const S=new Jr(E.target,p,g,E.sequenceNumber);Eg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){fe(ma,"Failed to raise snapshot:",s),await Zh(i,s)}}async function Zh(i,e,t){if(!Bo(e))throw e;i.Ea.add(1),await ju(i),i.Ra.set("Offline"),t||(t=()=>vw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe(ma,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Sf(i)})}function Aw(i,e){return e().catch(t=>Zh(i,t,e))}async function Af(i){const e=Ae(i),t=hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rg;for(;KD(e);)try{const o=await ID(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,YD(e,o)}catch(o){await Zh(e,o)}Rw(e)&&Iw(e)}function KD(i){return ba(i)&&i.Ta.length<10}function YD(i,e){i.Ta.push(e);const t=hs(i);t.O_()&&t.X_&&t.ea(e.mutations)}function Rw(i){return ba(i)&&!hs(i).x_()&&i.Ta.length>0}function Iw(i){hs(i).start()}async function $D(i){hs(i).ra()}async function QD(i){const e=hs(i);for(const t of i.Ta)e.ea(t.mutations)}async function XD(i,e,t){const s=i.Ta.shift(),o=fg.from(s,e,t);await Aw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Af(i)}async function WD(i,e){e&&hs(i).X_&&await async function(s,o){if(function(h){return ON(h)&&h!==J.ABORTED}(o.code)){const u=s.Ta.shift();hs(s).B_(),await Aw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Af(s)}}(i,e),Rw(i)&&Iw(i)}async function UT(i,e){const t=Ae(i);t.asyncQueue.verifyOperationInProgress(),fe(ma,"RemoteStore received new credentials");const s=ba(t);t.Ea.add(3),await ju(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Sf(t)}async function ZD(i,e){const t=Ae(i);e?(t.Ea.delete(2),await Sf(t)):e||(t.Ea.add(2),await ju(t),t.Ra.set("Unknown"))}function Ho(i){return i.ma||(i.ma=function(t,s,o){const u=Ae(t);return u.sa(),new VD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:qD.bind(null,i),t_:HD.bind(null,i),r_:FD.bind(null,i),H_:GD.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),bg(i)?Tg(i):i.Ra.set("Unknown")):(await i.ma.stop(),Sw(i))})),i.ma}function hs(i){return i.fa||(i.fa=function(t,s,o){const u=Ae(t);return u.sa(),new LD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:$D.bind(null,i),r_:WD.bind(null,i),ta:QD.bind(null,i),na:XD.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await Af(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(ma,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new wg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(i,e){if(dr("AsyncQueue",`${e}: ${i}`),Bo(i))return new ce(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=au(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.ga=new ut(ge.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class Po{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Po(e,t,Ro.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class eO{constructor(){this.queries=zT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ae(t),u=o.queries;o.queries=zT(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function zT(){return new Ta(i=>$b(i),_f)}async function tO(i,e){const t=Ae(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new JD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=Sg(h,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Ag(t)}async function nO(i,e){const t=Ae(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function iO(i,e){const t=Ae(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Ag(t)}function rO(i,e,t){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function Ag(i){i.Ca.forEach(e=>{e.next()})}var Np,BT;(BT=Np||(Np={})).Ma="default",BT.Cache="cache";class sO{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.key=e}}class xw{constructor(e){this.key=e}}class aO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=Qb(e),this.tu=new Ro(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new jT,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const A=o.get(E),M=vf(this.query,S)?S:null,U=!!A&&this.mutatedKeys.has(A.key),B=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let P=!1;A&&M?A.data.isEqual(M.data)?U!==B&&(s.track({type:3,doc:M}),P=!0):this.su(A,M)||(s.track({type:2,doc:M}),P=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!A&&M?(s.track({type:0,doc:M}),P=!0):A&&!M&&(s.track({type:1,doc:A}),P=!0,(p||g)&&(m=!0)),P&&(M?(h=h.add(M),u=B?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((E,S)=>function(M,U){const B=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:P})}};return B(M)-B(U)}(E.type,S.type)||this.eu(E.doc,S.doc)),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Po(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new xw(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new Cw(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Me();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rg="SyncEngine";class oO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class lO{constructor(e){this.key=e,this.hu=!1}}class uO{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ta(m=>$b(m),_f),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ge.comparator),this.Au=new Map,this.Ru=new pg,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cO(i,e,t=!0){const s=Pw(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Nw(s,e,t,!0),o}async function hO(i,e){const t=Pw(i);await Nw(t,e,!0,!1)}async function Nw(i,e,t,s){const o=await CD(i.localStore,bi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await fO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&bw(i.remoteStore,o),m}async function fO(i,e,t,s,o){i.pu=(S,A,M)=>async function(B,P,q,ne){let Q=P.view.ru(q);Q.Cs&&(Q=await kT(B.localStore,P.query,!1).then(({documents:N})=>P.view.ru(N,Q)));const ie=ne&&ne.targetChanges.get(P.targetId),se=ne&&ne.targetMismatches.get(P.targetId)!=null,he=P.view.applyChanges(Q,B.isPrimaryClient,ie,se);return HT(B,P.targetId,he.au),he.snapshot}(i,S,A,M);const u=await kT(i.localStore,e,!0),h=new aO(e,u.Qs),m=h.ru(u.documents),p=Uu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);HT(i,t,g.au);const E=new oO(e,t,h);return i.Tu.set(e,E),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function dO(i,e,t){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(h=>!_f(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Cp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&vg(s.remoteStore,o.targetId),Dp(s,o.targetId)}).catch(zo)):(Dp(s,o.targetId),await Cp(s.localStore,o.targetId,!0))}async function mO(i,e){const t=Ae(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),vg(t.remoteStore,s.targetId))}async function pO(i,e,t){const s=bO(i);try{const o=await function(h,m){const p=Ae(h),g=it.now(),E=m.reduce((M,U)=>M.add(U.key),Me());let S,A;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let U=mr(),B=Me();return p.Ns.getEntries(M,E).next(P=>{U=P,U.forEach((q,ne)=>{ne.isValidDocument()||(B=B.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,U)).next(P=>{S=P;const q=[];for(const ne of m){const Q=IN(ne,S.get(ne.key).overlayedDocument);Q!=null&&q.push(new vs(ne.key,Q,zb(Q.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,q,m)}).next(P=>{A=P;const q=P.applyToLocalDocumentSet(S,B);return p.documentOverlayCache.saveOverlays(M,P.batchId,q)})}).then(()=>({batchId:A.batchId,changes:Wb(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ut(ke)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g}(s,o.batchId,t),await zu(s,o.changes),await Af(s.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");t.reject(u)}}async function Dw(i,e){const t=Ae(i);try{const s=await AD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Au.get(u);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?He(h.hu,14607):o.removedDocuments.size>0&&(He(h.hu,42227),h.hu=!1))}),await zu(t,s,e)}catch(s){await zo(s)}}function qT(i,e,t){const s=Ae(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const A of S.Sa)A.va(m)&&(g=!0)}),g&&Ag(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gO(i,e,t){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ut(ge.comparator);h=h.insert(u,nn.newNoDocument(u,Se.min()));const m=Me().add(u),p=new bf(Se.min(),new Map,new ut(ke),h,m);await Dw(s,p),s.du=s.du.remove(u),s.Au.delete(e),Ig(s)}else await Cp(s.localStore,e,!1).then(()=>Dp(s,e,t)).catch(zo)}async function yO(i,e){const t=Ae(i),s=e.batch.batchId;try{const o=await SD(t.localStore,e);kw(t,s,null),Ow(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await zu(t,o)}catch(o){await zo(o)}}async function _O(i,e,t){const s=Ae(i);try{const o=await function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(He(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);kw(s,e,t),Ow(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await zu(s,o)}catch(o){await zo(o)}}function Ow(i,e){(i.mu.get(e)||[]).forEach(t=>{t.resolve()}),i.mu.delete(e)}function kw(i,e,t){const s=Ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Dp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||Mw(i,s)})}function Mw(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(vg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Ig(i))}function HT(i,e,t){for(const s of t)s instanceof Cw?(i.Ru.addReference(s.key,e),vO(i,s)):s instanceof xw?(fe(Rg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Mw(i,s.key)):Te(19791,{wu:s})}function vO(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(fe(Rg,"New document in limbo: "+t),i.Eu.add(s),Ig(i))}function Ig(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ge(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new lO(t)),i.du=i.du.insert(t,s),bw(i.remoteStore,new Jr(bi(ug(t.path)),s,"TargetPurposeLimboResolution",pf.ce))}}async function zu(i,e,t){const s=Ae(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{h.push(s.pu(p,e,t).then(g=>{if((g||t)&&s.isPrimaryClient){const E=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=yg.As(p.targetId,g);u.push(E)}}))}),await Promise.all(h),s.Pu.H_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>te.forEach(g,A=>te.forEach(A.Es,M=>E.persistence.referenceDelegate.addReference(S,A.targetId,M)).next(()=>te.forEach(A.ds,M=>E.persistence.referenceDelegate.removeReference(S,A.targetId,M)))))}catch(S){if(!Bo(S))throw S;fe(_g,"Failed to update sequence numbers: "+S)}for(const S of g){const A=S.targetId;if(!S.fromCache){const M=E.Ms.get(A),U=M.snapshotVersion,B=M.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(A,B)}}}(s.localStore,u))}async function EO(i,e){const t=Ae(i);if(!t.currentUser.isEqual(e)){fe(Rg,"User change. New user:",e.toKey());const s=await _w(t.localStore,e);t.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new ce(J.CANCELLED,h))})}),u.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zu(t,s.Ls)}}function TO(i,e){const t=Ae(i),s=t.Au.get(e);if(s&&s.hu)return Me().add(s.key);{let o=Me();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Pw(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gO.bind(null,e),e.Pu.H_=iO.bind(null,e.eventManager),e.Pu.yu=rO.bind(null,e.eventManager),e}function bO(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_O.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return wD(this.persistence,new ED,e.initialUser,this.serializer)}Cu(e){return new yw(gg.mi,this.serializer)}Du(e){return new ND}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class wO extends Jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){He(this.persistence.referenceDelegate instanceof Wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sD(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new yw(s=>Wh.mi(s,t),this.serializer)}}class Op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=EO.bind(null,this.syncEngine),await ZD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eO}()}createDatastore(e){const t=wf(e.databaseInfo.databaseId),s=function(u){return new PD(u)}(e.databaseInfo);return function(u,h,m,p){return new jD(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new BD(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>qT(this.syncEngine,t,0),function(){return VT.v()?new VT:new DD}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,E){const S=new uO(o,u,h,m,p,g);return E&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Ae(t);fe(ma,"RemoteStore shutting down."),s.Ea.add(5),await ju(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="FirestoreClient";class AO{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{fe(fs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(fe(fs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Sg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function np(i,e){i.asyncQueue.verifyOperationInProgress(),fe(fs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await _w(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function FT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await RO(i);fe(fs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>UT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>UT(e.remoteStore,o)),i._onlineComponents=e}async function RO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(fs,"Using user provided OfflineComponentProvider");try{await np(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await np(i,new Jh)}}else fe(fs,"Using default OfflineComponentProvider"),await np(i,new wO(void 0));return i._offlineComponents}async function Vw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(fs,"Using user provided OnlineComponentProvider"),await FT(i,i._uninitializedComponentsProvider._online)):(fe(fs,"Using default OnlineComponentProvider"),await FT(i,new Op))),i._onlineComponents}function IO(i){return Vw(i).then(e=>e.syncEngine)}async function GT(i){const e=await Vw(i),t=e.eventManager;return t.onListen=cO.bind(null,e.syncEngine),t.onUnlisten=dO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mO.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="firestore.googleapis.com",YT=!0;class $T{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uw,this.ssl=YT}else this.host=e.host,this.ssl=e.ssl??YT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iD)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lw(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $T(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Nx;switch(s.type){case"firstParty":return new Mx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=KT.get(t);s&&(fe("ComponentProvider","Removing Datastore"),KT.delete(t),s.terminate())}(this),Promise.resolve()}}function CO(i,e,t,s={}){i=Ti(i,Rf);const o=gs(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(Hp(`https://${m}`),Fp("Firestore",!0)),u.host!==Uw&&u.host!==m&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ca(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=tn.MOCK_USER;else{g=P0(s.mockUserToken,i._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(S)}i._authCredentials=new Dx(new Cb(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class vt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Vu(t,vt._jsonSchema))return new vt(e,s||null,new ge(tt.fromString(t.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Rt("string",vt._jsonSchemaVersion),referencePath:Rt("string")};class ss extends Es{constructor(e,t,s){super(e,t,ug(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ge(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function pr(i,e,...t){if(i=nt(i),xb("collection","path",e),i instanceof Rf){const s=tt.fromString(e,...t);return aT(s),new ss(i,null,s)}{if(!(i instanceof vt||i instanceof ss))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return aT(s),new ss(i.firestore,null,s)}}function lr(i,e,...t){if(i=nt(i),arguments.length===1&&(e=ig.newId()),xb("doc","path",e),i instanceof Rf){const s=tt.fromString(e,...t);return sT(s),new vt(i,null,new ge(s))}{if(!(i instanceof vt||i instanceof ss))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return sT(s),new vt(i.firestore,i instanceof ss?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="AsyncQueue";class XT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ew(this,"async_queue_retry"),this._c=()=>{const s=tp();s&&fe(QT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=tp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=tp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new oa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;fe(QT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",WT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=wg.createAndSchedule(this,e,t,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:WT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function WT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class pa extends Rf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new XT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XT(e),this._firestoreClient=void 0,await e}}}function xO(i,e){const t=typeof i=="object"?i:Yp(),s=typeof i=="string"?i:Gh,o=uf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=O0("firestore");u&&CO(o,...u)}return o}function jw(i){if(i._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||NO(i),i._firestoreClient}function NO(i){const e=i._freezeSettings(),t=function(o,u,h,m){return new Wx(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Lw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new AO(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Xt.fromBase64String(e))}catch(t){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Rt("string",Bn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,Si._jsonSchema))return new Si(e.latitude,e.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Rt("string",Si._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,Ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ai(e.vectorValues);throw new ce(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:Rt("string",Ai._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=/^__.*__$/;class OO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lu(e,this.data,t,this.fieldTransforms)}}class zw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new vs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:i})}}class Cg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ef(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Bw(this.Ac)&&DO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||wf(e)}Cc(e,t,s,o=!1){return new Cg({Ac:e,methodName:t,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xf(i){const e=i._freezeSettings(),t=wf(i._databaseId);return new kO(i._databaseId,!!e.ignoreUndefinedProperties,t)}function qw(i,e,t,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);Ng("Data must be an object, but it was:",h,s);const m=Hw(s,h);let p,g;if(u.merge)p=new Rn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=kp(e,S,t);if(!h.contains(A))throw new ce(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Gw(E,A)||E.push(A)}p=new Rn(E),g=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=h.fieldTransforms;return new OO(new gn(m),p,g)}class Nf extends Cf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}class xg extends Cf{_toFieldTransform(e){return new wN(e.path,new Au)}isEqual(e){return e instanceof xg}}function MO(i,e,t,s){const o=i.Cc(1,e,t);Ng("Data must be an object, but it was:",o,s);const u=[],h=gn.empty();_s(s,(p,g)=>{const E=Dg(e,p,t);g=nt(g);const S=o.yc(E);if(g instanceof Nf)u.push(E);else{const A=Bu(g,S);A!=null&&(u.push(E),h.set(E,A))}});const m=new Rn(u);return new zw(h,m,o.fieldTransforms)}function PO(i,e,t,s,o,u){const h=i.Cc(1,e,t),m=[kp(e,s,t)],p=[o];if(u.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(kp(e,u[A])),p.push(u[A+1]);const g=[],E=gn.empty();for(let A=m.length-1;A>=0;--A)if(!Gw(g,m[A])){const M=m[A];let U=p[A];U=nt(U);const B=h.yc(M);if(U instanceof Nf)g.push(M);else{const P=Bu(U,B);P!=null&&(g.push(M),E.set(M,P))}}const S=new Rn(g);return new zw(E,S,h.fieldTransforms)}function VO(i,e,t,s=!1){return Bu(t,i.Cc(s?4:3,e))}function Bu(i,e){if(Fw(i=nt(i)))return Ng("Unsupported field value:",e,i),Hw(i,e);if(i instanceof Cf)return function(s,o){if(!Bw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=Bu(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=nt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return EN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Xh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xh(o.serializer,u)}}if(s instanceof Si)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:uw(o.serializer,s._byteString)};if(s instanceof vt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ai)return function(h,m){return{mapValue:{fields:{[Ub]:{stringValue:jb},[Kh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return cg(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${mf(s)}`)}(i,e)}function Hw(i,e){const t={};return Ob(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(i,(s,o)=>{const u=Bu(o,e.mc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Fw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Si||i instanceof Bn||i instanceof vt||i instanceof Cf||i instanceof Ai)}function Ng(i,e,t){if(!Fw(t)||!Nb(t)){const s=mf(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function kp(i,e,t){if((e=nt(e))instanceof If)return e._internalPath;if(typeof e=="string")return Dg(i,e);throw ef("Field path arguments must be of type string or ",i,!1,void 0,t)}const LO=new RegExp("[~\\*/\\[\\]]");function Dg(i,e,t){if(e.search(LO)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new If(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ef(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ce(J.INVALID_ARGUMENT,m+i+p)}function Gw(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Og("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class UO extends Kw{data(){return super.data()}}function Og(i,e){return typeof e=="string"?Dg(i,e):e instanceof If?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class Mg extends kg{}function ga(i,e,...t){let s=[];e instanceof kg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Vg).length,m=u.filter(p=>p instanceof Pg).length;if(h>1||h>0&&m>0)throw new ce(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Pg extends Mg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Pg(e,t,s)}_apply(e){const t=this._parse(e);return Yw(e._query,t),new Es(e.firestore,e.converter,wp(e._query,t))}_parse(e){const t=xf(e.firestore);return function(u,h,m,p,g,E,S){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){e0(S,E);const U=[];for(const B of S)U.push(JT(p,u,B));A={arrayValue:{values:U}}}else A=JT(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||e0(S,E),A=VO(m,h,S,E==="in"||E==="not-in");return At.create(g,E,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Vg extends kg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Zn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Yw(h,p),h=wp(h,p)}(e._query,t),new Es(e.firestore,e.converter,wp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lg extends Mg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Lg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Su(u,h)}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new qo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function ur(i,e="asc"){const t=e,s=Og("orderBy",i);return Lg._create(s,t)}class Ug extends Mg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Ug(e,t,s)}_apply(e){return new Es(e.firestore,e.converter,$h(e._query,this._limit,this._limitType))}}function zO(i){return Ug._create("limit",i,"F")}function JT(i,e,t){if(typeof(t=nt(t))=="string"){if(t==="")throw new ce(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yb(e)&&t.indexOf("/")!==-1)throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!ge.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mT(i,new ge(s))}if(t instanceof vt)return mT(i,t._key);throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(t)}.`)}function e0(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yw(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class BO{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return _s(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){const t=e.fields?.[Kh].arrayValue?.values?.map(s=>_t(s.doubleValue));return new Ai(t)}convertGeoPoint(e){return new Si(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=yf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const t=ls(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);He(pw(s),9688,{name:e});const o=new bu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class lu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends Kw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Og("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=la._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Rt("string",la._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Mh extends la{data(e={}){return super.data(e)}}class Io{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new lu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Mh(this._firestore,this._userDataWriter,s.key,s,new lu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:qO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:Rt("string",Io._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Qw extends BO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}function HO(i,e,t){i=Ti(i,vt);const s=Ti(i.firestore,pa),o=$w(i.converter,e,t);return Df(s,[qw(xf(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,qn.none())])}function tf(i,e,t,...s){i=Ti(i,vt);const o=Ti(i.firestore,pa),u=xf(o);let h;return h=typeof(e=nt(e))=="string"||e instanceof If?PO(u,"updateDoc",i._key,e,t,s):MO(u,"updateDoc",i._key,e),Df(o,[h.toMutation(i._key,qn.exists(!0))])}function Xw(i){return Df(Ti(i.firestore,pa),[new hg(i._key,qn.none())])}function jg(i,e){const t=Ti(i.firestore,pa),s=lr(i),o=$w(i.converter,e);return Df(t,[qw(xf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then(()=>s)}function ds(i,...e){i=nt(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ZT(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(ZT(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof vt)h=Ti(i.firestore,pa),m=ug(i._key.path),u={next:p=>{e[s]&&e[s](FO(h,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Ti(i,Es);h=Ti(p.firestore,pa),m=p._query;const g=new Qw(h);u={next:E=>{e[s]&&e[s](new Io(h,g,p,E))},error:e[s+1],complete:e[s+2]},jO(i._query)}return function(g,E,S,A){const M=new SO(A),U=new sO(E,M,S);return g.asyncQueue.enqueueAndForget(async()=>tO(await GT(g),U)),()=>{M.Nu(),g.asyncQueue.enqueueAndForget(async()=>nO(await GT(g),U))}}(jw(h),m,o,u)}function Df(i,e){return function(s,o){const u=new oa;return s.asyncQueue.enqueueAndForget(async()=>pO(await IO(s),o,u)),u.promise}(jw(i),e)}function FO(i,e,t){const s=t.docs.get(e._key),o=new Qw(i);return new la(i,o,e._key,s,new lu(t.hasPendingWrites,t.fromCache),e.converter)}function ar(){return new xg("serverTimestamp")}(function(e,t=!0){(function(o){jo=o})(va),ha(new as("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new pa(new Ox(s.getProvider("auth-internal")),new Px(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(g.options.projectId,E)}(h,o),h);return u={useFetchStreams:t,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),_i(tT,nT,e),_i(tT,nT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="firebasestorage.googleapis.com",Zw="storageBucket",GO=120*1e3,KO=600*1e3,YO=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Ni{constructor(e,t,s=0){super(ip(e),`Firebase Storage: ${t} (${ip(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ip(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function ip(i){return"storage/"+i}function zg(){const i="An unknown error occurred, please check the error payload for server response.";return new ct(rt.UNKNOWN,i)}function $O(i){return new ct(rt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function QO(i){return new ct(rt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(rt.UNAUTHENTICATED,i)}function WO(){return new ct(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ZO(i){return new ct(rt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function Jw(){return new ct(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function e1(){return new ct(rt.CANCELED,"User canceled the upload/download.")}function JO(i){return new ct(rt.INVALID_URL,"Invalid URL '"+i+"'.")}function e4(i){return new ct(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function t4(){return new ct(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Zw+"' property when initializing the app?")}function t1(){return new ct(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function n4(){return new ct(rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function i4(){return new ct(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function r4(i){return new ct(rt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mp(i){return new ct(rt.INVALID_ARGUMENT,i)}function n1(){return new ct(rt.APP_DELETED,"The Firebase app was deleted.")}function s4(i){return new ct(rt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pu(i,e){return new ct(rt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function nu(i){throw new ct(rt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=cn.makeFromUrl(e,t)}catch{return new cn(e,"")}if(s.path==="")return s;throw e4(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ie){ie.path_=decodeURIComponent(ie.path)}const E="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",M=new RegExp(`^https?://${S}/${E}/b/${o}/o${A}`,"i"),U={bucket:1,path:3},B=t===Ww?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",q=new RegExp(`^https?://${B}/${o}/${P}`,"i"),Q=[{regex:m,indices:p,postModify:u},{regex:M,indices:U,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let ie=0;ie<Q.length;ie++){const se=Q[ie],he=se.regex.exec(e);if(he){const N=he[se.indices.bucket];let R=he[se.indices.path];R||(R=""),s=new cn(N,R),se.postModify(s);break}}if(s==null)throw JO(e);return s}}class a4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(i,e,t){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...P){g||(g=!0,e.apply(null,P))}function S(P){o=setTimeout(()=>{o=null,i(M,p())},P)}function A(){u&&clearTimeout(u)}function M(P,...q){if(g){A();return}if(P){A(),E.call(null,P,...q);return}if(p()||h){A(),E.call(null,P,...q);return}s<64&&(s*=2);let Q;m===1?(m=2,Q=0):Q=(s+Math.random())*1e3,S(Q)}let U=!1;function B(P){U||(U=!0,A(),!g&&(o!==null?(P||(m=2),clearTimeout(o),S(0)):P||(m=1)))}return S(0),u=setTimeout(()=>{h=!0,B(!0)},t),B}function l4(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(i){return i!==void 0}function c4(i){return typeof i=="function"}function h4(i){return typeof i=="object"&&!Array.isArray(i)}function Of(i){return typeof i=="string"||i instanceof String}function t0(i){return Bg()&&i instanceof Blob}function Bg(){return typeof Blob<"u"}function Pp(i,e,t,s){if(s<e)throw Mp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw Mp(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function i1(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var ua;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ua||(ua={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,t,s,o,u,h,m,p,g,E,S,A=!0,M=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=S,this.retry=A,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,B)=>{this.resolve_=U,this.reject_=B,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Th(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===ua.NO_ERROR,p=u.getStatus();if(!m||r1(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ua.ABORT;s(!1,new Th(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Th(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());u4(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=zg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?n1():e1();h(p)}else{const p=Jw();h(p)}};this.canceled_?t(!1,new Th(!1,null,!0)):this.backoffId_=o4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&l4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Th{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function d4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function m4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function p4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function g4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function y4(i,e,t,s,o,u,h=!0,m=!1){const p=i1(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return p4(E,e),d4(E,t),m4(E,u),g4(E,s),new f4(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function v4(...i){const e=_4();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(Bg())return new Blob(i);throw new ct(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function E4(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(i){if(typeof atob>"u")throw r4("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rp{constructor(e,t){this.data=e,this.contentType=t||null}}function b4(i,e){switch(i){case yi.RAW:return new rp(s1(e));case yi.BASE64:case yi.BASE64URL:return new rp(a1(i,e));case yi.DATA_URL:return new rp(S4(e),A4(e))}throw zg()}function s1(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function w4(i){let e;try{e=decodeURIComponent(i)}catch{throw pu(yi.DATA_URL,"Malformed data URL.")}return s1(e)}function a1(i,e){switch(i){case yi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw pu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case yi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw pu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=T4(e)}catch(o){throw o.message.includes("polyfill")?o:pu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class o1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw pu(yi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=R4(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function S4(i){const e=new o1(i);return e.base64?a1(yi.BASE64,e.rest):w4(e.rest)}function A4(i){return new o1(i).contentType}function R4(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t){let s=0,o="";t0(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(t0(this.data_)){const s=this.data_,o=E4(s,e,t);return o===null?null:new Zr(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Zr(s,!0)}}static getBlob(...e){if(Bg()){const t=e.map(s=>s instanceof Zr?s.data_:s);return new Zr(v4.apply(null,t))}else{const t=e.map(h=>Of(h)?b4(yi.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new Zr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(i){let e;try{e=JSON.parse(i)}catch{return null}return h4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function C4(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function l1(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(i,e){return e}class un{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||x4}}let bh=null;function N4(i){return!Of(i)||i.length<2?i:l1(i)}function Hg(){if(bh)return bh;const i=[];i.push(new un("bucket")),i.push(new un("generation")),i.push(new un("metageneration")),i.push(new un("name","fullPath",!0));function e(u,h){return N4(h)}const t=new un("name");t.xform=e,i.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new un("size");return o.xform=s,i.push(o),i.push(new un("timeCreated")),i.push(new un("updated")),i.push(new un("md5Hash",null,!0)),i.push(new un("cacheControl",null,!0)),i.push(new un("contentDisposition",null,!0)),i.push(new un("contentEncoding",null,!0)),i.push(new un("contentLanguage",null,!0)),i.push(new un("contentType",null,!0)),i.push(new un("metadata","customMetadata",!0)),bh=i,bh}function D4(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new cn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function O4(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return D4(s,i),s}function u1(i,e,t){const s=qg(e);return s===null?null:O4(i,s,t)}function k4(i,e,t,s){const o=qg(e);if(o===null||!Of(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,S=i.fullPath,A="/b/"+h(E)+"/o/"+h(S),M=wa(A,t,s),U=i1({alt:"media",token:g});return M+U})[0]}function c1(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="prefixes",i0="items";function M4(i,e,t){const s={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[n0])for(const o of t[n0]){const u=o.replace(/\/$/,""),h=i._makeStorageReference(new cn(e,u));s.prefixes.push(h)}if(t[i0])for(const o of t[i0]){const u=i._makeStorageReference(new cn(e,o.name));s.items.push(u)}return s}function P4(i,e,t){const s=qg(t);return s===null?null:M4(i,e,s)}class Ts{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(i){if(!i)throw zg()}function Fg(i,e){function t(s,o){const u=u1(i,o,e);return Ri(u!==null),u}return t}function V4(i,e){function t(s,o){const u=P4(i,e,o);return Ri(u!==null),u}return t}function L4(i,e){function t(s,o){const u=u1(i,o,e);return Ri(u!==null),k4(u,o,i.host,i._protocol)}return t}function Fo(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=WO():o=XO():t.getStatus()===402?o=QO(i.bucket):t.getStatus()===403?o=ZO(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Gg(i){const e=Fo(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=$O(i.path)),u.serverResponse=o.serverResponse,u}return t}function h1(i,e,t){const s=e.fullServerUrl(),o=wa(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new Ts(o,u,Fg(i,t),h);return m.errorHandler=Gg(e),m}function U4(i,e,t,s,o){const u={};e.isRoot?u.prefix="":u.prefix=e.path+"/",t.length>0&&(u.delimiter=t),s&&(u.pageToken=s),o&&(u.maxResults=o);const h=e.bucketOnlyServerUrl(),m=wa(h,i.host,i._protocol),p="GET",g=i.maxOperationRetryTime,E=new Ts(m,p,V4(i,e.bucket),g);return E.urlParams=u,E.errorHandler=Fo(e),E}function j4(i,e,t){const s=e.fullServerUrl(),o=wa(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new Ts(o,u,L4(i,t),h);return m.errorHandler=Gg(e),m}function z4(i,e){const t=e.fullServerUrl(),s=wa(t,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function h(p,g){}const m=new Ts(s,o,h,u);return m.successCodes=[200,204],m.errorHandler=Gg(e),m}function B4(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function f1(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=B4(null,e)),s}function q4(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let Q="";for(let ie=0;ie<2;ie++)Q=Q+Math.random().toString().slice(2);return Q}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=f1(e,s,o),E=c1(g,t),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",M=Zr.getBlob(S,s,A);if(M===null)throw t1();const U={name:g.fullPath},B=wa(u,i.host,i._protocol),P="POST",q=i.maxUploadRetryTime,ne=new Ts(B,P,Fg(i,t),q);return ne.urlParams=U,ne.headers=h,ne.body=M.uploadData(),ne.errorHandler=Fo(e),ne}class nf{constructor(e,t,s,o){this.current=e,this.total=t,this.finalized=!!s,this.metadata=o||null}}function Kg(i,e){let t=null;try{t=i.getResponseHeader("X-Goog-Upload-Status")}catch{Ri(!1)}return Ri(!!t&&(e||["active"]).indexOf(t)!==-1),t}function H4(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h=f1(e,s,o),m={name:h.fullPath},p=wa(u,i.host,i._protocol),g="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},S=c1(h,t),A=i.maxUploadRetryTime;function M(B){Kg(B);let P;try{P=B.getResponseHeader("X-Goog-Upload-URL")}catch{Ri(!1)}return Ri(Of(P)),P}const U=new Ts(p,g,M,A);return U.urlParams=m,U.headers=E,U.body=S,U.errorHandler=Fo(e),U}function F4(i,e,t,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const E=Kg(g,["active","final"]);let S=null;try{S=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ri(!1)}S||Ri(!1);const A=Number(S);return Ri(!isNaN(A)),new nf(A,s.size(),E==="final")}const h="POST",m=i.maxUploadRetryTime,p=new Ts(t,h,u,m);return p.headers=o,p.errorHandler=Fo(e),p}const r0=256*1024;function G4(i,e,t,s,o,u,h,m){const p=new nf(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw n4();const g=p.total-p.current;let E=g;o>0&&(E=Math.min(E,o));const S=p.current,A=S+E;let M="";E===0?M="finalize":g===E?M="upload, finalize":M="upload";const U={"X-Goog-Upload-Command":M,"X-Goog-Upload-Offset":`${p.current}`},B=s.slice(S,A);if(B===null)throw t1();function P(ie,se){const he=Kg(ie,["active","final"]),N=p.current+E,R=s.size();let I;return he==="final"?I=Fg(e,u)(ie,se):I=null,new nf(N,R,he==="final",I)}const q="POST",ne=e.maxUploadRetryTime,Q=new Ts(t,q,P,ne);return Q.headers=U,Q.body=B.uploadData(),Q.progressCallback=m||null,Q.errorHandler=Fo(i),Q}const pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sp(i){switch(i){case"running":case"pausing":case"canceling":return pn.RUNNING;case"paused":return pn.PAUSED;case"success":return pn.SUCCESS;case"canceled":return pn.CANCELED;case"error":return pn.ERROR;default:return pn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t,s){if(c4(e)||t!=null||s!=null)this.next=e,this.error=t??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class Y4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ua.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ua.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ua.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw nu("cannot .send() more than once");if(gs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $4 extends Y4{initXhr(){this.xhr_.responseType="text"}}function ir(){return new $4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=s,this._mappings=Hg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(rt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(r1(o.status,[]))if(u)o=Jw();else{this.sleepTime=Math.max(this.sleepTime*2,YO),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(rt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,s])=>{switch(this._state){case"running":e(t,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const s=H4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,ir,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,s)=>{const o=F4(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,ir,t,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=r0*this._chunkMultiplier,t=new nf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=G4(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,ir,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){r0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const s=h1(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,ir,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const s=q4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,ir,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=e1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=sp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,s,o){const u=new K4(t||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(sp(this._state)){case pn.SUCCESS:yo(this._resolve.bind(null,this.snapshot))();break;case pn.CANCELED:case pn.ERROR:const t=this._reject;yo(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(sp(this._state)){case pn.RUNNING:case pn.PAUSED:e.next&&yo(e.next.bind(e,this.snapshot))();break;case pn.SUCCESS:e.complete&&yo(e.complete.bind(e))();break;case pn.CANCELED:case pn.ERROR:e.error&&yo(e.error.bind(e,this._error))();break;default:e.error&&yo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,t){this._service=e,t instanceof cn?this._location=t:this._location=cn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ya(e,t)}get root(){const e=new cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return l1(this._location.path)}get storage(){return this._service}get parent(){const e=I4(this._location.path);if(e===null)return null;const t=new cn(this._location.bucket,e);return new ya(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw s4(e)}}function X4(i,e,t){return i._throwIfRoot("uploadBytesResumable"),new Q4(i,new Zr(e),t)}function W4(i){const e={prefixes:[],items:[]};return d1(i,e).then(()=>e)}async function d1(i,e,t){const o=await Z4(i,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await d1(i,e,o.nextPageToken)}function Z4(i,e){e!=null&&typeof e.maxResults=="number"&&Pp("options.maxResults",1,1e3,e.maxResults);const t=e||{},s=U4(i.storage,i._location,"/",t.pageToken,t.maxResults);return i.storage.makeRequestWithTokens(s,ir)}function J4(i){i._throwIfRoot("getMetadata");const e=h1(i.storage,i._location,Hg());return i.storage.makeRequestWithTokens(e,ir)}function ek(i){i._throwIfRoot("getDownloadURL");const e=j4(i.storage,i._location,Hg());return i.storage.makeRequestWithTokens(e,ir).then(t=>{if(t===null)throw i4();return t})}function tk(i){i._throwIfRoot("deleteObject");const e=z4(i.storage,i._location);return i.storage.makeRequestWithTokens(e,ir)}function nk(i,e){const t=C4(i._location.path,e),s=new cn(i._location.bucket,t);return new ya(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(i){return/^[A-Za-z]+:\/\//.test(i)}function rk(i,e){return new ya(i,e)}function m1(i,e){if(i instanceof Yg){const t=i;if(t._bucket==null)throw t4();const s=new ya(t,t._bucket);return e!=null?m1(s,e):s}else return e!==void 0?nk(i,e):i}function sk(i,e){if(e&&ik(e)){if(i instanceof Yg)return rk(i,e);throw Mp("To use ref(service, url), the first argument must be a Storage instance.")}else return m1(i,e)}function s0(i,e){const t=e?.[Zw];return t==null?null:cn.makeFromBucketSpec(t,i)}function ak(i,e,t,s={}){i.host=`${e}:${t}`;const o=gs(e);o&&(Hp(`https://${i.host}/b`),Fp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:P0(u,i.app.options.projectId))}class Yg{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=Ww,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GO,this._maxUploadRetryTime=KO,this._requests=new Set,o!=null?this._bucket=cn.makeFromBucketSpec(o,this._host):this._bucket=s0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cn.makeFromBucketSpec(this._url,e):this._bucket=s0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Pp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Pp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ya(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new a4(n1());{const h=y4(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const a0="@firebase/storage",o0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="storage";function kf(i,e,t){return i=nt(i),X4(i,e,t)}function ok(i){return i=nt(i),J4(i)}function lk(i){return i=nt(i),W4(i)}function qu(i){return i=nt(i),ek(i)}function $g(i){return i=nt(i),tk(i)}function ms(i,e){return i=nt(i),sk(i,e)}function uk(i=Yp(),e){i=nt(i);const s=uf(i,p1).getImmediate({identifier:e}),o=O0("storage");return o&&ck(s,...o),s}function ck(i,e,t,s={}){ak(i,e,t,s)}function hk(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Yg(t,s,o,e,va)}function fk(){ha(new as(p1,hk,"PUBLIC").setMultipleInstances(!0)),_i(a0,o0,""),_i(a0,o0,"esm2020")}fk();const dk={apiKey:"REDACTED",authDomain:"blessednpolished-a8cf2.firebaseapp.com",projectId:"blessednpolished-a8cf2",storageBucket:"blessednpolished-a8cf2.firebasestorage.app",messagingSenderId:"748722371086",appId:"1:748722371086:web:476f34a9552ca20dfa1a5f"},Qg=U0(dk),Co=Cx(Qg),Qt=xO(Qg),ps=uk(Qg);var g1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l0=es.createContext&&es.createContext(g1),mk=["attr","size","title"];function pk(i,e){if(i==null)return{};var t=gk(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function gk(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function rf(){return rf=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},rf.apply(this,arguments)}function u0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function sf(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u0(Object(t),!0).forEach(function(s){yk(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):u0(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function yk(i,e,t){return e=_k(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function _k(i){var e=vk(i,"string");return typeof e=="symbol"?e:e+""}function vk(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function y1(i){return i&&i.map((e,t)=>es.createElement(e.tag,sf({key:t},e.attr),y1(e.child)))}function Mf(i){return e=>es.createElement(Ek,rf({attr:sf({},i.attr)},e),y1(i.child))}function Ek(i){var e=t=>{var{attr:s,size:o,title:u}=i,h=pk(i,mk),m=o||t.size||"1em",p;return t.className&&(p=t.className),i.className&&(p=(p?p+" ":"")+i.className),es.createElement("svg",rf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:sf(sf({color:i.color||t.color},t.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&es.createElement("title",null,u),i.children)};return l0!==void 0?es.createElement(l0.Consumer,null,t=>e(t)):e(g1)}function Tk(i){return Mf({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(i)}function bk(i){return Mf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(i)}function wk(i){return Mf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(i)}function Sk(i){return Mf({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"},child:[]}]})(i)}function _1({className:i="",size:e=20,gap:t="gap-4",brand:s=!1}){const o=[{label:"Instagram",type:"external",Icon:bk,href:"https://www.instagram.com/reinakatrina84/",color:"#E1306C"},{label:"Facebook",type:"external",Icon:Tk,href:"https://www.facebook.com/katrina.garcia.777158",color:"#1877F2"},{label:"TikTok",type:"external",Icon:Sk,href:"https://www.tiktok.com/@reinakatg?lang=en",color:"#000000"},{label:"Contact",type:"internal",Icon:wk,to:"/contact",color:"#6B7280"}],u="inline-flex items-center justify-center rounded-full w-10 h-10 transition-transform duration-150 hover:-translate-y-0.5 focus:outline-none focus-visible:ring focus-visible:ring-black/10";return b.jsx("nav",{"aria-label":"Social media",className:`flex items-center ${t} ${i}`,children:o.map(({label:h,type:m,Icon:p,href:g,to:E,color:S})=>m==="external"?b.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer","aria-label":h,title:h,className:u,style:{color:s?S:void 0},children:b.jsx(p,{size:e})},h):b.jsx(zt,{to:E,"aria-label":h,title:h,className:u,style:{color:s?S:void 0},children:b.jsx(p,{size:e})},h))})}function v1(){const i=Up(),e=gr(),[t,s]=L.useState(!1),[o,u]=L.useState(!1);L.useEffect(()=>cb(Co,m=>s(!!m)),[]),L.useEffect(()=>u(!1),[e.pathname]),L.useEffect(()=>{const m=p=>p.key==="Escape"&&u(!1);return window.addEventListener("keydown",m),document.body.style.overflow=o?"hidden":"",()=>{window.removeEventListener("keydown",m),document.body.style.overflow=""}},[o]);const h=m=>{const p=()=>document.getElementById(m)?.scrollIntoView({behavior:"smooth"});e.pathname!=="/"?(i("/"),setTimeout(p,0)):p()};return b.jsxs(b.Fragment,{children:[b.jsx("header",{className:"sticky top-0 z-[200] backdrop-blur bg-white/70 border-b border-black/5",children:b.jsxs("div",{className:"mx-auto max-w-6xl px-4 h-16 flex items-center justify-between",children:[b.jsxs("button",{onClick:()=>h("hero"),className:"text-left text-xl font-semibold tracking-tight",children:["Blessed ",b.jsx("span",{className:"text-[#ff9e0a]",children:"N"})," Polished"]}),b.jsxs("nav",{className:"hidden sm:flex gap-6 text-sm text-neutral-700 items-center",children:[b.jsx("button",{onClick:()=>h("services"),className:"hover:text-black",children:"Services"}),b.jsx("button",{onClick:()=>h("gallery"),className:"hover:text-black",children:"Gallery"}),b.jsx(zt,{to:"/book",className:"hover:text-black",children:"Booking"}),b.jsx(zt,{to:"/contact",className:"hover:text-black",children:"Contact"}),t&&b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"mx-2 h-4 w-px bg-neutral-300"}),b.jsx(zt,{to:"/admin",className:"text-neutral-600 hover:text-black",children:"Admin"}),b.jsx("button",{className:"btn btn-ghost",onClick:()=>pp(Co),children:"Sign out"})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(zt,{to:"/book",className:"hidden sm:inline-flex btn btn-primary sm:ml-6",children:"Book Now"}),b.jsx("button",{type:"button",onClick:()=>u(!0),className:"sm:hidden inline-flex items-center justify-center w-10 h-10 rounded-xl border border-black/10","aria-label":"Open menu","aria-controls":"mobile-drawer","aria-expanded":o,children:b.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:b.jsx("path",{d:"M4 6h16M4 12h16M4 18h16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]})]})}),MR.createPortal(b.jsxs(b.Fragment,{children:[b.jsx("div",{className:`fixed inset-0 z-[10000] bg-black/70 backdrop-blur-[2px] transition-opacity duration-300 ${o?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>u(!1),"aria-hidden":!o}),b.jsx("aside",{id:"mobile-drawer",className:`fixed right-0 top-0 bottom-0 z-[10010] w-[86%] max-w-sm shadow-2xl ring-1 ring-black/10
                        transition-transform duration-300 ease-out ${o?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true",style:{background:"linear-gradient(to bottom, #f9d6d1 0%, #ffffff 100%)"},children:b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsxs("div",{className:"h-16 px-4 border-b border-black/10 bg-white flex items-center justify-between",children:[b.jsx("span",{className:"font-semibold",children:"Menu"}),b.jsx("button",{type:"button",onClick:()=>u(!1),className:"inline-flex items-center justify-center w-10 h-10 rounded-xl border border-black/10 bg-white","aria-label":"Close menu",children:b.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:b.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),b.jsx("nav",{className:"p-4 space-y-3",children:(()=>{const m=`block w-full text-left px-4 py-3 rounded-xl text-base font-medium
       text-neutral-900 bg-white hover:bg-neutral-50
       transition translate-x-4 opacity-0`;return b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>{h("services"),u(!1)},className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:"0ms"},children:"Services"}),b.jsx("button",{onClick:()=>{h("gallery"),u(!1)},className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"40ms":"0ms"},children:"Gallery"}),b.jsx(zt,{to:"/book",onClick:()=>u(!1),className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"80ms":"0ms"},children:"Booking"}),b.jsx(zt,{to:"/contact",onClick:()=>u(!1),className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"120ms":"0ms"},children:"Contact"}),t&&b.jsxs(b.Fragment,{children:[b.jsx(zt,{to:"/admin",onClick:()=>u(!1),className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"160ms":"0ms"},children:"Admin"}),b.jsx("button",{onClick:()=>{u(!1),pp(Co)},className:`${m} ${o?"translate-x-0 opacity-100":""}`,style:{transitionDelay:o?"200ms":"0ms"},children:"Sign out"})]}),b.jsx(zt,{to:"/book",onClick:()=>u(!1),className:"mt-2 btn btn-primary w-full justify-center",children:"Book Now"}),b.jsx("div",{className:"pt-4 flex justify-center",children:b.jsx(_1,{size:24,gap:18,monochrome:!0})})]})})()})]})})]}),document.body)]})}function Ak(){return b.jsx("footer",{className:"border-t border-black/5",children:b.jsxs("div",{className:"mx-auto max-w-6xl px-4 h-20 flex items-center justify-between text-sm text-neutral-700",children:[b.jsxs("p",{children:[" ",new Date().getFullYear()," Blessed N Polished"]}),b.jsx(_1,{className:"justify-center",size:22,gap:"gap-5",brand:!1}),b.jsxs("p",{className:"text-neutral-500",children:[" ",new Date().getFullYear()," Blessed N Polished"]})]})})}function Rk(){return b.jsxs("div",{className:"min-h-dvh w-full overflow-x-clip bg-gradient-to-b from-[#f9d6d1] to-white",children:[b.jsx(v1,{}),b.jsx("main",{className:"w-full overflow-x-clip",children:b.jsx(JA,{})}),b.jsx(Ak,{})]})}function Xg(){const[i,e]=L.useState(null);return L.useEffect(()=>ds(lr(Qt,"site","settings"),s=>{e(s.exists()?s.data():null)}),[]),i}function Ik({onBook:i}){const e=Xg();return b.jsx("section",{id:"hero",className:"bg-transparent",children:b.jsx("div",{className:"mx-auto max-w-6xl px-4 py-10 md:py-16",children:b.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12 items-center",children:[b.jsxs("div",{className:"order-2 md:order-1",children:[b.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight tracking-tight",children:e?.heroHeadline||"Blessed N Polished"}),b.jsx("p",{className:"mt-4 text-lg text-neutral-700",children:e?.heroSub||"May your nails always get compliments"}),b.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[i?b.jsx("button",{className:"btn btn-primary",onClick:i,children:"Book Now"}):b.jsx(zt,{to:"/book",className:"btn btn-primary",children:"Book Now"}),b.jsx(zt,{to:"/services",className:"btn btn-ghost",children:"Our Services"})]})]}),b.jsx("div",{className:"order-1 md:order-2",children:b.jsx("div",{className:`\r
      relative mx-auto\r
      w-full max-w-[clamp(260px,80vw,420px)]  /* cap size on phones */\r
      md:max-w-none                           /* free to expand on desktop */\r
      rounded-3xl overflow-hidden shadow-xl ring-1 ring-black/5\r
      aspect-[4/5] sm:aspect-[3/4] md:aspect-[4/3]\r
    `,children:e?.heroImage?b.jsx("img",{src:e.heroImage,alt:"",className:"absolute inset-0 h-full w-full object-cover object-center",width:1200,height:1600,loading:"eager"}):b.jsx("div",{className:"absolute inset-0 bg-neutral-200"})})})]})})})}const Ck=[{key:"bling",title:"Swarovski/Diamonds",desc:"Genuine Swarovski crystals hand-set  accent nails or full bling."},{key:"xxl",title:"XXL Nail Art",desc:"Sculpted extra-long set with custom art, charms, foils & encapsulation."},{key:"xxxl",title:"XXXL Extreme Length",desc:"Ultra-long statement nails with 3D/encapsulated design work."}];function E1({showViewAll:i}){const{pathname:e}=gr(),t=i??e!=="/services",[s,o]=L.useState(null);L.useEffect(()=>{const h=pr(Qt,"signatureLooks"),m=E=>{const S=E.docs.map(A=>({id:A.id,...A.data()})).filter(A=>A.enabled!==!1);o(S.length?S:null)};let p=()=>{},g=()=>{};return p=ds(ga(h,ur("order","asc"),ur("createdAt","asc")),m,E=>{E?.code==="failed-precondition"?g=ds(ga(h,ur("order","asc")),m):console.error(E)}),()=>{p&&p(),g&&g()}},[]);const u=s??Ck;return b.jsx("section",{id:"services",className:"py-12 md:py-16 scroll-mt-24 bg-transparent",children:b.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[b.jsxs("div",{className:"flex items-end justify-between mb-6",children:[b.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Signature Looks"}),t&&b.jsx(zt,{to:"/services",className:"text-sm underline",children:"View all"})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6",children:u.map((h,m)=>b.jsxs("div",{className:`group w-full max-w-[420px] sm:max-w-none mx-auto\r
                         rounded-2xl overflow-hidden bg-white ring-1 ring-black/5 shadow-soft\r
                         transition hover:-translate-y-0.5 hover:shadow-xl`,children:[h.imgUrl&&b.jsxs("div",{className:"relative aspect-[16/9] sm:aspect-[4/3]",children:[b.jsx("img",{src:h.imgUrl,alt:h.alt||"",loading:"lazy",className:"absolute inset-0 h-full w-full object-cover"}),b.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-inset ring-black/5"})]}),b.jsxs("div",{className:"p-5",children:[b.jsx("h3",{className:"font-semibold",children:h.title}),b.jsx("p",{className:"text-neutral-600 mt-2",children:h.desc})]})]},h.id||h.key||m))})]})})}function xk(){const[i,e]=L.useState([]);L.useEffect(()=>{const s=ga(pr(Qt,"images"),ur("createdAt","desc"),zO(12));return ds(s,o=>e(o.docs.map(u=>({id:u.id,...u.data()}))))},[]);const t=L.useMemo(()=>{const s=i.filter(o=>o.featured);return(s.length?s:i).slice(0,6)},[i]);return t.length?b.jsx("section",{id:"gallery",className:"py-12 md:py-16 scroll-mt-24 bg-transparent",children:b.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[b.jsxs("div",{className:"flex items-end justify-between mb-6",children:[b.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Gallery"}),b.jsx(zt,{to:"/gallery",className:"text-sm underline",children:"View full gallery"})]}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 md:gap-4",children:t.map(s=>b.jsx("div",{className:"group overflow-hidden rounded-2xl",children:b.jsx("div",{className:"aspect-[4/3] bg-transparent",children:b.jsx("img",{src:s.url,alt:"",loading:"lazy",className:"w-full h-full object-contain p-1 transition-transform duration-300 group-hover:scale-[1.02]"})})},s.id))})]})}):null}function Nk(){return b.jsxs(b.Fragment,{children:[b.jsx(Ik,{}),b.jsx(E1,{}),b.jsx(xk,{})]})}function Pf({open:i,onClose:e,onSelect:t}){const[s,o]=L.useState([]),[u,h]=L.useState([]),[m,p]=L.useState(!1),[g,E]=L.useState(""),[S,A]=L.useState("all");L.useEffect(()=>{if(!i)return;const B=ga(pr(Qt,"images"),ur("createdAt","desc"));return ds(B,P=>o(P.docs.map(q=>({id:q.id,...q.data()}))))},[i]),L.useEffect(()=>{if(!i)return;let B=!1;async function P(q,ne){try{const Q=await lk(ms(ps,q));return await Promise.all(Q.items.map(async se=>{const[he,N]=await Promise.all([qu(se),ok(se).catch(()=>null)]);return{id:`st:${se.fullPath}`,url:he,path:se.fullPath,category:ne,name:se.name.toLowerCase(),size:N?.size??null,createdAt:N?.timeCreated?Date.parse(N.timeCreated):0}}))}catch{return[]}}return(async()=>{p(!0);const[q,ne]=await Promise.all([P("assets/hero","hero"),P("gallery","general")]);B||(h([...q,...ne]),p(!1))})(),()=>{B=!0}},[i]);const U=L.useMemo(()=>{const B=new Map;for(const q of u)B.set(q.path,q);for(const q of s)B.set(q.path||q.url,{...q});const P=[...B.values()];return P.sort((q,ne)=>(ne.createdAt??0)-(q.createdAt??0)),P},[s,u]).filter(B=>{const P=S==="all"||(B.category||"general")===S,q=g.trim().toLowerCase(),ne=!q||B.name?.includes(q)||B.path?.toLowerCase().includes(q);return P&&ne});return i?b.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 grid place-items-center",children:b.jsxs("div",{className:"bg-white rounded-2xl p-4 w-[min(900px,100%)]",children:[b.jsxs("div",{className:"flex gap-2 mb-3",children:[b.jsx("input",{className:"border rounded px-3 py-2 flex-1",placeholder:"Search name",value:g,onChange:B=>E(B.target.value)}),b.jsxs("select",{className:"border rounded px-3 py-2",value:S,onChange:B=>A(B.target.value),children:[b.jsx("option",{value:"all",children:"All"}),b.jsx("option",{value:"hero",children:"Hero"}),b.jsx("option",{value:"general",children:"General"}),b.jsx("option",{value:"nails",children:"Nails"}),b.jsx("option",{value:"designs",children:"Designs"})]})]}),m?b.jsx("p",{className:"text-sm text-neutral-600 p-4",children:"Loading media"}):U.length===0?b.jsx("p",{className:"text-sm text-neutral-600 p-4",children:"No media found."}):b.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 max-h-[60vh] overflow-auto",children:U.map(B=>b.jsxs("button",{className:"border rounded overflow-hidden hover:ring-2 hover:ring-black",onClick:()=>{t(B),e()},children:[b.jsx("img",{src:B.url,className:"w-full h-24 object-cover"}),b.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-600 truncate",children:(B.category||"general").toUpperCase()})]},B.id))}),b.jsx("div",{className:"mt-3 text-right",children:b.jsx("button",{className:"btn btn-ghost",onClick:e,children:"Close"})})]})}):null}function Vf({value:i}){return i==null?null:b.jsxs("div",{className:"mt-2 w-full",children:[b.jsx("div",{className:"h-2 w-full bg-neutral-200 rounded",children:b.jsx("div",{className:"h-2 bg-black rounded transition-[width] duration-200",style:{width:`${Math.max(2,i)}%`}})}),b.jsxs("div",{className:"text-xs mt-1 text-neutral-600",children:[i,"%"]})]})}function Dk(){const[i,e]=L.useState(null),[t,s]=L.useState(!0);return L.useEffect(()=>cb(Co,u=>{e(u),s(!1)}),[]),t?null:i?b.jsxs("div",{className:"mx-auto max-w-6xl p-6 space-y-10",children:[b.jsx(v1,{}),b.jsxs("header",{className:"flex items-center justify-between",children:[b.jsx("h1",{className:"text-2xl font-bold",children:"Admin"}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(zt,{to:"/",className:"text-sm underline",children:"View Site"}),b.jsx("button",{className:"btn btn-ghost",onClick:()=>pp(Co),children:"Sign out"})]})]}),b.jsx(kk,{}),b.jsx(Vk,{}),b.jsx(Mk,{}),b.jsx(Pk,{})]}):b.jsx(Ok,{})}function Ok(){const i=Up(),[e,t]=L.useState({email:"",password:""}),[s,o]=L.useState("");async function u(h){h.preventDefault(),o("");try{await pC(Co,e.email,e.password),i("/admin",{replace:!0})}catch(m){o(m.message||"Login failed")}}return b.jsx("div",{className:"min-h-screen grid place-items-center p-6",children:b.jsxs("form",{onSubmit:u,className:"w-full max-w-sm bg-white p-6 rounded-2xl border shadow-soft space-y-3",children:[b.jsx("h2",{className:"text-lg font-semibold",children:"Admin Login"}),b.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"email",placeholder:"Email",value:e.email,onChange:h=>t(m=>({...m,email:h.target.value}))}),b.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"password",placeholder:"Password",value:e.password,onChange:h=>t(m=>({...m,password:h.target.value}))}),s&&b.jsx("p",{className:"text-sm text-red-600",children:s}),b.jsx("button",{className:"btn btn-primary w-full",children:"Sign In"})]})})}function kk(){const i=Xg(),[e,t]=L.useState(null),[s,o]=L.useState(null),[u,h]=L.useState(!1),[m,p]=L.useState(""),[g,E]=L.useState(""),[S,A]=L.useState(!1),[M,U]=L.useState(null);L.useEffect(()=>{p(i?.heroHeadline||""),E(i?.heroSub||"")},[i]);async function B(P){P.preventDefault(),A(!0);try{let q;if(e){const ne=`assets/hero/${Date.now()}_${e.name}`,Q=ms(ps,ne),ie=kf(Q,e);await new Promise((se,he)=>{ie.on("state_changed",N=>{const R=Math.round(N.bytesTransferred/N.totalBytes*100);U(R)},he,se)}),q=await qu(ie.snapshot.ref)}else s&&(q=s.url);await HO(lr(Qt,"site","settings"),{...q?{heroImage:q}:{},heroHeadline:m,heroSub:g,updatedAt:ar()},{merge:!0}),t(null),o(null)}finally{A(!1),U(null)}}return b.jsxs("section",{className:"bg-white border rounded-2xl p-4 shadow-soft space-y-3",children:[b.jsx("h2",{className:"font-semibold",children:"Hero Content"}),i?.heroImage&&b.jsx("img",{src:i.heroImage,alt:"",className:"h-28 w-full object-cover rounded"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"file",accept:"image/*",onChange:P=>t(P.target.files?.[0]||null)}),b.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>h(!0),children:"Choose from Library"})]}),s&&b.jsx("img",{src:s.url,alt:"",className:"h-20 rounded"}),b.jsx("input",{className:"border rounded-lg px-3 py-2 w-full",placeholder:"Headline",value:m,onChange:P=>p(P.target.value)}),b.jsx("input",{className:"border rounded-lg px-3 py-2 w-full",placeholder:"Subheadline",value:g,onChange:P=>E(P.target.value)}),b.jsx("button",{className:"btn btn-primary",onClick:B,disabled:S,children:S?M!=null?`Uploading ${M}%`:"Saving":"Save"}),b.jsx(Vf,{value:M}),b.jsx(Pf,{open:u,onClose:()=>h(!1),onSelect:o})]})}function Mk(){const[i,e]=L.useState(null),[t,s]=L.useState(null),[o,u]=L.useState(!1),[h,m]=L.useState("general"),[p,g]=L.useState(!1),[E,S]=L.useState(null);async function A(M){if(M.preventDefault(),!(!i&&!t)){g(!0);try{let U,B,P,q;if(i){const ne=`gallery/${Date.now()}_${i.name}`,Q=ms(ps,ne),ie=kf(Q,i);await new Promise((se,he)=>{ie.on("state_changed",N=>{const R=Math.round(N.bytesTransferred/N.totalBytes*100);S(R)},he,se)}),U=await qu(ie.snapshot.ref),B=ne,P=i.name.toLowerCase(),q=i.size}else U=t.url,B=t.path,P=t.name||"",q=t.size||0;await jg(pr(Qt,"images"),{url:U,path:B,category:h,name:P,size:q,createdAt:ar(),source:i?"upload":"library"}),e(null),s(null)}finally{g(!1),S(null)}}}return b.jsxs("section",{className:"bg-white border rounded-2xl p-4 shadow-soft",children:[b.jsx("h2",{className:"font-semibold mb-3",children:"Upload to Gallery"}),b.jsxs("form",{className:"flex flex-wrap items-center gap-3",onSubmit:A,children:[b.jsx("input",{type:"file",accept:"image/*",onChange:M=>e(M.target.files?.[0]||null)}),b.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>u(!0),children:"Choose from Library"}),b.jsxs("select",{className:"border rounded-lg px-3 py-2",value:h,onChange:M=>m(M.target.value),children:[b.jsx("option",{value:"general",children:"General"}),b.jsx("option",{value:"nails",children:"Nails"}),b.jsx("option",{value:"designs",children:"Designs"})]}),b.jsx("button",{className:"btn btn-primary",disabled:!i&&!t||p,children:p?E!=null?`Uploading ${E}%`:"Adding":"Add"})]}),b.jsx(Vf,{value:E}),t&&b.jsx("div",{className:"mt-3",children:b.jsx("img",{src:t.url,alt:"",className:"h-24 rounded"})}),b.jsx(Pf,{open:o,onClose:()=>u(!1),onSelect:s})]})}function Pk(){const[i,e]=L.useState([]),[t,s]=L.useState(null),[o,u]=L.useState(null);L.useEffect(()=>{const p=ga(pr(Qt,"images"),ur("createdAt","desc"));return ds(p,g=>e(g.docs.map(E=>({id:E.id,...E.data()}))))},[]);async function h(p){if(confirm("Delete this image?"))try{await $g(ms(ps,p.path)).catch(()=>{}),await Xw(lr(Qt,"images",p.id))}catch(E){console.error(E),alert("Couldnt delete. Try again.")}}async function m(p,g){try{u(p.id),await tf(lr(Qt,"images",p.id),{category:g,updatedAt:ar()})}finally{u(null)}}return b.jsxs("section",{children:[b.jsx("h2",{className:"font-semibold mb-3",children:"Manage Gallery"}),b.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(p=>b.jsxs("div",{className:"bg-white border rounded-2xl overflow-hidden shadow-soft",children:[b.jsx("div",{className:"aspect-[4/3] bg-neutral-100",children:b.jsx("img",{src:p.url,alt:p.alt||"",loading:"lazy",className:"w-full h-full object-contain p-1"})}),b.jsxs("div",{className:"flex items-center justify-between p-3 text-sm gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-neutral-600",children:"Category:"}),b.jsxs("select",{className:"border rounded-md px-2 py-1",value:p.category||"general",onChange:g=>m(p,g.target.value),children:[b.jsx("option",{value:"general",children:"General"}),b.jsx("option",{value:"nails",children:"Nails"}),b.jsx("option",{value:"designs",children:"Designs"})]}),o===p.id&&b.jsx("span",{className:"text-neutral-500",children:"Saving"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{className:"btn btn-ghost",onClick:()=>s(p),children:"Edit"}),b.jsx("button",{className:"btn btn-ghost",onClick:()=>h(p),children:"Delete"})]})]})]},p.id))}),t&&b.jsx(EditImageModal,{image:t,onClose:()=>s(null)})]})}function Vk(){const[i,e]=L.useState([]),[t,s]=L.useState(""),[o,u]=L.useState(""),[h,m]=L.useState(null),[p,g]=L.useState(null),[E,S]=L.useState(!1),[A,M]=L.useState(null),[U,B]=L.useState(!1);L.useEffect(()=>{const ie=ga(pr(Qt,"signatureLooks"),ur("order","asc"),ur("createdAt","asc"));return ds(ie,se=>e(se.docs.map(he=>({id:he.id,...he.data()}))))},[]);function P(){return i.length?Math.max(...i.map(ie=>ie.order??0))+1:1}async function q(ie){if(ie.preventDefault(),!t.trim())return alert("Title is required");if(!h&&!p)return alert("Pick an image");B(!0);try{let se,he,N,R,I;if(h){const O=`signature/${Date.now()}_${h.name}`,V=ms(ps,O),j=kf(V,h);await new Promise((x,ht)=>{j.on("state_changed",We=>M(Math.round(We.bytesTransferred/We.totalBytes*100)),ht,x)}),se=await qu(j.snapshot.ref),he=O,N=h.name.toLowerCase(),R=h.size,I="upload"}else p&&(se=p.url,he=p.path||null,N=p.name||"",R=p.size||0,I="library");await jg(pr(Qt,"signatureLooks"),{title:t.trim(),desc:o.trim(),imgUrl:se,path:he,name:N,size:R,source:I,order:P(),enabled:!0,createdAt:ar(),updatedAt:ar()}),s(""),u(""),m(null),g(null)}finally{B(!1),M(null)}}async function ne(ie,se){const he=i.findIndex(O=>O.id===ie);if(he<0)return;const N=he+se;if(N<0||N>=i.length)return;const R=i[he],I=i[N];await Promise.all([tf(lr(Qt,"signatureLooks",R.id),{order:I.order??0,updatedAt:ar()}),tf(lr(Qt,"signatureLooks",I.id),{order:R.order??0,updatedAt:ar()})])}async function Q(ie){if(confirm("Delete this card?"))try{await Xw(lr(Qt,"signatureLooks",ie.id)),ie.path&&await $g(ms(ps,ie.path)).catch(()=>{})}catch(he){console.error(he),alert("Couldnt delete.")}}return b.jsxs("section",{className:"bg-white border rounded-2xl p-4 shadow-soft space-y-4",children:[b.jsx("h2",{className:"font-semibold",children:"Signature Looks"}),b.jsxs("form",{className:"grid md:grid-cols-3 gap-3 items-start",onSubmit:q,children:[b.jsxs("div",{className:"md:col-span-2 grid gap-3",children:[b.jsx("input",{className:"border rounded-lg px-3 py-2 w-full",placeholder:"Title (e.g., Swarovski/Diamonds)",value:t,onChange:ie=>s(ie.target.value)}),b.jsx("input",{className:"border rounded-lg px-3 py-2 w-full",placeholder:"Description",value:o,onChange:ie=>u(ie.target.value)}),b.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[b.jsx("input",{type:"file",accept:"image/*",onChange:ie=>m(ie.target.files?.[0]||null)}),b.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>S(!0),children:"Choose from Library"}),p&&b.jsx("img",{src:p.url,alt:"",className:"h-12 rounded"})]}),A!=null&&b.jsx(Vf,{value:A})]}),b.jsx("div",{className:"md:pl-3",children:b.jsx("button",{className:"btn btn-primary w-full md:w-auto",disabled:U,children:U?A!=null?`Uploading ${A}%`:"Adding":"Add Card"})})]}),b.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((ie,se)=>b.jsx(Lk,{look:ie,index:se,total:i.length,onMoveUp:()=>ne(ie.id,-1),onMoveDown:()=>ne(ie.id,1),onDelete:()=>Q(ie)},ie.id))}),b.jsx(Pf,{open:E,onClose:()=>S(!1),onSelect:g})]})}function Lk({look:i,index:e,total:t,onMoveUp:s,onMoveDown:o,onDelete:u}){const[h,m]=L.useState(i.title||""),[p,g]=L.useState(i.desc||""),[E,S]=L.useState(i.enabled!==!1),[A,M]=L.useState(null),[U,B]=L.useState(null),[P,q]=L.useState(!1),[ne,Q]=L.useState(null),[ie,se]=L.useState(!1),[he,N]=L.useState(!0);L.useEffect(()=>{m(i.title||""),g(i.desc||""),S(i.enabled!==!1),M(null),B(null),Q(null)},[i.id]);async function R(){se(!0);try{let I=i.imgUrl,O=i.path,V=i.name,j=i.size,x=i.source;if(A||U){if(A){const ht=`signature/${Date.now()}_${A.name}`,We=ms(ps,ht),X=kf(We,A);await new Promise((le,me)=>{X.on("state_changed",Pe=>Q(Math.round(Pe.bytesTransferred/Pe.totalBytes*100)),me,le)}),I=await qu(X.snapshot.ref),O=ht,V=A.name.toLowerCase(),j=A.size,x="upload"}else U&&(I=U.url,O=U.path||null,V=U.name||V,j=U.size||j,x="library");he&&i.path&&i.path!==O&&await $g(ms(ps,i.path)).catch(()=>{})}await tf(lr(Qt,"signatureLooks",i.id),{title:h.trim(),desc:p.trim(),imgUrl:I,path:O,name:V,size:j,source:x,enabled:E,updatedAt:ar()})}finally{se(!1),Q(null)}}return b.jsxs("div",{className:"bg-white border rounded-2xl overflow-hidden shadow-soft",children:[b.jsx("div",{className:"relative aspect-[16/9] bg-neutral-100",children:b.jsx("img",{src:A?URL.createObjectURL(A):U?.url||i.imgUrl,alt:"",className:"absolute inset-0 h-full w-full object-cover"})}),b.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[b.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:h,onChange:I=>m(I.target.value)}),b.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:p,onChange:I=>g(I.target.value)}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx("input",{type:"file",accept:"image/*",onChange:I=>M(I.target.files?.[0]||null)}),b.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>q(!0),children:"Choose from Library"}),(A||U)&&b.jsxs("label",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",checked:he,onChange:I=>N(I.target.checked)}),b.jsx("span",{children:"Delete old file"})]})]}),ne!=null&&b.jsx(Vf,{value:ne}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{className:"btn btn-ghost",onClick:s,disabled:e===0,children:""}),b.jsx("button",{className:"btn btn-ghost",onClick:o,disabled:e===t-1,children:""})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("label",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",checked:E,onChange:I=>S(I.target.checked)}),b.jsx("span",{children:"Visible"})]}),b.jsx("button",{className:"btn btn-ghost",onClick:u,children:"Delete"}),b.jsx("button",{className:"btn btn-primary",onClick:R,disabled:ie,children:ie?"Saving":"Save"})]})]})]}),b.jsx(Pf,{open:P,onClose:()=>q(!1),onSelect:B})]})}function Uk(){return b.jsxs("main",{className:"mx-auto max-w-6xl px-4 py-14",children:[b.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold mb-8",children:["Services",""]}),b.jsxs("p",{className:"text-neutral-600 mb-10",children:["Full pricing menu coming soon. For quotes or availability,"," ",b.jsx(zt,{to:"/book",className:"underline",children:"book an appointment"})," or"," ",b.jsx(zt,{to:"/contact",className:"underline",children:"contact us"}),"."]}),b.jsx("section",{children:b.jsx(E1,{showViewAll:!1})})]})}function jk(){const[i,e]=L.useState([]),[t,s]=L.useState(null);return L.useEffect(()=>{const o=ga(pr(Qt,"images"),ur("createdAt","desc"));return ds(o,u=>e(u.docs.map(h=>({id:h.id,...h.data()}))))},[]),b.jsxs("section",{className:"mx-auto max-w-6xl px-4 py-10",children:[b.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Gallery"}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.map((o,u)=>b.jsx("button",{onClick:()=>s(u),className:`group block rounded-2xl\r
                       shadow-sm hover:shadow-xl hover:-translate-y-0.5\r
                       transition overflow-hidden`,children:b.jsx("div",{className:"aspect-[4/3] bg-transparent",children:b.jsx("img",{src:o.url,alt:"",loading:"lazy",className:`w-full h-full object-contain p-1\r
                           transition-transform duration-300 group-hover:scale-[1.02]`})})},o.id))}),t!=null&&b.jsx(zk,{images:i,index:t,onClose:()=>s(null)})]})}function zk({images:i,index:e,onClose:t}){const[s,o]=L.useState(e),u=L.useRef({x:0,y:0}),[h,m]=L.useState({x:0,y:0}),[p,g]=L.useState(0),[E,S]=L.useState(!1),A=60,M=70,U="cubic-bezier(.22,.61,.36,1)";L.useEffect(()=>{const Q=R=>{R.key==="Escape"&&t(),R.key==="ArrowRight"&&ne(1),R.key==="ArrowLeft"&&ne(-1)};window.addEventListener("keydown",Q);const ie=document.documentElement,se=ie.style.overflow,he=document.body.style.overflow,N=window.scrollY;return ie.style.overflow="hidden",document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${N}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%",()=>{window.removeEventListener("keydown",Q),ie.style.overflow=se,document.body.style.overflow=he;const R=Math.abs(parseInt(document.body.style.top||"0",10));document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",window.scrollTo(0,R)}},[t]);function B(Q){if(E)return;const ie=Q.touches?Q.touches[0]:Q;u.current={x:ie.clientX,y:ie.clientY},g(0),m({x:0,y:0})}function P(Q){if(E)return;const ie=Q.touches?Q.touches[0]:Q,se=ie.clientX-u.current.x,he=ie.clientY-u.current.y;Math.abs(se)>Math.abs(he)&&Q.preventDefault(),m({x:se,y:he})}function q(){if(E)return;const{x:Q,y:ie}=h;if(Math.abs(ie)>M&&Math.abs(ie)>Math.abs(Q)){g(180),t();return}if(Math.abs(Q)<=A){g(180),m({x:0,y:0});return}const se=Q<0?1:-1;ne(se)}function ne(Q){if(E)return;S(!0);const ie=(typeof window<"u"?window.innerWidth:1e3)*1.1;g(260),m({x:Q*ie,y:0}),setTimeout(()=>{g(0),o(se=>Q>0?(se+1)%i.length:(se-1+i.length)%i.length),m({x:-Q*ie,y:0}),requestAnimationFrame(()=>{g(260),m({x:0,y:0}),setTimeout(()=>S(!1),280)})},270)}return b.jsxs("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 z-[11000] bg-black/70 backdrop-blur-sm flex items-center justify-center",style:{touchAction:"none"},onTouchStart:B,onTouchMove:P,onTouchEnd:q,onMouseDown:B,onMouseMove:Q=>{Q.buttons===1&&P(Q)},onMouseUp:q,children:[b.jsx("button",{className:"absolute top-3 right-3 w-10 h-10 grid place-items-center rounded-full bg-black/70 hover:bg-black text-white",onClick:t,"aria-label":"Close",children:b.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:b.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),b.jsx("button",{className:"absolute left-2 md:left-4 top-1/2 -translate-y-1/2 w-10 h-10 md:w-12 md:h-12 grid place-items-center rounded-full bg-black/60 hover:bg-black text-white select-none",onClick:()=>ne(-1),"aria-label":"Previous",children:b.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:b.jsx("path",{d:"M15 6l-6 6 6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),b.jsx("img",{src:i[s].url,alt:"",className:"max-w-[92vw] max-h-[86vh] object-contain rounded-xl shadow-2xl select-none",draggable:!1,style:{transform:`translateX(${h.x}px)`,transition:`transform ${p}ms ${U}`}}),b.jsx("button",{className:"absolute right-2 md:right-4 top-1/2 -translate-y-1/2 w-10 h-10 md:w-12 md:h-12 grid place-items-center rounded-full bg-black/60 hover:bg-black text-white select-none",onClick:()=>ne(1),"aria-label":"Next",children:b.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:b.jsx("path",{d:"M9 6l6 6-6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}function Bk(){const[i,e]=L.useState(!1),t="https://app.squareup.com/appointments/book/hiowoby9ly2y2x/LX68WJMN6NYDA/start";return b.jsx("main",{className:"min-h-screen bg-white text-gray-900",children:b.jsxs("section",{className:"mx-auto max-w-5xl px-4 py-10",children:[b.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:"Book an Appointment"}),b.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Pick a service, then choose your date & time. Youll ",b.jsx("span",{className:"font-medium",children:"pay in person"})," at your visit."]}),b.jsxs("div",{className:"mt-6 rounded-2xl border border-gray-200 p-4",children:[b.jsx("h2",{className:"text-base font-semibold",children:"Booking Policies"}),b.jsxs("ul",{className:"mt-2 text-sm list-disc pl-5 space-y-1",children:[b.jsx("li",{children:"Please arrive 510 minutes early."}),b.jsx("li",{children:"24hour reschedule window. Noshows may require a deposit next time."}),b.jsx("li",{children:"If youre sick, message us to reschedule  no fee."})]})]}),b.jsxs("div",{className:"mt-8",children:[!i&&b.jsx("div",{className:"mb-3 rounded-xl border border-gray-200 p-4 text-sm",children:"Loading the booking calendar"}),b.jsx("div",{className:"relative w-full",style:{minHeight:"90vh"},children:b.jsx("iframe",{title:"Blessed N Polished  Booking",src:t,className:"absolute inset-0 h-full w-full rounded-2xl border-0",onLoad:()=>e(!0),loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),b.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[b.jsx("a",{href:t,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-2xl px-5 py-3 text-white bg-black hover:opacity-90 transition",children:"Open Full Booking Page"}),b.jsx("span",{className:"text-xs text-gray-500",children:"Use this if the embed doesnt load."})]})]})]})})}class Hu{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const qk=()=>{if(!(typeof localStorage>"u"))return{get:i=>Promise.resolve(localStorage.getItem(i)),set:(i,e)=>Promise.resolve(localStorage.setItem(i,e)),remove:i=>Promise.resolve(localStorage.removeItem(i))}},Yt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:qk()},Wg=i=>i?typeof i=="string"?{publicKey:i}:i.toString()==="[object Object]"?i:{}:{},Hk=(i,e="https://api.emailjs.com")=>{if(!i)return;const t=Wg(i);Yt.publicKey=t.publicKey,Yt.blockHeadless=t.blockHeadless,Yt.storageProvider=t.storageProvider,Yt.blockList=t.blockList,Yt.limitRate=t.limitRate,Yt.origin=t.origin||e},T1=async(i,e,t={})=>{const s=await fetch(Yt.origin+i,{method:"POST",headers:t,body:e}),o=await s.text(),u=new Hu(s.status,o);if(s.ok)return u;throw u},b1=(i,e,t)=>{if(!i||typeof i!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Fk=i=>{if(i&&i.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},w1=i=>i.webdriver||!i.languages||i.languages.length===0,S1=()=>new Hu(451,"Unavailable For Headless Browser"),Gk=(i,e)=>{if(!Array.isArray(i))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Kk=i=>!i.list?.length||!i.watchVariable,Yk=(i,e)=>i instanceof FormData?i.get(e):i[e],A1=(i,e)=>{if(Kk(i))return!1;Gk(i.list,i.watchVariable);const t=Yk(e,i.watchVariable);return typeof t!="string"?!1:i.list.includes(t)},R1=()=>new Hu(403,"Forbidden"),$k=(i,e)=>{if(typeof i!="number"||i<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},Qk=async(i,e,t)=>{const s=Number(await t.get(i)||0);return e-Date.now()+s},I1=async(i,e,t)=>{if(!e.throttle||!t)return!1;$k(e.throttle,e.id);const s=e.id||i;return await Qk(s,e.throttle,t)>0?!0:(await t.set(s,Date.now().toString()),!1)},C1=()=>new Hu(429,"Too Many Requests"),Xk=async(i,e,t,s)=>{const o=Wg(s),u=o.publicKey||Yt.publicKey,h=o.blockHeadless||Yt.blockHeadless,m=o.storageProvider||Yt.storageProvider,p={...Yt.blockList,...o.blockList},g={...Yt.limitRate,...o.limitRate};return h&&w1(navigator)?Promise.reject(S1()):(b1(u,i,e),Fk(t),t&&A1(p,t)?Promise.reject(R1()):await I1(location.pathname,g,m)?Promise.reject(C1()):T1("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:u,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"}))},Wk=i=>{if(!i||i.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Zk=i=>typeof i=="string"?document.querySelector(i):i,Jk=async(i,e,t,s)=>{const o=Wg(s),u=o.publicKey||Yt.publicKey,h=o.blockHeadless||Yt.blockHeadless,m=Yt.storageProvider||o.storageProvider,p={...Yt.blockList,...o.blockList},g={...Yt.limitRate,...o.limitRate};if(h&&w1(navigator))return Promise.reject(S1());const E=Zk(t);b1(u,i,e),Wk(E);const S=new FormData(E);return A1(p,S)?Promise.reject(R1()):await I1(location.pathname,g,m)?Promise.reject(C1()):(S.append("lib_version","4.4.1"),S.append("service_id",i),S.append("template_id",e),S.append("user_id",u),T1("/api/v1.0/email/send-form",S))},eM={init:Hk,send:Xk,sendForm:Jk,EmailJSResponseStatus:Hu};function tM(){const i=Xg(),[e,t]=L.useState({name:"",email:"",phone:"",message:""}),[s,o]=L.useState(!1),[u,h]=L.useState(!1),[m,p]=L.useState(""),g=L.useRef(null),E=i?.phone||"",S=i?.email||"blessednpolished@gmail.com",A=i?.instagram||"reinakatrina84",M=i?.serviceArea||i?.city||"Buckeye, AZ  Sundance",U=i?.byApptOnly??!0;async function B(P){if(P.preventDefault(),p(""),!e.name.trim())return p("Please enter your name.");if(!e.email.trim()&&!e.phone.trim())return p("Add an email or phone.");if(e.email&&!/.+@.+\..+/.test(e.email))return p("That email looks off.");if(e.message.trim().length<5)return p("Add a short message.");if(!g.current?.value){o(!0);try{await jg(pr(Qt,"contactMessages"),{...e,createdAt:ar(),source:"website"}),await eM.send("service_4qvud2c","template_7ron76e",{title:"Website Contact",name:e.name,email:e.email||"no-email@site",phone:e.phone||"n/a",message:e.message,time:new Date().toLocaleString()},"pfHzESbvoAzCi3NYH"),h(!0),t({name:"",email:"",phone:"",message:""})}catch(q){console.error(q),p("Couldnt send right now. Please try again.")}finally{o(!1)}}}return b.jsxs("section",{className:"mx-auto max-w-6xl px-4 py-10 md:py-16",children:[b.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-8",children:"Contact"}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"rounded-2xl bg-white ring-1 ring-black/5 shadow-soft p-6 space-y-5",children:[U&&b.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-black text-white text-xs px-3 py-1",children:"By appointment only"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm text-neutral-600",children:"Location"}),b.jsxs("div",{className:"text-lg font-medium",children:[M," ",b.jsx("span",{className:"text-neutral-500",children:" address shared after booking"})]})]}),E&&b.jsxs("div",{children:[b.jsx("div",{className:"text-sm text-neutral-600",children:"Phone"}),b.jsx("a",{className:"text-lg font-medium hover:underline",href:`tel:${E.replace(/[^\d+]/g,"")}`,children:E}),b.jsxs("div",{className:"mt-2 flex gap-2",children:[b.jsx("a",{className:"btn btn-ghost btn-sm",href:`sms:${E.replace(/[^\d+]/g,"")}`,children:"Text"}),b.jsx("a",{className:"btn btn-ghost btn-sm",href:`tel:${E.replace(/[^\d+]/g,"")}`,children:"Call"})]})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm text-neutral-600",children:"Email"}),b.jsx("a",{className:"text-lg font-medium hover:underline",href:`mailto:${S}`,children:S})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm text-neutral-600",children:"Instagram"}),b.jsxs("a",{className:"text-lg font-medium hover:underline",target:"_blank",rel:"noreferrer",href:`https://instagram.com/${A.replace(/^@/,"")}`,children:["@",A.replace(/^@/,"")]})]})]}),b.jsx("div",{className:"rounded-2xl bg-white ring-1 ring-black/5 shadow-soft p-6",children:u?b.jsxs("div",{className:"text-center py-10",children:[b.jsx("div",{className:"text-2xl mb-2",children:" Thanks!"}),b.jsx("p",{className:"text-neutral-700",children:"We got your message and will get back to you soon."}),b.jsx("button",{className:"btn btn-primary mt-6",onClick:()=>h(!1),children:"Send another"})]}):b.jsxs("form",{className:"space-y-4",onSubmit:B,children:[b.jsx("input",{ref:g,className:"hidden",tabIndex:-1,autoComplete:"off",placeholder:"Company"}),b.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm mb-1",children:"Name"}),b.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:e.name,onChange:P=>t(q=>({...q,name:P.target.value})),autoComplete:"name",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm mb-1",children:"Phone"}),b.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:e.phone,onChange:P=>t(q=>({...q,phone:P.target.value})),autoComplete:"tel",placeholder:"Optional"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm mb-1",children:"Email"}),b.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:e.email,onChange:P=>t(q=>({...q,email:P.target.value})),type:"email",autoComplete:"email",placeholder:"name@email.com"}),b.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Add email or phone (either one works)."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm mb-1",children:"Message"}),b.jsx("textarea",{className:"w-full border rounded-lg px-3 py-2 min-h-[120px]",value:e.message,onChange:P=>t(q=>({...q,message:P.target.value})),required:!0})]}),m&&b.jsx("p",{className:"text-sm text-red-600",children:m}),b.jsx("button",{className:"btn btn-primary",disabled:s,children:s?"Sending":"Send Message"})]})})]})]})}lA.createRoot(document.getElementById("root")).render(b.jsx(es.StrictMode,{children:b.jsx(SR,{children:b.jsxs(tR,{children:[b.jsxs(Yr,{element:b.jsx(Rk,{}),children:[b.jsx(Yr,{index:!0,element:b.jsx(Nk,{})}),b.jsx(Yr,{path:"services",element:b.jsx(Uk,{})}),b.jsx(Yr,{path:"gallery",element:b.jsx(jk,{})}),b.jsx(Yr,{path:"book",element:b.jsx(Bk,{})}),b.jsx(Yr,{path:"contact",element:b.jsx(tM,{})})]}),b.jsx(Yr,{path:"admin",element:b.jsx(Dk,{})})]})})}));
